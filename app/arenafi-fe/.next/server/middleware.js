(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{19:(a,b)=>{"use strict";b.qg=function(a,b){let c=new h,d=a.length;if(d<2)return c;let e=b?.decode||k,f=0;do{let b=a.indexOf("=",f);if(-1===b)break;let g=a.indexOf(";",f),h=-1===g?d:g;if(b>h){f=a.lastIndexOf(";",b-1)+1;continue}let k=i(a,f,b),l=j(a,b,k),m=a.slice(k,l);if(void 0===c[m]){let d=i(a,b+1,h),f=j(a,h,d),g=e(a.slice(d,f));c[m]=g}f=h+1}while(f<d);return c},b.lK=function(a,b,h){let i=h?.encode||encodeURIComponent;if(!c.test(a))throw TypeError(`argument name is invalid: ${a}`);let j=i(b);if(!d.test(j))throw TypeError(`argument val is invalid: ${b}`);let k=a+"="+j;if(!h)return k;if(void 0!==h.maxAge){if(!Number.isInteger(h.maxAge))throw TypeError(`option maxAge is invalid: ${h.maxAge}`);k+="; Max-Age="+h.maxAge}if(h.domain){if(!e.test(h.domain))throw TypeError(`option domain is invalid: ${h.domain}`);k+="; Domain="+h.domain}if(h.path){if(!f.test(h.path))throw TypeError(`option path is invalid: ${h.path}`);k+="; Path="+h.path}if(h.expires){var l;if(l=h.expires,"[object Date]"!==g.call(l)||!Number.isFinite(h.expires.valueOf()))throw TypeError(`option expires is invalid: ${h.expires}`);k+="; Expires="+h.expires.toUTCString()}if(h.httpOnly&&(k+="; HttpOnly"),h.secure&&(k+="; Secure"),h.partitioned&&(k+="; Partitioned"),h.priority)switch("string"==typeof h.priority?h.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${h.priority}`)}if(h.sameSite)switch("string"==typeof h.sameSite?h.sameSite.toLowerCase():h.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${h.sameSite}`)}return k};let c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,d=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,f=/^[\u0020-\u003A\u003D-\u007E]*$/,g=Object.prototype.toString,h=(()=>{let a=function(){};return a.prototype=Object.create(null),a})();function i(a,b,c){do{let c=a.charCodeAt(b);if(32!==c&&9!==c)return b}while(++b<c);return c}function j(a,b,c){for(;b>c;){let c=a.charCodeAt(--b);if(32!==c&&9!==c)return b+1}return c}function k(a){if(-1===a.indexOf("%"))return a;try{return decodeURIComponent(a)}catch(b){return a}}},165:(a,b,c)=>{"use strict";var d=c(356).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{handleFetch:function(){return h},interceptFetch:function(){return i},reader:function(){return f}});let e=c(392),f={url:a=>a.url,header:(a,b)=>a.headers.get(b)};async function g(a,b){let{url:c,method:e,headers:f,body:g,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}=b;return{testData:a,api:"fetch",request:{url:c,method:e,headers:[...Array.from(f),["next-test-stack",function(){let a=(Error().stack??"").split("\n");for(let b=1;b<a.length;b++)if(a[b].length>0){a=a.slice(b);break}return(a=(a=(a=a.filter(a=>!a.includes("/next/dist/"))).slice(0,5)).map(a=>a.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:g?d.from(await b.arrayBuffer()).toString("base64"):null,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}}}async function h(a,b){let c=(0,e.getTestReqInfo)(b,f);if(!c)return a(b);let{testData:h,proxyPort:i}=c,j=await g(h,b),k=await a(`http://localhost:${i}`,{method:"POST",body:JSON.stringify(j),next:{internal:!0}});if(!k.ok)throw Object.defineProperty(Error(`Proxy request failed: ${k.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let l=await k.json(),{api:m}=l;switch(m){case"continue":return a(b);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${b.method} ${b.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:n,headers:o,body:p}=l.response;return new Response(p?d.from(p,"base64"):null,{status:n,headers:new Headers(o)});default:return m}}function i(a){return c.g.fetch=function(b,c){var d;return(null==c||null==(d=c.next)?void 0:d.internal)?a(b,c):h(a,new Request(b,c))},()=>{c.g.fetch=a}}},213:a=>{(()=>{"use strict";var b={993:a=>{var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},213:a=>{a.exports=(a,b)=>(b=b||(()=>{}),a.then(a=>new Promise(a=>{a(b())}).then(()=>a),a=>new Promise(a=>{a(b())}).then(()=>{throw a})))},574:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c){let d=0,e=a.length;for(;e>0;){let f=e/2|0,g=d+f;0>=c(a[g],b)?(d=++g,e-=f+1):e=f}return d}},821:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let d=c(574);class e{constructor(){this._queue=[]}enqueue(a,b){let c={priority:(b=Object.assign({priority:0},b)).priority,run:a};if(this.size&&this._queue[this.size-1].priority>=b.priority)return void this._queue.push(c);let e=d.default(this._queue,c,(a,b)=>b.priority-a.priority);this._queue.splice(e,0,c)}dequeue(){let a=this._queue.shift();return null==a?void 0:a.run}filter(a){return this._queue.filter(b=>b.priority===a.priority).map(a=>a.run)}get size(){return this._queue.length}}b.default=e},816:(a,b,c)=>{let d=c(213);class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}let f=(a,b,c)=>new Promise((f,g)=>{if("number"!=typeof b||b<0)throw TypeError("Expected `milliseconds` to be a positive number");if(b===1/0)return void f(a);let h=setTimeout(()=>{if("function"==typeof c){try{f(c())}catch(a){g(a)}return}let d="string"==typeof c?c:`Promise timed out after ${b} milliseconds`,h=c instanceof Error?c:new e(d);"function"==typeof a.cancel&&a.cancel(),g(h)},b);d(a.then(f,g),()=>{clearTimeout(h)})});a.exports=f,a.exports.default=f,a.exports.TimeoutError=e}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e={};(()=>{Object.defineProperty(e,"__esModule",{value:!0});let a=d(993),b=d(816),c=d(821),f=()=>{},g=new b.TimeoutError;class h extends a{constructor(a){var b,d,e,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=f,this._resolveIdle=f,!("number"==typeof(a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},a)).intervalCap&&a.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(d=null==(b=a.intervalCap)?void 0:b.toString())?d:""}\` (${typeof a.intervalCap})`);if(void 0===a.interval||!(Number.isFinite(a.interval)&&a.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(g=null==(e=a.interval)?void 0:e.toString())?g:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||0===a.interval,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=!0===a.throwOnTimeout,this._isPaused=!1===a.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=f,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=f,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let a=Date.now();if(void 0===this._intervalId){let b=this._intervalEnd-a;if(!(b<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},b)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let b=this._queue.dequeue();return!!b&&(this.emit("active"),b(),a&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!("number"==typeof a&&a>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,c={}){return new Promise((d,e)=>{let f=async()=>{this._pendingCount++,this._intervalCount++;try{let f=void 0===this._timeout&&void 0===c.timeout?a():b.default(Promise.resolve(a()),void 0===c.timeout?this._timeout:c.timeout,()=>{(void 0===c.throwOnTimeout?this._throwOnTimeout:c.throwOnTimeout)&&e(g)});d(await f)}catch(a){e(a)}this._next()};this._queue.enqueue(f,c),this._tryToStartAnother(),this.emit("add")})}async addAll(a,b){return Promise.all(a.map(async a=>this.add(a,b)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(a=>{let b=this._resolveEmpty;this._resolveEmpty=()=>{b(),a()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(a=>{let b=this._resolveIdle;this._resolveIdle=()=>{b(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}e.default=h})(),a.exports=e})()},238:(a,b,c)=>{"use strict";b.kf=b.le=b.ZS=b.pT=b.lc=b.tE=void 0;let d=c(613),e=d.__importDefault(c(784));b.tE=e.default;let f=d.__importDefault(c(399));b.lc=f.default;let g=d.__importDefault(c(734));b.pT=g.default;let h=d.__importDefault(c(412));b.ZS=h.default;let i=d.__importDefault(c(320));b.le=i.default;let j=d.__importDefault(c(911));b.kf=j.default,e.default,f.default,g.default,h.default,i.default,j.default},240:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Headers:()=>g,Request:()=>h,Response:()=>i,default:()=>f,fetch:()=>e});var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==c.g)return c.g;throw Error("unable to locate global object")}();let e=d.fetch,f=d.fetch.bind(d),g=d.Headers,h=d.Request,i=d.Response},320:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(613),e=d.__importDefault(c(240)),f=d.__importDefault(c(911));class g{constructor(a){var b,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=null!=(b=a.shouldThrowOnError)&&b,this.signal=a.signal,this.isMaybeSingle=null!=(c=a.isMaybeSingle)&&c,a.fetch?this.fetch=a.fetch:"undefined"==typeof fetch?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,b){return this.headers=new Headers(this.headers),this.headers.set(a,b),this}then(a,b){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let c=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var b,c,d,e;let g=null,h=null,i=null,j=a.status,k=a.statusText;if(a.ok){if("HEAD"!==this.method){let c=await a.text();""===c||(h="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null==(b=this.headers.get("Accept"))?void 0:b.includes("application/vnd.pgrst.plan+text"))?c:JSON.parse(c))}let e=null==(c=this.headers.get("Prefer"))?void 0:c.match(/count=(exact|planned|estimated)/),f=null==(d=a.headers.get("content-range"))?void 0:d.split("/");e&&f&&f.length>1&&(i=parseInt(f[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(h)&&(h.length>1?(g={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,i=null,j=406,k="Not Acceptable"):h=1===h.length?h[0]:null)}else{let b=await a.text();try{g=JSON.parse(b),Array.isArray(g)&&404===a.status&&(h=[],g=null,j=200,k="OK")}catch(c){404===a.status&&""===b?(j=204,k="No Content"):g={message:b}}if(g&&this.isMaybeSingle&&(null==(e=null==g?void 0:g.details)?void 0:e.includes("0 rows"))&&(g=null,j=200,k="OK"),g&&this.shouldThrowOnError)throw new f.default(g)}return{error:g,data:h,count:i,status:j,statusText:k}});return this.shouldThrowOnError||(c=c.catch(a=>{var b,c,d;return{error:{message:`${null!=(b=null==a?void 0:a.name)?b:"FetchError"}: ${null==a?void 0:a.message}`,details:`${null!=(c=null==a?void 0:a.stack)?c:""}`,hint:"",code:`${null!=(d=null==a?void 0:a.code)?d:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,b)}returns(){return this}overrideTypes(){return this}}b.default=g},339:a=>{a.exports=wasm_84cc0ea09c195730405b105ca3e0c353e8d458a9},356:a=>{"use strict";a.exports=require("node:buffer")},392:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getTestReqInfo:function(){return g},withRequest:function(){return f}});let d=new(c(521)).AsyncLocalStorage;function e(a,b){let c=b.header(a,"next-test-proxy-port");if(!c)return;let d=b.url(a);return{url:d,proxyPort:Number(c),testData:b.header(a,"next-test-data")||""}}function f(a,b,c){let f=e(a,b);return f?d.run(f,c):c()}function g(a,b){let c=d.getStore();return c||(a&&b?e(a,b):void 0)}},399:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(613).__importDefault(c(734));class e{constructor(a,{headers:b={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(b),this.schema=c,this.fetch=d}select(a,b){let{head:c=!1,count:e}=null!=b?b:{},f=!1,g=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!f?"":('"'===a&&(f=!f),a)).join("");return this.url.searchParams.set("select",g),e&&this.headers.append("Prefer",`count=${e}`),new d.default({method:c?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:b,defaultToNull:c=!0}={}){var e;if(b&&this.headers.append("Prefer",`count=${b}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);this.url.searchParams.set("columns",a.join(","))}}return new d.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:null!=(e=this.fetch)?e:fetch})}upsert(a,{onConflict:b,ignoreDuplicates:c=!1,count:e,defaultToNull:f=!0}={}){var g;if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),void 0!==b&&this.url.searchParams.set("on_conflict",b),e&&this.headers.append("Prefer",`count=${e}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);this.url.searchParams.set("columns",a.join(","))}}return new d.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:null!=(g=this.fetch)?g:fetch})}update(a,{count:b}={}){var c;return b&&this.headers.append("Prefer",`count=${b}`),new d.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:null!=(c=this.fetch)?c:fetch})}delete({count:a}={}){var b;return a&&this.headers.append("Prefer",`count=${a}`),new d.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!=(b=this.fetch)?b:fetch})}}b.default=e},412:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(613).__importDefault(c(320));class e extends d.default{select(a){let b=!1,c=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!b?"":('"'===a&&(b=!b),a)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:b=!0,nullsFirst:c,foreignTable:d,referencedTable:e=d}={}){let f=e?`${e}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${b?"asc":"desc"}${void 0===c?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:b,referencedTable:c=b}={}){let d=void 0===c?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,b,{foreignTable:c,referencedTable:d=c}={}){let e=void 0===d?"offset":`${d}.offset`,f=void 0===d?"limit":`${d}.limit`;return this.url.searchParams.set(e,`${a}`),this.url.searchParams.set(f,`${b-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:b=!1,settings:c=!1,buffers:d=!1,wal:e=!1,format:f="text"}={}){var g;let h=[a?"analyze":null,b?"verbose":null,c?"settings":null,d?"buffers":null,e?"wal":null].filter(Boolean).join("|"),i=null!=(g=this.headers.get("Accept"))?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${i}"; options=${h};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}b.default=e},440:(a,b)=>{"use strict";Symbol.for("react.transitional.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;Object.prototype.hasOwnProperty,Object.assign},443:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};function g(a){var b;let c=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||0===a.expires)&&`Expires=${("number"==typeof a.expires?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&"number"==typeof a.maxAge&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),d=`${a.name}=${encodeURIComponent(null!=(b=a.value)?b:"")}`;return 0===c.length?d:`${d}; ${c.join("; ")}`}function h(a){let b=new Map;for(let c of a.split(/; */)){if(!c)continue;let a=c.indexOf("=");if(-1===a){b.set(c,"true");continue}let[d,e]=[c.slice(0,a),c.slice(a+1)];try{b.set(d,decodeURIComponent(null!=e?e:"true"))}catch{}}return b}function i(a){if(!a)return;let[[b,c],...d]=h(a),{domain:e,expires:f,httponly:g,maxage:i,path:l,samesite:m,secure:n,partitioned:o,priority:p}=Object.fromEntries(d.map(([a,b])=>[a.toLowerCase().replace(/-/g,""),b]));{var q,r,s={name:b,value:decodeURIComponent(c),domain:e,...f&&{expires:new Date(f)},...g&&{httpOnly:!0},..."string"==typeof i&&{maxAge:Number(i)},path:l,...m&&{sameSite:j.includes(q=(q=m).toLowerCase())?q:void 0},...n&&{secure:!0},...p&&{priority:k.includes(r=(r=p).toLowerCase())?r:void 0},...o&&{partitioned:!0}};let a={};for(let b in s)s[b]&&(a[b]=s[b]);return a}}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{RequestCookies:()=>l,ResponseCookies:()=>m,parseCookie:()=>h,parseSetCookie:()=>i,stringifyCookie:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var j=["strict","lax","none"],k=["low","medium","high"],l=class{constructor(a){this._parsed=new Map,this._headers=a;let b=a.get("cookie");if(b)for(let[a,c]of h(b))this._parsed.set(a,{name:a,value:c})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed);if(!a.length)return c.map(([a,b])=>b);let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(([a])=>a===d).map(([a,b])=>b)}has(a){return this._parsed.has(a)}set(...a){let[b,c]=1===a.length?[a[0].name,a[0].value]:a,d=this._parsed;return d.set(b,{name:b,value:c}),this._headers.set("cookie",Array.from(d).map(([a,b])=>g(b)).join("; ")),this}delete(a){let b=this._parsed,c=Array.isArray(a)?a.map(a=>b.delete(a)):b.delete(a);return this._headers.set("cookie",Array.from(b).map(([a,b])=>g(b)).join("; ")),c}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},m=class{constructor(a){var b,c,d;this._parsed=new Map,this._headers=a;let e=null!=(d=null!=(c=null==(b=a.getSetCookie)?void 0:b.call(a))?c:a.get("set-cookie"))?d:[];for(let a of Array.isArray(e)?e:function(a){if(!a)return[];var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}(e)){let b=i(a);b&&this._parsed.set(b.name,b)}}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed.values());if(!a.length)return c;let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(a=>a.name===d)}has(a){return this._parsed.has(a)}set(...a){let[b,c,d]=1===a.length?[a[0].name,a[0].value,a[0]]:a,e=this._parsed;return e.set(b,function(a={name:"",value:""}){return"number"==typeof a.expires&&(a.expires=new Date(a.expires)),a.maxAge&&(a.expires=new Date(Date.now()+1e3*a.maxAge)),(null===a.path||void 0===a.path)&&(a.path="/"),a}({name:b,value:c,...d})),function(a,b){for(let[,c]of(b.delete("set-cookie"),a)){let a=g(c);b.append("set-cookie",a)}}(e,this._headers),this}delete(...a){let[b,c]="string"==typeof a[0]?[a[0]]:[a[0].name,a[0]];return this.set({...c,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(g).join("; ")}}},449:(a,b,c)=>{var d;(()=>{var e={226:function(e,f){!function(g,h){"use strict";var i="function",j="undefined",k="object",l="string",m="major",n="model",o="name",p="type",q="vendor",r="version",s="architecture",t="console",u="mobile",v="tablet",w="smarttv",x="wearable",y="embedded",z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="Microsoft",J="Motorola",K="Opera",L="Samsung",M="Sharp",N="Sony",O="Xiaomi",P="Zebra",Q="Facebook",R="Chromium OS",S="Mac OS",T=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},U=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},V=function(a,b){return typeof a===l&&-1!==W(b).indexOf(W(a))},W=function(a){return a.toLowerCase()},X=function(a,b){if(typeof a===l)return a=a.replace(/^\s\s*/,""),typeof b===j?a:a.substring(0,350)},Y=function(a,b){for(var c,d,e,f,g,j,l=0;l<b.length&&!g;){var m=b[l],n=b[l+1];for(c=d=0;c<m.length&&!g&&m[c];)if(g=m[c++].exec(a))for(e=0;e<n.length;e++)j=g[++d],typeof(f=n[e])===k&&f.length>0?2===f.length?typeof f[1]==i?this[f[0]]=f[1].call(this,j):this[f[0]]=f[1]:3===f.length?typeof f[1]!==i||f[1].exec&&f[1].test?this[f[0]]=j?j.replace(f[1],f[2]):void 0:this[f[0]]=j?f[1].call(this,j,f[2]):void 0:4===f.length&&(this[f[0]]=j?f[3].call(this,j.replace(f[1],f[2])):h):this[f]=j||h;l+=2}},Z=function(a,b){for(var c in b)if(typeof b[c]===k&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(V(b[c][d],a))return"?"===c?h:c}else if(V(b[c],a))return"?"===c?h:c;return a},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r,[o,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[o,r],[/opios[\/ ]+([\w\.]+)/i],[r,[o,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[r,[o,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[o,r],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[r,[o,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[r,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r,[o,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[r,[o,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[r,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure "+D],r],[/\bfocus\/([\w\.]+)/i],[r,[o,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[r,[o,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[r,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[r,[o,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[r,[o,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[o,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 "+D],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[o,r],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[o],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[o,Q],r],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[o,r],[/\bgsa\/([\w\.]+) .*safari\//i],[r,[o,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[r,[o,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[r,[o,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[o,E+" WebView"],r],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[r,[o,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[o,r],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[r,o],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[o,[r,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[o,"Netscape"],r],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[r,[o,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[o,r],[/(cobalt)\/([\w\.]+)/i],[o,[r,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,W]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[s,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[s,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[n,[q,L],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[n,[q,L],[p,u]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[n,[q,A],[p,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[n,[q,A],[p,v]],[/(macintosh);/i],[n,[q,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[n,[q,M],[p,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[n,[q,H],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[n,[q,H],[p,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[n,[q,"OPPO"],[p,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[n,[q,"Vivo"],[p,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[n,[q,"Realme"],[p,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[n,[q,J],[p,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[n,[q,J],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[n,[q,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[n,[q,"LG"],[p,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[n,[q,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[n,/_/g," "],[q,"Nokia"],[p,u]],[/(pixel c)\b/i],[n,[q,G],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[n,[q,G],[p,u]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[q,N],[p,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[n,"Xperia Tablet"],[q,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[n,[q,"OnePlus"],[p,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[n,[q,z],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[n,/(.+)/g,"Fire Phone $1"],[q,z],[p,u]],[/(playbook);[-\w\),; ]+(rim)/i],[n,q,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[n,[q,C],[p,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[n,[q,B],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[n,[q,B],[p,u]],[/(nexus 9)/i],[n,[q,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[n,/_/g," "],[p,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[n,[q,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[n,[q,"Meizu"],[p,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,n,[p,u]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,n,[p,v]],[/(surface duo)/i],[n,[q,I],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[n,[q,"Fairphone"],[p,u]],[/(u304aa)/i],[n,[q,"AT&T"],[p,u]],[/\bsie-(\w*)/i],[n,[q,"Siemens"],[p,u]],[/\b(rct\w+) b/i],[n,[q,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[n,[q,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[n,[q,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[n,[q,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[n,[q,"NuVision"],[p,v]],[/\b(k88) b/i],[n,[q,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[n,[q,"ZTE"],[p,u]],[/\b(gen\d{3}) b.+49h/i],[n,[q,"Swiss"],[p,u]],[/\b(zur\d{3}) b/i],[n,[q,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[n,[q,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],n,[p,v]],[/\b(ns-?\w{0,9}) b/i],[n,[q,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[n,[q,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],n,[p,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],n,[p,u]],[/\b(ph-1) /i],[n,[q,"Essential"],[p,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[n,[q,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[n,[q,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[n,[q,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[n,[q,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[q,n,[p,u]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[q,I],[p,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[n,[q,P],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[n,[q,P],[p,u]],[/smart-tv.+(samsung)/i],[q,[p,w]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[q,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[p,w]],[/(apple) ?tv/i],[q,[n,A+" TV"],[p,w]],[/crkey/i],[[n,E+"cast"],[q,G],[p,w]],[/droid.+aft(\w)( bui|\))/i],[n,[q,z],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[n,[q,M],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[n,[q,N],[p,w]],[/(mitv-\w{5}) bui/i],[n,[q,O],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[q,n,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,X],[n,X],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,n,[p,t]],[/droid.+; (shield) bui/i],[n,[q,"Nvidia"],[p,t]],[/(playstation [345portablevi]+)/i],[n,[q,N],[p,t]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[n,[q,I],[p,t]],[/((pebble))app/i],[q,n,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[n,[q,A],[p,x]],[/droid.+; (glass) \d/i],[n,[q,G],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[n,[q,P],[p,x]],[/(quest( 2| pro)?)/i],[n,[q,Q],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[p,y]],[/(aeobc)\b/i],[n,[q,z],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[n,[p,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[n,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,u]],[/(android[-\w\. ]{0,9});.+buil/i],[n,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[o,r],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r,o]],os:[[/microsoft (windows) (vista|xp)/i],[o,r],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[o,[r,Z,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[o,"Windows"],[r,Z,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[o,S],[r,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[r,o],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[o,r],[/\(bb(10);/i],[r,[o,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[r,[o,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[r,[o,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r,[o,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[r,[o,"watchOS"]],[/crkey\/([\d\.]+)/i],[r,[o,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[o,R],r],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[o,r],[/(sunos) ?([\w\.\d]*)/i],[[o,"Solaris"],r],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[o,r]]},aa=function(a,b){if(typeof a===k&&(b=a,a=h),!(this instanceof aa))return new aa(a,b).getResult();var c=typeof g!==j&&g.navigator?g.navigator:h,d=a||(c&&c.userAgent?c.userAgent:""),e=c&&c.userAgentData?c.userAgentData:h,f=b?T(_,b):_,t=c&&c.userAgent==d;return this.getBrowser=function(){var a,b={};return b[o]=h,b[r]=h,Y.call(b,d,f.browser),b[m]=typeof(a=b[r])===l?a.replace(/[^\d\.]/g,"").split(".")[0]:h,t&&c&&c.brave&&typeof c.brave.isBrave==i&&(b[o]="Brave"),b},this.getCPU=function(){var a={};return a[s]=h,Y.call(a,d,f.cpu),a},this.getDevice=function(){var a={};return a[q]=h,a[n]=h,a[p]=h,Y.call(a,d,f.device),t&&!a[p]&&e&&e.mobile&&(a[p]=u),t&&"Macintosh"==a[n]&&c&&typeof c.standalone!==j&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[n]="iPad",a[p]=v),a},this.getEngine=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.engine),a},this.getOS=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.os),t&&!a[o]&&e&&"Unknown"!=e.platform&&(a[o]=e.platform.replace(/chrome os/i,R).replace(/macos/i,S)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===l&&a.length>350?X(a,350):a,this},this.setUA(d),this};aa.VERSION="1.0.35",aa.BROWSER=U([o,r,m]),aa.CPU=U([s]),aa.DEVICE=U([n,q,p,t,u,w,v,x,y]),aa.ENGINE=aa.OS=U([o,r]),typeof f!==j?(e.exports&&(f=e.exports=aa),f.UAParser=aa):c.amdO?void 0===(d=(function(){return aa}).call(b,c,b,a))||(a.exports=d):typeof g!==j&&(g.UAParser=aa);var ab=typeof g!==j&&(g.jQuery||g.Zepto);if(ab&&!ab.ua){var ac=new aa;ab.ua=ac.getResult(),ab.ua.get=function(){return ac.getUA()},ab.ua.set=function(a){ac.setUA(a);var b=ac.getResult();for(var c in b)ab.ua[c]=b[c]}}}("object"==typeof window?window:this)}},f={};function g(a){var b=f[a];if(void 0!==b)return b.exports;var c=f[a]={exports:{}},d=!0;try{e[a].call(c.exports,c,c.exports,g),d=!1}finally{d&&delete f[a]}return c.exports}g.ab="//",a.exports=g(226)})()},521:a=>{"use strict";a.exports=require("node:async_hooks")},613:(a,b,c)=>{"use strict";c.r(b),c.d(b,{__addDisposableResource:()=>J,__assign:()=>f,__asyncDelegator:()=>z,__asyncGenerator:()=>y,__asyncValues:()=>A,__await:()=>x,__awaiter:()=>o,__classPrivateFieldGet:()=>G,__classPrivateFieldIn:()=>I,__classPrivateFieldSet:()=>H,__createBinding:()=>q,__decorate:()=>h,__disposeResources:()=>L,__esDecorate:()=>j,__exportStar:()=>r,__extends:()=>e,__generator:()=>p,__importDefault:()=>F,__importStar:()=>E,__makeTemplateObject:()=>B,__metadata:()=>n,__param:()=>i,__propKey:()=>l,__read:()=>t,__rest:()=>g,__rewriteRelativeImportExtension:()=>M,__runInitializers:()=>k,__setFunctionName:()=>m,__spread:()=>u,__spreadArray:()=>w,__spreadArrays:()=>v,__values:()=>s,default:()=>N});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function e(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b,c,d,e,f){function g(a){if(void 0!==a&&"function"!=typeof a)throw TypeError("Function expected");return a}for(var h,i=d.kind,j="getter"===i?"get":"setter"===i?"set":"value",k=!b&&a?d.static?a:a.prototype:null,l=b||(k?Object.getOwnPropertyDescriptor(k,d.name):{}),m=!1,n=c.length-1;n>=0;n--){var o={};for(var p in d)o[p]="access"===p?{}:d[p];for(var p in d.access)o.access[p]=d.access[p];o.addInitializer=function(a){if(m)throw TypeError("Cannot add initializers after decoration has completed");f.push(g(a||null))};var q=(0,c[n])("accessor"===i?{get:l.get,set:l.set}:l[j],o);if("accessor"===i){if(void 0===q)continue;if(null===q||"object"!=typeof q)throw TypeError("Object expected");(h=g(q.get))&&(l.get=h),(h=g(q.set))&&(l.set=h),(h=g(q.init))&&e.unshift(h)}else(h=g(q))&&("field"===i?e.unshift(h):l[j]=h)}k&&Object.defineProperty(k,d.name,l),m=!0}function k(a,b,c){for(var d=arguments.length>2,e=0;e<b.length;e++)c=d?b[e].call(a,c):b[e].call(a);return d?c:void 0}function l(a){return"symbol"==typeof a?a:"".concat(a)}function m(a,b,c){return"symbol"==typeof b&&(b=b.description?"[".concat(b.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:c?"".concat(c," ",b):b})}function n(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function o(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function p(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return f.label++,{value:j[1],done:!1};case 5:f.label++,d=j[1],j=[0];continue;case 7:j=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){f=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){f.label=j[1];break}if(6===j[0]&&f.label<e[1]){f.label=e[1],e=j;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(j);break}e[2]&&f.ops.pop(),f.trys.pop();continue}j=b.call(a,f)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}}var q=Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]};function r(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||q(b,a,c)}function s(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function t(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function u(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(t(arguments[b]));return a}function v(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function w(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}function x(a){return this instanceof x?(this.v=a,this):new x(a)}function y(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",function(a){return function(b){return Promise.resolve(b).then(a,j)}}),d[Symbol.asyncIterator]=function(){return this},d;function g(a,b){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})},b&&(d[a]=b(d[a])))}function h(a,b){try{var c;(c=e[a](b)).value instanceof x?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function z(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:x(a[d](b)),done:!1}:e?e(b):b}:e}}function A(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=s(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}}function B(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}var C=Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b},D=function(a){return(D=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)};function E(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=D(a),d=0;d<c.length;d++)"default"!==c[d]&&q(b,a,c[d]);return C(b,a),b}function F(a){return a&&a.__esModule?a:{default:a}}function G(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function H(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}function I(a,b){if(null===b||"object"!=typeof b&&"function"!=typeof b)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof a?b===a:a.has(b)}function J(a,b,c){if(null!=b){var d,e;if("object"!=typeof b&&"function"!=typeof b)throw TypeError("Object expected.");if(c){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");d=b[Symbol.asyncDispose]}if(void 0===d){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");d=b[Symbol.dispose],c&&(e=d)}if("function"!=typeof d)throw TypeError("Object not disposable.");e&&(d=function(){try{e.call(this)}catch(a){return Promise.reject(a)}}),a.stack.push({value:b,dispose:d,async:c})}else c&&a.stack.push({async:!0});return b}var K="function"==typeof SuppressedError?SuppressedError:function(a,b,c){var d=Error(c);return d.name="SuppressedError",d.error=a,d.suppressed=b,d};function L(a){function b(b){a.error=a.hasError?new K(b,a.error,"An error was suppressed during disposal."):b,a.hasError=!0}var c,d=0;return function e(){for(;c=a.stack.pop();)try{if(!c.async&&1===d)return d=0,a.stack.push(c),Promise.resolve().then(e);if(c.dispose){var f=c.dispose.call(c.value);if(c.async)return d|=2,Promise.resolve(f).then(e,function(a){return b(a),e()})}else d|=1}catch(a){b(a)}if(1===d)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}()}function M(a,b){return"string"==typeof a&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,c,d,e,f){return c?b?".jsx":".js":!d||e&&f?d+e+"."+f.toLowerCase()+"js":a}):a}let N={__extends:e,__assign:f,__rest:g,__decorate:h,__param:i,__esDecorate:j,__runInitializers:k,__propKey:l,__setFunctionName:m,__metadata:n,__awaiter:o,__generator:p,__createBinding:q,__exportStar:r,__values:s,__read:t,__spread:u,__spreadArrays:v,__spreadArray:w,__await:x,__asyncGenerator:y,__asyncDelegator:z,__asyncValues:A,__makeTemplateObject:B,__importStar:E,__importDefault:F,__classPrivateFieldGet:G,__classPrivateFieldSet:H,__classPrivateFieldIn:I,__addDisposableResource:J,__disposeResources:L,__rewriteRelativeImportExtension:M}},640:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let{PrismaClientKnownRequestError:d,PrismaClientUnknownRequestError:e,PrismaClientRustPanicError:f,PrismaClientInitializationError:g,PrismaClientValidationError:h,getPrismaClient:i,sqltag:j,empty:k,join:l,raw:m,skip:n,Decimal:o,Debug:p,objectEnumValues:q,makeStrictEnum:r,Extensions:s,warnOnce:t,defineDmmfProperty:u,Public:v,getRuntime:w,createParam:x}=c(982),y={};b.Prisma=y,b.$Enums={},y.prismaVersion={client:"6.17.1",engine:"272a37d34178c2894197e17273bf937f25acdeac"},y.PrismaClientKnownRequestError=d,y.PrismaClientUnknownRequestError=e,y.PrismaClientRustPanicError=f,y.PrismaClientInitializationError=g,y.PrismaClientValidationError=h,y.Decimal=o,y.sql=j,y.empty=k,y.join=l,y.raw=m,y.validator=v.validator,y.getExtensionContext=s.getExtensionContext,y.defineExtension=s.defineExtension,y.DbNull=q.instances.DbNull,y.JsonNull=q.instances.JsonNull,y.AnyNull=q.instances.AnyNull,y.NullTypes={DbNull:q.classes.DbNull,JsonNull:q.classes.JsonNull,AnyNull:q.classes.AnyNull},b.Prisma.TransactionIsolationLevel=r({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),b.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",password:"password",walletAddress:"walletAddress",privateKey:"privateKey",connectedWallet:"connectedWallet",createdAt:"createdAt",updatedAt:"updatedAt",deletedAt:"deletedAt",deleted:"deleted"},b.Prisma.SortOrder={asc:"asc",desc:"desc"},b.Prisma.QueryMode={default:"default",insensitive:"insensitive"},b.Prisma.ModelName={User:"User"};let z={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/home/fabxdev/arenafi/app/arenafi-fe/node_modules/@prisma/client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"debian-openssl-3.0.x",native:!0}],previewFeatures:[],sourceFilePath:"/home/fabxdev/arenafi/app/arenafi-fe/prisma/schema.prisma"},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.17.1",engineVersion:"272a37d34178c2894197e17273bf937f25acdeac",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\n\ngenerator client {\n  provider = "prisma-client-js"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id              String   @id @unique\n  name            String\n  email           String   @unique\n  password        String\n  walletAddress   String   @unique\n  privateKey      String   @unique\n  connectedWallet String   @unique\n  createdAt       DateTime @default(now())\n  updatedAt       DateTime @updatedAt\n  deletedAt       DateTime @updatedAt\n  deleted         Boolean  @default(false)\n}\n',inlineSchemaHash:"02afbece762c2343fea0cb0466efcb387dcf248a469846fca90c1654539580a0",copyEngine:!0};z.dirname="/",z.runtimeDataModel=JSON.parse('{"models":{"User":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"password","kind":"scalar","type":"String"},{"name":"walletAddress","kind":"scalar","type":"String"},{"name":"privateKey","kind":"scalar","type":"String"},{"name":"connectedWallet","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"deletedAt","kind":"scalar","type":"DateTime"},{"name":"deleted","kind":"scalar","type":"Boolean"}],"dbName":null}},"enums":{},"types":{}}'),u(b.Prisma,z.runtimeDataModel),z.engineWasm={getRuntime:async()=>c(939),getQueryEngineWasmModule:async()=>{let a=(await Promise.resolve().then(c.bind(c,782))).default;return(await a).default}},z.compilerWasm=void 0,z.injectableEdgeEnv=()=>({parsed:{DATABASE_URL:"undefined"!=typeof globalThis&&globalThis.DATABASE_URL||"undefined"!=typeof process&&process.env&&process.env.DATABASE_URL||void 0}}),("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG)&&p.enable("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0),b.PrismaClient=i(z),Object.assign(b,y)},663:a=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b={};(()=>{b.parse=function(b,c){if("string"!=typeof b)throw TypeError("argument str must be a string");for(var e={},f=b.split(d),g=(c||{}).decode||a,h=0;h<f.length;h++){var i=f[h],j=i.indexOf("=");if(!(j<0)){var k=i.substr(0,j).trim(),l=i.substr(++j,i.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==e[k]&&(e[k]=function(a,b){try{return b(a)}catch(b){return a}}(l,g))}}return e},b.serialize=function(a,b,d){var f=d||{},g=f.encode||c;if("function"!=typeof g)throw TypeError("option encode is invalid");if(!e.test(a))throw TypeError("argument name is invalid");var h=g(b);if(h&&!e.test(h))throw TypeError("argument val is invalid");var i=a+"="+h;if(null!=f.maxAge){var j=f.maxAge-0;if(isNaN(j)||!isFinite(j))throw TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(j)}if(f.domain){if(!e.test(f.domain))throw TypeError("option domain is invalid");i+="; Domain="+f.domain}if(f.path){if(!e.test(f.path))throw TypeError("option path is invalid");i+="; Path="+f.path}if(f.expires){if("function"!=typeof f.expires.toUTCString)throw TypeError("option expires is invalid");i+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(i+="; HttpOnly"),f.secure&&(i+="; Secure"),f.sameSite)switch("string"==typeof f.sameSite?f.sameSite.toLowerCase():f.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return i};var a=decodeURIComponent,c=encodeURIComponent,d=/; */,e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),a.exports=b})()},720:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{interceptTestApis:function(){return f},wrapRequestHandler:function(){return g}});let d=c(392),e=c(165);function f(){return(0,e.interceptFetch)(c.g.fetch)}function g(a){return(b,c)=>(0,d.withRequest)(b,e.reader,()=>a(b,c))}},734:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(613).__importDefault(c(412));class e extends d.default{eq(a,b){return this.url.searchParams.append(a,`eq.${b}`),this}neq(a,b){return this.url.searchParams.append(a,`neq.${b}`),this}gt(a,b){return this.url.searchParams.append(a,`gt.${b}`),this}gte(a,b){return this.url.searchParams.append(a,`gte.${b}`),this}lt(a,b){return this.url.searchParams.append(a,`lt.${b}`),this}lte(a,b){return this.url.searchParams.append(a,`lte.${b}`),this}like(a,b){return this.url.searchParams.append(a,`like.${b}`),this}likeAllOf(a,b){return this.url.searchParams.append(a,`like(all).{${b.join(",")}}`),this}likeAnyOf(a,b){return this.url.searchParams.append(a,`like(any).{${b.join(",")}}`),this}ilike(a,b){return this.url.searchParams.append(a,`ilike.${b}`),this}ilikeAllOf(a,b){return this.url.searchParams.append(a,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(a,b){return this.url.searchParams.append(a,`ilike(any).{${b.join(",")}}`),this}is(a,b){return this.url.searchParams.append(a,`is.${b}`),this}in(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cs.{${b.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(b)}`),this}containedBy(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cd.{${b.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(b)}`),this}rangeGt(a,b){return this.url.searchParams.append(a,`sr.${b}`),this}rangeGte(a,b){return this.url.searchParams.append(a,`nxl.${b}`),this}rangeLt(a,b){return this.url.searchParams.append(a,`sl.${b}`),this}rangeLte(a,b){return this.url.searchParams.append(a,`nxr.${b}`),this}rangeAdjacent(a,b){return this.url.searchParams.append(a,`adj.${b}`),this}overlaps(a,b){return"string"==typeof b?this.url.searchParams.append(a,`ov.${b}`):this.url.searchParams.append(a,`ov.{${b.join(",")}}`),this}textSearch(a,b,{config:c,type:d}={}){let e="";"plain"===d?e="pl":"phrase"===d?e="ph":"websearch"===d&&(e="w");let f=void 0===c?"":`(${c})`;return this.url.searchParams.append(a,`${e}fts${f}.${b}`),this}match(a){return Object.entries(a).forEach(([a,b])=>{this.url.searchParams.append(a,`eq.${b}`)}),this}not(a,b,c){return this.url.searchParams.append(a,`not.${b}.${c}`),this}or(a,{foreignTable:b,referencedTable:c=b}={}){let d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,b,c){return this.url.searchParams.append(a,`${b}.${c}`),this}}b.default=e},743:(a,b,c)=>{a.exports={...c(902)}},780:(a,b,c)=>{"use strict";let d;c.r(b),c.d(b,{default:()=>eu});var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s={};async function t(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}c.r(s),c.d(s,{config:()=>eq,middleware:()=>ep});let u=null;async function v(){if("phase-production-build"===process.env.NEXT_PHASE)return;u||(u=t());let a=await u;if(null==a?void 0:a.register)try{await a.register()}catch(a){throw a.message=`An error occurred while loading instrumentation hook: ${a.message}`,a}}async function w(...a){let b=await t();try{var c;await (null==b||null==(c=b.onRequestError)?void 0:c.call(b,...a))}catch(a){console.error("Error in instrumentation.onRequestError:",a)}}let x=null;function y(){return x||(x=v()),x}function z(a){return`The edge runtime does not support Node.js '${a}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==c.g.process&&(process.env=c.g.process.env,c.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(a){let b=new Proxy(function(){},{get(b,c){if("then"===c)return{};throw Object.defineProperty(Error(z(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(z(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(c,d,e){if("function"==typeof e[0])return e[0](b);throw Object.defineProperty(Error(z(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>b})},enumerable:!1,configurable:!1})}catch{}y();class A extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class B extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class C extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let D="_N_T_",E={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function F(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function G(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...F(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function H(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...E,GROUP:{builtinReact:[E.reactServerComponents,E.actionBrowser],serverOnly:[E.reactServerComponents,E.actionBrowser,E.instrument,E.middleware],neutralTarget:[E.apiNode,E.apiEdge],clientOnly:[E.serverSideRendering,E.appPagesBrowser],bundled:[E.reactServerComponents,E.actionBrowser,E.serverSideRendering,E.appPagesBrowser,E.shared,E.instrument,E.middleware],appPages:[E.reactServerComponents,E.serverSideRendering,E.appPagesBrowser,E.actionBrowser]}});let I=Symbol("response"),J=Symbol("passThrough"),K=Symbol("waitUntil");class L{constructor(a,b){this[J]=!1,this[K]=b?{kind:"external",function:b}:{kind:"internal",promises:[]}}respondWith(a){this[I]||(this[I]=Promise.resolve(a))}passThroughOnException(){this[J]=!0}waitUntil(a){if("external"===this[K].kind)return(0,this[K].function)(a);this[K].promises.push(a)}}class M extends L{constructor(a){var b;super(a.request,null==(b=a.context)?void 0:b.waitUntil),this.sourcePage=a.page}get request(){throw Object.defineProperty(new A({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new A({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function N(a){return a.replace(/\/$/,"")||"/"}function O(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}function P(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=O(a);return""+b+c+d+e}function Q(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=O(a);return""+c+b+d+e}function R(a,b){if("string"!=typeof a)return!1;let{pathname:c}=O(a);return c===b||c.startsWith(b+"/")}let S=new WeakMap;function T(a,b){let c;if(!b)return{pathname:a};let d=S.get(b);d||(d=b.map(a=>a.toLowerCase()),S.set(b,d));let e=a.split("/",2);if(!e[1])return{pathname:a};let f=e[1].toLowerCase(),g=d.indexOf(f);return g<0?{pathname:a}:(c=b[g],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}let U=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function V(a,b){return new URL(String(a).replace(U,"localhost"),b&&String(b).replace(U,"localhost"))}let W=Symbol("NextURLInternal");class X{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[W]={url:V(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,d,e;let f=function(a,b){var c,d;let{basePath:e,i18n:f,trailingSlash:g}=null!=(c=b.nextConfig)?c:{},h={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):g};e&&R(h.pathname,e)&&(h.pathname=function(a,b){if(!R(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:"/"+c}(h.pathname,e),h.basePath=e);let i=h.pathname;if(h.pathname.startsWith("/_next/data/")&&h.pathname.endsWith(".json")){let a=h.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");h.buildId=a[0],i="index"!==a[1]?"/"+a.slice(1).join("/"):"/",!0===b.parseData&&(h.pathname=i)}if(f){let a=b.i18nProvider?b.i18nProvider.analyze(h.pathname):T(h.pathname,f.locales);h.locale=a.detectedLocale,h.pathname=null!=(d=a.pathname)?d:h.pathname,!a.detectedLocale&&h.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(i):T(i,f.locales)).detectedLocale&&(h.locale=a.detectedLocale)}return h}(this[W].url.pathname,{nextConfig:this[W].options.nextConfig,parseData:!0,i18nProvider:this[W].options.i18nProvider}),g=function(a,b){let c;if((null==b?void 0:b.host)&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}(this[W].url,this[W].options.headers);this[W].domainLocale=this[W].options.i18nProvider?this[W].options.i18nProvider.detectDomainLocale(g):function(a,b,c){if(a)for(let f of(c&&(c=c.toLowerCase()),a)){var d,e;if(b===(null==(d=f.domain)?void 0:d.split(":",1)[0].toLowerCase())||c===f.defaultLocale.toLowerCase()||(null==(e=f.locales)?void 0:e.some(a=>a.toLowerCase()===c)))return f}}(null==(b=this[W].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,g);let h=(null==(c=this[W].domainLocale)?void 0:c.defaultLocale)||(null==(e=this[W].options.nextConfig)||null==(d=e.i18n)?void 0:d.defaultLocale);this[W].url.pathname=f.pathname,this[W].defaultLocale=h,this[W].basePath=f.basePath??"",this[W].buildId=f.buildId,this[W].locale=f.locale??h,this[W].trailingSlash=f.trailingSlash}formatPathname(){var a;let b;return b=function(a,b,c,d){if(!b||b===c)return a;let e=a.toLowerCase();return!d&&(R(e,"/api")||R(e,"/"+b.toLowerCase()))?a:P(a,"/"+b)}((a={basePath:this[W].basePath,buildId:this[W].buildId,defaultLocale:this[W].options.forceLocale?void 0:this[W].defaultLocale,locale:this[W].locale,pathname:this[W].url.pathname,trailingSlash:this[W].trailingSlash}).pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix),(a.buildId||!a.trailingSlash)&&(b=N(b)),a.buildId&&(b=Q(P(b,"/_next/data/"+a.buildId),"/"===a.pathname?"index.json":".json")),b=P(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:Q(b,"/"):N(b)}formatSearch(){return this[W].url.search}get buildId(){return this[W].buildId}set buildId(a){this[W].buildId=a}get locale(){return this[W].locale??""}set locale(a){var b,c;if(!this[W].locale||!(null==(c=this[W].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[W].locale=a}get defaultLocale(){return this[W].defaultLocale}get domainLocale(){return this[W].domainLocale}get searchParams(){return this[W].url.searchParams}get host(){return this[W].url.host}set host(a){this[W].url.host=a}get hostname(){return this[W].url.hostname}set hostname(a){this[W].url.hostname=a}get port(){return this[W].url.port}set port(a){this[W].url.port=a}get protocol(){return this[W].url.protocol}set protocol(a){this[W].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[W].url=V(a),this.analyze()}get origin(){return this[W].url.origin}get pathname(){return this[W].url.pathname}set pathname(a){this[W].url.pathname=a}get hash(){return this[W].url.hash}set hash(a){this[W].url.hash=a}get search(){return this[W].url.search}set search(a){this[W].url.search=a}get password(){return this[W].url.password}set password(a){this[W].url.password=a}get username(){return this[W].url.username}set username(a){this[W].url.username=a}get basePath(){return this[W].basePath}set basePath(a){this[W].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new X(String(this),this[W].options)}}var Y=c(443);let Z=Symbol("internal request");class $ extends Request{constructor(a,b={}){let c="string"!=typeof a&&"url"in a?a.url:String(a);H(c),a instanceof Request?super(a,b):super(c,b);let d=new X(c,{headers:G(this.headers),nextConfig:b.nextConfig});this[Z]={cookies:new Y.RequestCookies(this.headers),nextUrl:d,url:d.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[Z].cookies}get nextUrl(){return this[Z].nextUrl}get page(){throw new B}get ua(){throw new C}get url(){return this[Z].url}}class _{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}let aa=Symbol("internal response"),ab=new Set([301,302,303,307,308]);function ac(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class ad extends Response{constructor(a,b={}){super(a,b);let c=this.headers,d=new Proxy(new Y.ResponseCookies(c),{get(a,d,e){switch(d){case"delete":case"set":return(...e)=>{let f=Reflect.apply(a[d],a,e),g=new Headers(c);return f instanceof Y.ResponseCookies&&c.set("x-middleware-set-cookie",f.getAll().map(a=>(0,Y.stringifyCookie)(a)).join(",")),ac(b,g),f};default:return _.get(a,d,e)}}});this[aa]={cookies:d,url:b.url?new X(b.url,{headers:G(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[aa].cookies}static json(a,b){let c=Response.json(a,b);return new ad(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!ab.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",H(a)),new ad(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",H(a)),ac(b,c),new ad(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),ac(a,b),new ad(null,{...a,headers:b})}}function ae(a,b){let c="string"==typeof b?new URL(b):b,d=new URL(a,b),e=d.origin===c.origin;return{url:e?d.toString().slice(c.origin.length):d.toString(),isRelative:e}}let af="next-router-prefetch",ag=["rsc","next-router-state-tree",af,"next-hmr-refresh","next-router-segment-prefetch"],ah="_rsc";class ai extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new ai}}class aj extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,d){if("symbol"==typeof c)return _.get(b,c,d);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);if(void 0!==f)return _.get(b,f,d)},set(b,c,d,e){if("symbol"==typeof c)return _.set(b,c,d,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);return _.set(b,g??c,d,e)},has(b,c){if("symbol"==typeof c)return _.has(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0!==e&&_.has(b,e)},deleteProperty(b,c){if("symbol"==typeof c)return _.deleteProperty(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0===e||_.deleteProperty(b,e)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return ai.callable;default:return _.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new aj(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}let ak=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class al{disable(){throw ak}getStore(){}run(){throw ak}exit(){throw ak}enterWith(){throw ak}static bind(a){return a}}let am="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function an(){return am?new am:new al}let ao=an();class ap extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new ap}}class aq{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return ap.callable;default:return _.get(a,b,c)}}})}}let ar=Symbol.for("next.mutated.cookies");class as{static wrap(a,b){let c=new Y.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let d=[],e=new Set,f=()=>{let a=ao.getStore();if(a&&(a.pathWasRevalidated=!0),d=c.getAll().filter(a=>e.has(a.name)),b){let a=[];for(let b of d){let c=new Y.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},g=new Proxy(c,{get(a,b,c){switch(b){case ar:return d;case"delete":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),g}finally{f()}};case"set":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),g}finally{f()}};default:return _.get(a,b,c)}}});return g}}function at(a,b){if("action"!==a.phase)throw new ap}var au=function(a){return a.handleRequest="BaseServer.handleRequest",a.run="BaseServer.run",a.pipe="BaseServer.pipe",a.getStaticHTML="BaseServer.getStaticHTML",a.render="BaseServer.render",a.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",a.renderToResponse="BaseServer.renderToResponse",a.renderToHTML="BaseServer.renderToHTML",a.renderError="BaseServer.renderError",a.renderErrorToResponse="BaseServer.renderErrorToResponse",a.renderErrorToHTML="BaseServer.renderErrorToHTML",a.render404="BaseServer.render404",a}(au||{}),av=function(a){return a.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",a.loadComponents="LoadComponents.loadComponents",a}(av||{}),aw=function(a){return a.getRequestHandler="NextServer.getRequestHandler",a.getServer="NextServer.getServer",a.getServerRequestHandler="NextServer.getServerRequestHandler",a.createServer="createServer.createServer",a}(aw||{}),ax=function(a){return a.compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a}(ax||{}),ay=function(a){return a.startServer="startServer.startServer",a}(ay||{}),az=function(a){return a.getServerSideProps="Render.getServerSideProps",a.getStaticProps="Render.getStaticProps",a.renderToString="Render.renderToString",a.renderDocument="Render.renderDocument",a.createBodyResult="Render.createBodyResult",a}(az||{}),aA=function(a){return a.renderToString="AppRender.renderToString",a.renderToReadableStream="AppRender.renderToReadableStream",a.getBodyResult="AppRender.getBodyResult",a.fetch="AppRender.fetch",a}(aA||{}),aB=function(a){return a.executeRoute="Router.executeRoute",a}(aB||{}),aC=function(a){return a.runHandler="Node.runHandler",a}(aC||{}),aD=function(a){return a.runHandler="AppRouteRouteHandlers.runHandler",a}(aD||{}),aE=function(a){return a.generateMetadata="ResolveMetadata.generateMetadata",a.generateViewport="ResolveMetadata.generateViewport",a}(aE||{}),aF=function(a){return a.execute="Middleware.execute",a}(aF||{});let aG=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],aH=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function aI(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}let{context:aJ,propagation:aK,trace:aL,SpanStatusCode:aM,SpanKind:aN,ROOT_CONTEXT:aO}=d=c(817);class aP extends Error{constructor(a,b){super(),this.bubble=a,this.result=b}}let aQ=(a,b)=>{(function(a){return"object"==typeof a&&null!==a&&a instanceof aP})(b)&&b.bubble?a.setAttribute("next.bubble",!0):(b&&(a.recordException(b),a.setAttribute("error.type",b.name)),a.setStatus({code:aM.ERROR,message:null==b?void 0:b.message})),a.end()},aR=new Map,aS=d.createContextKey("next.rootSpanId"),aT=0,aU={set(a,b,c){a.push({key:b,value:c})}};class aV{getTracerInstance(){return aL.getTracer("next.js","0.0.1")}getContext(){return aJ}getTracePropagationData(){let a=aJ.active(),b=[];return aK.inject(a,b,aU),b}getActiveScopeSpan(){return aL.getSpan(null==aJ?void 0:aJ.active())}withPropagatedContext(a,b,c){let d=aJ.active();if(aL.getSpanContext(d))return b();let e=aK.extract(d,a,c);return aJ.with(e,b)}trace(...a){var b;let[c,d,e]=a,{fn:f,options:g}="function"==typeof d?{fn:d,options:{}}:{fn:e,options:{...d}},h=g.spanName??c;if(!aG.includes(c)&&"1"!==process.env.NEXT_OTEL_VERBOSE||g.hideSpan)return f();let i=this.getSpanContext((null==g?void 0:g.parentSpan)??this.getActiveScopeSpan()),j=!1;i?(null==(b=aL.getSpanContext(i))?void 0:b.isRemote)&&(j=!0):(i=(null==aJ?void 0:aJ.active())??aO,j=!0);let k=aT++;return g.attributes={"next.span_name":h,"next.span_type":c,...g.attributes},aJ.with(i.setValue(aS,k),()=>this.getTracerInstance().startActiveSpan(h,g,a=>{let b="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,d=()=>{aR.delete(k),b&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&aH.includes(c||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(c.split(".").pop()||"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}`,{start:b,end:performance.now()})};j&&aR.set(k,new Map(Object.entries(g.attributes??{})));try{if(f.length>1)return f(a,b=>aQ(a,b));let b=f(a);if(aI(b))return b.then(b=>(a.end(),b)).catch(b=>{throw aQ(a,b),b}).finally(d);return a.end(),d(),b}catch(b){throw aQ(a,b),d(),b}}))}wrap(...a){let b=this,[c,d,e]=3===a.length?a:[a[0],{},a[1]];return aG.includes(c)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let a=d;"function"==typeof a&&"function"==typeof e&&(a=a.apply(this,arguments));let f=arguments.length-1,g=arguments[f];if("function"!=typeof g)return b.trace(c,a,()=>e.apply(this,arguments));{let d=b.getContext().bind(aJ.active(),g);return b.trace(c,a,(a,b)=>(arguments[f]=function(a){return null==b||b(a),d.apply(this,arguments)},e.apply(this,arguments)))}}:e}startSpan(...a){let[b,c]=a,d=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,c,d)}getSpanContext(a){return a?aL.setSpan(aJ.active(),a):void 0}getRootSpanAttributes(){let a=aJ.active().getValue(aS);return aR.get(a)}setRootSpanAttribute(a,b){let c=aJ.active().getValue(aS),d=aR.get(c);d&&d.set(a,b)}}let aW=(()=>{let a=new aV;return()=>a})(),aX="__prerender_bypass";Symbol("__next_preview_data"),Symbol(aX);class aY{constructor(a,b,c,d){var e;let f=a&&function(a,b){let c=aj.from(a.headers);return{isOnDemandRevalidate:c.get("x-prerender-revalidate")===b.previewModeId,revalidateOnlyGenerated:c.has("x-prerender-revalidate-if-generated")}}(b,a).isOnDemandRevalidate,g=null==(e=c.get(aX))?void 0:e.value;this._isEnabled=!!(!f&&g&&a&&g===a.previewModeId),this._previewModeId=null==a?void 0:a.previewModeId,this._mutableCookies=d}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:aX,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:aX,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function aZ(a,b){if("x-middleware-set-cookie"in a.headers&&"string"==typeof a.headers["x-middleware-set-cookie"]){let c=a.headers["x-middleware-set-cookie"],d=new Headers;for(let a of F(c))d.append("set-cookie",a);for(let a of new Y.ResponseCookies(d).getAll())b.set(a)}}let a$=an();var a_=c(213),a0=c.n(a_);class a1 extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}class a2{constructor(a,b,c){this.prev=null,this.next=null,this.key=a,this.data=b,this.size=c}}class a3{constructor(){this.prev=null,this.next=null}}class a4{constructor(a,b){this.cache=new Map,this.totalSize=0,this.maxSize=a,this.calculateSize=b,this.head=new a3,this.tail=new a3,this.head.next=this.tail,this.tail.prev=this.head}addToHead(a){a.prev=this.head,a.next=this.head.next,this.head.next.prev=a,this.head.next=a}removeNode(a){a.prev.next=a.next,a.next.prev=a.prev}moveToHead(a){this.removeNode(a),this.addToHead(a)}removeTail(){let a=this.tail.prev;return this.removeNode(a),a}set(a,b){let c=(null==this.calculateSize?void 0:this.calculateSize.call(this,b))??1;if(c>this.maxSize)return void console.warn("Single item size exceeds maxSize");let d=this.cache.get(a);if(d)d.data=b,this.totalSize=this.totalSize-d.size+c,d.size=c,this.moveToHead(d);else{let d=new a2(a,b,c);this.cache.set(a,d),this.addToHead(d),this.totalSize+=c}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let a=this.removeTail();this.cache.delete(a.key),this.totalSize-=a.size}}has(a){return this.cache.has(a)}get(a){let b=this.cache.get(a);if(b)return this.moveToHead(b),b.data}*[Symbol.iterator](){let a=this.head.next;for(;a&&a!==this.tail;){let b=a;yield[b.key,b.data],a=a.next}}remove(a){let b=this.cache.get(a);b&&(this.removeNode(b),this.cache.delete(a),this.totalSize-=b.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}c(356).Buffer,new a4(0x3200000,a=>a.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE&&((a,...b)=>{console.log(`use-cache: ${a}`,...b)}),Symbol.for("@next/cache-handlers");let a5=Symbol.for("@next/cache-handlers-map"),a6=Symbol.for("@next/cache-handlers-set"),a7=globalThis;function a8(){if(a7[a5])return a7[a5].entries()}async function a9(a,b){if(!a)return b();let c=ba(a);try{return await b()}finally{let b=function(a,b){let c=new Set(a.pendingRevalidatedTags),d=new Set(a.pendingRevalidateWrites);return{pendingRevalidatedTags:b.pendingRevalidatedTags.filter(a=>!c.has(a)),pendingRevalidates:Object.fromEntries(Object.entries(b.pendingRevalidates).filter(([b])=>!(b in a.pendingRevalidates))),pendingRevalidateWrites:b.pendingRevalidateWrites.filter(a=>!d.has(a))}}(c,ba(a));await bc(a,b)}}function ba(a){return{pendingRevalidatedTags:a.pendingRevalidatedTags?[...a.pendingRevalidatedTags]:[],pendingRevalidates:{...a.pendingRevalidates},pendingRevalidateWrites:a.pendingRevalidateWrites?[...a.pendingRevalidateWrites]:[]}}async function bb(a,b){if(0===a.length)return;let c=[];b&&c.push(b.revalidateTag(a));let d=function(){if(a7[a6])return a7[a6].values()}();if(d)for(let b of d)c.push(b.expireTags(...a));await Promise.all(c)}async function bc(a,b){let c=(null==b?void 0:b.pendingRevalidatedTags)??a.pendingRevalidatedTags??[],d=(null==b?void 0:b.pendingRevalidates)??a.pendingRevalidates??{},e=(null==b?void 0:b.pendingRevalidateWrites)??a.pendingRevalidateWrites??[];return Promise.all([bb(c,a.incrementalCache),...Object.values(d),...e])}let bd=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class be{disable(){throw bd}getStore(){}run(){throw bd}exit(){throw bd}enterWith(){throw bd}static bind(a){return a}}let bf="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage,bg=bf?new bf:new be;class bh{constructor({waitUntil:a,onClose:b,onTaskError:c}){this.workUnitStores=new Set,this.waitUntil=a,this.onClose=b,this.onTaskError=c,this.callbackQueue=new(a0()),this.callbackQueue.pause()}after(a){if(aI(a))this.waitUntil||bi(),this.waitUntil(a.catch(a=>this.reportTaskError("promise",a)));else if("function"==typeof a)this.addCallback(a);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(a){var b;this.waitUntil||bi();let c=a$.getStore();c&&this.workUnitStores.add(c);let d=bg.getStore(),e=d?d.rootTaskSpawnPhase:null==c?void 0:c.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let f=(b=async()=>{try{await bg.run({rootTaskSpawnPhase:e},()=>a())}catch(a){this.reportTaskError("function",a)}},bf?bf.bind(b):be.bind(b));this.callbackQueue.add(f)}async runCallbacksOnClose(){return await new Promise(a=>this.onClose(a)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let a of this.workUnitStores)a.phase="after";let a=ao.getStore();if(!a)throw Object.defineProperty(new a1("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return a9(a,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(a,b){if(console.error("promise"===a?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",b),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,b)}catch(a){console.error(Object.defineProperty(new a1("`onTaskError` threw while handling an error thrown from an `after` task",{cause:a}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function bi(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function bj(a){let b,c={then:(d,e)=>(b||(b=a()),b.then(a=>{c.value=a}).catch(()=>{}),b.then(d,e))};return c}class bk{onClose(a){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",a),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function bl(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let bm=Symbol.for("@next/request-context");async function bn(a,b,c){let d=[],e=c&&c.size>0;for(let b of(a=>{let b=["/layout"];if(a.startsWith("/")){let c=a.split("/");for(let a=1;a<c.length+1;a++){let d=c.slice(0,a).join("/");d&&(d.endsWith("/page")||d.endsWith("/route")||(d=`${d}${!d.endsWith("/")?"/":""}layout`),b.push(d))}}return b})(a))b=`${D}${b}`,d.push(b);if(b.pathname&&!e){let a=`${D}${b.pathname}`;d.push(a)}return{tags:d,expirationsByCacheKind:function(a){let b=new Map,c=a8();if(c)for(let[d,e]of c)"getExpiration"in e&&b.set(d,bj(async()=>e.getExpiration(...a)));return b}(d)}}class bo extends ${constructor(a){super(a.input,a.init),this.sourcePage=a.page}get request(){throw Object.defineProperty(new A({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new A({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new A({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let bp={keys:a=>Array.from(a.keys()),get:(a,b)=>a.get(b)??void 0},bq=(a,b)=>aW().withPropagatedContext(a.headers,b,bp),br=!1;async function bs(a){var b;let d,e;if(!br&&(br=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:a,wrapRequestHandler:b}=c(720);a(),bq=b(bq)}await y();let f=void 0!==globalThis.__BUILD_MANIFEST;a.request.url=a.request.url.replace(/\.rsc($|\?)/,"$1");let g=a.bypassNextUrl?new URL(a.request.url):new X(a.request.url,{headers:a.request.headers,nextConfig:a.request.nextConfig});for(let a of[...g.searchParams.keys()]){let b=g.searchParams.getAll(a),c=function(a){for(let b of["nxtP","nxtI"])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}(a);if(c){for(let a of(g.searchParams.delete(c),b))g.searchParams.append(c,a);g.searchParams.delete(a)}}let h=process.env.__NEXT_BUILD_ID||"";"buildId"in g&&(h=g.buildId||"",g.buildId="");let i=function(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}(a.request.headers),j=i.has("x-nextjs-data"),k="1"===i.get("rsc");j&&"/index"===g.pathname&&(g.pathname="/");let l=new Map;if(!f)for(let a of ag){let b=i.get(a);null!==b&&(l.set(a,b),i.delete(a))}let m=g.searchParams.get(ah),n=new bo({page:a.page,input:(function(a){let b="string"==typeof a,c=b?new URL(a):a;return c.searchParams.delete(ah),b?c.toString():c})(g).toString(),init:{body:a.request.body,headers:i,method:a.request.method,nextConfig:a.request.nextConfig,signal:a.request.signal}});j&&Object.defineProperty(n,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&a.IncrementalCache&&(globalThis.__incrementalCache=new a.IncrementalCache({CurCacheHandler:a.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:a.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:bl()})}));let o=a.request.waitUntil??(null==(b=function(){let a=globalThis[bm];return null==a?void 0:a.get()}())?void 0:b.waitUntil),p=new M({request:n,page:a.page,context:o?{waitUntil:o}:void 0});if((d=await bq(n,()=>{if("/middleware"===a.page||"/src/middleware"===a.page){let b=p.waitUntil.bind(p),c=new bk;return aW().trace(aF.execute,{spanName:`middleware ${n.method} ${n.nextUrl.pathname}`,attributes:{"http.target":n.nextUrl.pathname,"http.method":n.method}},async()=>{try{var d,f,g,i,j,k;let l=bl(),m=await bn("/",n.nextUrl,null),o=(j=n.nextUrl,k=a=>{e=a},function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){c&&c.setHeader("Set-Cookie",a)}let n={};return{type:"request",phase:a,implicitTags:f,url:{pathname:d.pathname,search:d.search??""},rootParams:e,get headers(){return n.headers||(n.headers=function(a){let b=aj.from(a);for(let a of ag)b.delete(a);return aj.seal(b)}(b.headers)),n.headers},get cookies(){if(!n.cookies){let a=new Y.RequestCookies(aj.from(b.headers));aZ(b,a),n.cookies=aq.seal(a)}return n.cookies},set cookies(value){n.cookies=value},get mutableCookies(){if(!n.mutableCookies){let a=function(a,b){let c=new Y.RequestCookies(aj.from(a));return as.wrap(c,b)}(b.headers,g||(c?m:void 0));aZ(b,a),n.mutableCookies=a}return n.mutableCookies},get userspaceMutableCookies(){return n.userspaceMutableCookies||(n.userspaceMutableCookies=function(a){let b=new Proxy(a.mutableCookies,{get(c,d,e){switch(d){case"delete":return function(...d){return at(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return at(a,"cookies().set"),c.set(...d),b};default:return _.get(c,d,e)}}});return b}(this)),n.userspaceMutableCookies},get draftMode(){return n.draftMode||(n.draftMode=new aY(i,b,this.cookies,this.mutableCookies)),n.draftMode},renderResumeDataCache:h??null,isHmrRefresh:j,serverComponentsHmrCache:k||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",n,void 0,j,{},m,k,void 0,l,!1,void 0,null)),q=function({page:a,renderOpts:b,isPrefetchRequest:c,buildId:d,previouslyRevalidatedTags:e}){var f;let g=!b.shouldWaitOnAllReady&&!b.supportsDynamicResponse&&!b.isDraftMode&&!b.isPossibleServerAction,h=b.dev??!1,i=h||g&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),j={isStaticGeneration:g,page:a,route:(f=a.split("/").reduce((a,b,c,d)=>b?"("===b[0]&&b.endsWith(")")||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b:a,"")).startsWith("/")?f:"/"+f,incrementalCache:b.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:b.cacheLifeProfiles,isRevalidate:b.isRevalidate,isBuildTimePrerendering:b.nextExport,hasReadableErrorStacks:b.hasReadableErrorStacks,fetchCache:b.fetchCache,isOnDemandRevalidate:b.isOnDemandRevalidate,isDraftMode:b.isDraftMode,isPrefetchRequest:c,buildId:d,reactLoadableManifest:(null==b?void 0:b.reactLoadableManifest)||{},assetPrefix:(null==b?void 0:b.assetPrefix)||"",afterContext:function(a){let{waitUntil:b,onClose:c,onAfterTaskError:d}=a;return new bh({waitUntil:b,onClose:c,onTaskError:d})}(b),cacheComponentsEnabled:b.experimental.cacheComponents,dev:h,previouslyRevalidatedTags:e,refreshTagsByCacheKind:function(){let a=new Map,b=a8();if(b)for(let[c,d]of b)"refreshTags"in d&&a.set(c,bj(async()=>d.refreshTags()));return a}(),runInCleanSnapshot:bf?bf.snapshot():function(a,...b){return a(...b)},shouldTrackFetchMetrics:i};return b.store=j,j}({page:"/",renderOpts:{cacheLifeProfiles:null==(f=a.request.nextConfig)||null==(d=f.experimental)?void 0:d.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(null==(i=a.request.nextConfig)||null==(g=i.experimental)?void 0:g.authInterrupts)},supportsDynamicResponse:!0,waitUntil:b,onClose:c.onClose.bind(c),onAfterTaskError:void 0},isPrefetchRequest:"1"===n.headers.get(af),buildId:h??"",previouslyRevalidatedTags:[]});return await ao.run(q,()=>a$.run(o,a.handler,n,p))}finally{setTimeout(()=>{c.dispatchClose()},0)}})}return a.handler(n,p)}))&&!(d instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});d&&e&&d.headers.set("set-cookie",e);let q=null==d?void 0:d.headers.get("x-middleware-rewrite");if(d&&q&&(k||!f)){let b=new X(q,{forceLocale:!0,headers:a.request.headers,nextConfig:a.request.nextConfig});f||b.host!==n.nextUrl.host||(b.buildId=h||b.buildId,d.headers.set("x-middleware-rewrite",String(b)));let{url:c,isRelative:e}=ae(b.toString(),g.toString());!f&&j&&d.headers.set("x-nextjs-rewrite",c),k&&e&&(g.pathname!==b.pathname&&d.headers.set("x-nextjs-rewritten-path",b.pathname),g.search!==b.search&&d.headers.set("x-nextjs-rewritten-query",b.search.slice(1)))}if(d&&q&&k&&m){let a=new URL(q);a.searchParams.has(ah)||(a.searchParams.set(ah,m),d.headers.set("x-middleware-rewrite",a.toString()))}let r=null==d?void 0:d.headers.get("Location");if(d&&r&&!f){let b=new X(r,{forceLocale:!1,headers:a.request.headers,nextConfig:a.request.nextConfig});d=new Response(d.body,d),b.host===g.host&&(b.buildId=h||b.buildId,d.headers.set("Location",b.toString())),j&&(d.headers.delete("Location"),d.headers.set("x-nextjs-redirect",ae(b.toString(),g.toString()).url))}let s=d||ad.next(),t=s.headers.get("x-middleware-override-headers"),u=[];if(t){for(let[a,b]of l)s.headers.set(`x-middleware-request-${a}`,b),u.push(a);u.length>0&&s.headers.set("x-middleware-override-headers",t+","+u.join(","))}return{response:s,waitUntil:("internal"===p[K].kind?Promise.all(p[K].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:n.fetchMetrics}}var bt=c(19);function bu(){return"undefined"!=typeof window&&void 0!==window.document}let bv={path:"/",sameSite:"lax",httpOnly:!1,maxAge:3456e4},bw=/^(.*)[.](0|[1-9][0-9]*)$/;function bx(a,b){if(a===b)return!0;let c=a.match(bw);return!!c&&c[1]===b}function by(a,b,c){let d=c??3180,e=encodeURIComponent(b);if(e.length<=d)return[{name:a,value:b}];let f=[];for(;e.length>0;){let a=e.slice(0,d),b=a.lastIndexOf("%");b>d-3&&(a=a.slice(0,b));let c="";for(;a.length>0;)try{c=decodeURIComponent(a);break}catch(b){if(b instanceof URIError&&"%"===a.at(-3)&&a.length>3)a=a.slice(0,a.length-3);else throw b}f.push(c),e=e.slice(a.length)}return f.map((b,c)=>({name:`${a}.${c}`,value:b}))}async function bz(a,b){let c=await b(a);if(c)return c;let d=[];for(let c=0;;c++){let e=`${a}.${c}`,f=await b(e);if(!f)break;d.push(f)}return d.length>0?d.join(""):null}let bA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bB=" 	\n\r=".split(""),bC=(()=>{let a=Array(128);for(let b=0;b<a.length;b+=1)a[b]=-1;for(let b=0;b<bB.length;b+=1)a[bB[b].charCodeAt(0)]=-2;for(let b=0;b<bA.length;b+=1)a[bA[b].charCodeAt(0)]=b;return a})();function bD(a){let b=[],c=0,d=0;if(function(a,b){for(let c=0;c<a.length;c+=1){let d=a.charCodeAt(c);if(d>55295&&d<=56319){let b=(d-55296)*1024&65535;d=(a.charCodeAt(c+1)-56320&65535|b)+65536,c+=1}!function(a,b){if(a<=127)return b(a);if(a<=2047){b(192|a>>6),b(128|63&a);return}if(a<=65535){b(224|a>>12),b(128|a>>6&63),b(128|63&a);return}if(a<=1114111){b(240|a>>18),b(128|a>>12&63),b(128|a>>6&63),b(128|63&a);return}throw Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}(d,b)}}(a,a=>{for(c=c<<8|a,d+=8;d>=6;){let a=c>>d-6&63;b.push(bA[a]),d-=6}}),d>0)for(c<<=6-d,d=6;d>=6;){let a=c>>d-6&63;b.push(bA[a]),d-=6}return b.join("")}function bE(a){let b=[],c=a=>{b.push(String.fromCodePoint(a))},d={utf8seq:0,codepoint:0},e=0,f=0;for(let b=0;b<a.length;b+=1){let g=bC[a.charCodeAt(b)];if(g>-1)for(e=e<<6|g,f+=6;f>=8;)(function(a,b,c){if(0===b.utf8seq){if(a<=127)return c(a);for(let c=1;c<6;c+=1)if((a>>7-c&1)==0){b.utf8seq=c;break}if(2===b.utf8seq)b.codepoint=31&a;else if(3===b.utf8seq)b.codepoint=15&a;else if(4===b.utf8seq)b.codepoint=7&a;else throw Error("Invalid UTF-8 sequence");b.utf8seq-=1}else if(b.utf8seq>0){if(a<=127)throw Error("Invalid UTF-8 sequence");b.codepoint=b.codepoint<<6|63&a,b.utf8seq-=1,0===b.utf8seq&&c(b.codepoint)}})(e>>f-8&255,d,c),f-=8;else if(-2===g)continue;else throw Error(`Invalid Base64-URL character "${a.at(b)}" at position ${b}`)}return b.join("")}let bF="base64-";async function bG({getAll:a,setAll:b,setItems:c,removedItems:d},e){let f=e.cookieEncoding,g=e.cookieOptions??null,h=await a([...c?Object.keys(c):[],...d?Object.keys(d):[]]),i=h?.map(({name:a})=>a)||[],j=Object.keys(d).flatMap(a=>i.filter(b=>bx(b,a))),k=Object.keys(c).flatMap(a=>{let b=new Set(i.filter(b=>bx(b,a))),d=c[a];"base64url"===f&&(d=bF+bD(d));let e=by(a,d);return e.forEach(a=>{b.delete(a.name)}),j.push(...b),e}),l={...bv,...g,maxAge:0},m={...bv,...g,maxAge:bv.maxAge};delete l.name,delete m.name,await b([...j.map(a=>({name:a,value:"",options:l})),...k.map(({name:a,value:b})=>({name:a,value:b,options:m}))])}var bH=c(613);class bI extends Error{constructor(a,b="FunctionsError",c){super(a),this.name=b,this.context=c}}class bJ extends bI{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class bK extends bI{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class bL extends bI{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}!function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"}(e||(e={}));class bM{constructor(a,{headers:b={},customFetch:d,region:f=e.Any}={}){this.url=a,this.headers=b,this.region=f,this.fetch=(a=>{let b;return b=a||("undefined"==typeof fetch?(...a)=>Promise.resolve().then(c.bind(c,240)).then(({default:b})=>b(...a)):fetch),(...a)=>b(...a)})(d)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return(0,bH.__awaiter)(this,arguments,void 0,function*(a,b={}){var c;try{let d,{headers:e,method:f,body:g,signal:h}=b,i={},{region:j}=b;j||(j=this.region);let k=new URL(`${this.url}/${a}`);j&&"any"!==j&&(i["x-region"]=j,k.searchParams.set("forceFunctionRegion",j)),g&&(e&&!Object.prototype.hasOwnProperty.call(e,"Content-Type")||!e)?"undefined"!=typeof Blob&&g instanceof Blob||g instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",d=g):"string"==typeof g?(i["Content-Type"]="text/plain",d=g):"undefined"!=typeof FormData&&g instanceof FormData?d=g:(i["Content-Type"]="application/json",d=JSON.stringify(g)):d=g;let l=yield this.fetch(k.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),e),body:d,signal:h}).catch(a=>{if("AbortError"===a.name)throw a;throw new bJ(a)}),m=l.headers.get("x-relay-error");if(m&&"true"===m)throw new bK(l);if(!l.ok)throw new bL(l);let n=(null!=(c=l.headers.get("Content-Type"))?c:"text/plain").split(";")[0].trim();return{data:"application/json"===n?yield l.json():"application/octet-stream"===n||"application/pdf"===n?yield l.blob():"text/event-stream"===n?l:"multipart/form-data"===n?yield l.formData():yield l.text(),error:null,response:l}}catch(a){if(a instanceof Error&&"AbortError"===a.name)return{data:null,error:new bJ(a)};return{data:null,error:a,response:a instanceof bL||a instanceof bK?a.context:void 0}}})}}let{tE:bN,lc:bO,pT:bP,ZS:bQ,le:bR,kf:bS}=c(238);class bT{static detectEnvironment(){var a;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==c.g&&void 0!==c.g.WebSocket)return{type:"native",constructor:c.g.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null==(a=navigator.userAgent)?void 0:a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){let a=process.versions;if(a&&a.node){let b=parseInt(a.node.replace(/^v/,"").split(".")[0]);return b>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${b} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${b} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let a=this.detectEnvironment();if(a.constructor)return a.constructor;let b=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(b+=`

Suggested solution: ${a.workaround}`),Error(b)}static createWebSocket(a,b){return new(this.getWebSocketConstructor())(a,b)}static isWebSocketSupported(){try{let a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch(a){return!1}}}!function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"}(f||(f={})),function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"}(g||(g={})),function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"}(h||(h={})),(i||(i={})).websocket="websocket",function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"}(j||(j={}));class bU{constructor(){this.HEADER_LENGTH=1}decode(a,b){return a.constructor===ArrayBuffer?b(this._binaryDecode(a)):"string"==typeof a?b(JSON.parse(a)):b({})}_binaryDecode(a){let b=new DataView(a),c=new TextDecoder;return this._decodeBroadcast(a,b,c)}_decodeBroadcast(a,b,c){let d=b.getUint8(1),e=b.getUint8(2),f=this.HEADER_LENGTH+2,g=c.decode(a.slice(f,f+d));f+=d;let h=c.decode(a.slice(f,f+e));return f+=e,{ref:null,topic:g,event:h,payload:JSON.parse(c.decode(a.slice(f,a.byteLength)))}}}class bV{constructor(a,b){this.callback=a,this.timerCalc=b,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=b}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"}(k||(k={}));let bW=(a,b,c={})=>{var d;let e=null!=(d=c.skipTypes)?d:[];return b?Object.keys(b).reduce((c,d)=>(c[d]=bX(d,a,b,e),c),{}):{}},bX=(a,b,c,d)=>{let e=b.find(b=>b.name===a),f=null==e?void 0:e.type,g=c[a];return f&&!d.includes(f)?bY(f,g):bZ(g)},bY=(a,b)=>{if("_"===a.charAt(0))return b1(b,a.slice(1,a.length));switch(a){case k.bool:return b$(b);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return b_(b);case k.json:case k.jsonb:return b0(b);case k.timestamp:return b2(b);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return bZ(b)}},bZ=a=>a,b$=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},b_=a=>{if("string"==typeof a){let b=parseFloat(a);if(!Number.isNaN(b))return b}return a},b0=a=>{if("string"==typeof a)try{return JSON.parse(a)}catch(a){console.log(`JSON parse error: ${a}`)}return a},b1=(a,b)=>{if("string"!=typeof a)return a;let c=a.length-1,d=a[c];if("{"===a[0]&&"}"===d){let d,e=a.slice(1,c);try{d=JSON.parse("["+e+"]")}catch(a){d=e?e.split(","):[]}return d.map(a=>bY(b,a))}return a},b2=a=>"string"==typeof a?a.replace(" ","T"):a,b3=a=>{let b=new URL(a);return b.protocol=b.protocol.replace(/^ws/i,"http"),b.pathname=b.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===b.pathname||"/"===b.pathname?b.pathname="/api/broadcast":b.pathname=b.pathname+"/api/broadcast",b.href};class b4{constructor(a,b,c={},d=1e4){this.channel=a,this.event=b,this.payload=c,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,b){var c;return this._hasReceived(a)&&b(null==(c=this.receivedResp)?void 0:c.response),this.recHooks.push({status:a,callback:b}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let a=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,b){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:b})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:b}){this.recHooks.filter(b=>b.status===a).forEach(a=>a.callback(b))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}!function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"}(l||(l={}));class b5{constructor(a,b){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let c=(null==b?void 0:b.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=b5.syncState(this.state,a,b,c),this.pendingDiffs.forEach(a=>{this.state=b5.syncDiff(this.state,a,b,c)}),this.pendingDiffs=[],d()}),this.channel._on(c.diff,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=b5.syncDiff(this.state,a,b,c),d())}),this.onJoin((a,b,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:b,newPresences:c})}),this.onLeave((a,b,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:b,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,b,c,d){let e=this.cloneDeep(a),f=this.transformState(b),g={},h={};return this.map(e,(a,b)=>{f[a]||(h[a]=b)}),this.map(f,(a,b)=>{let c=e[a];if(c){let d=b.map(a=>a.presence_ref),e=c.map(a=>a.presence_ref),f=b.filter(a=>0>e.indexOf(a.presence_ref)),i=c.filter(a=>0>d.indexOf(a.presence_ref));f.length>0&&(g[a]=f),i.length>0&&(h[a]=i)}else g[a]=b}),this.syncDiff(e,{joins:g,leaves:h},c,d)}static syncDiff(a,b,c,d){let{joins:e,leaves:f}={joins:this.transformState(b.joins),leaves:this.transformState(b.leaves)};return c||(c=()=>{}),d||(d=()=>{}),this.map(e,(b,d)=>{var e;let f=null!=(e=a[b])?e:[];if(a[b]=this.cloneDeep(d),f.length>0){let c=a[b].map(a=>a.presence_ref),d=f.filter(a=>0>c.indexOf(a.presence_ref));a[b].unshift(...d)}c(b,f,d)}),this.map(f,(b,c)=>{let e=a[b];if(!e)return;let f=c.map(a=>a.presence_ref);e=e.filter(a=>0>f.indexOf(a.presence_ref)),a[b]=e,d(b,e,c),0===e.length&&delete a[b]}),a}static map(a,b){return Object.getOwnPropertyNames(a).map(c=>b(c,a[c]))}static transformState(a){return Object.getOwnPropertyNames(a=this.cloneDeep(a)).reduce((b,c)=>{let d=a[c];return"metas"in d?b[c]=d.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):b[c]=d,b},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"}(m||(m={})),function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"}(n||(n={})),function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"}(o||(o={}));class b6{constructor(a,b={config:{}},c){var d,e;if(this.topic=a,this.params=b,this.socket=c,this.bindings={},this.state=g.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},b.config),this.timeout=this.socket.timeout,this.joinPush=new b4(this,h.join,this.params,this.timeout),this.rejoinTimer=new bV(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=g.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=g.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this._on(h.reply,{},(a,b)=>{this._trigger(this._replyEventName(b),a)}),this.presence=new b5(this),this.broadcastEndpointURL=b3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(e=null==(d=this.params.config)?void 0:d.broadcast)?void 0:e.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,b=this.timeout){var c,d,e;if(this.socket.isConnected()||this.socket.connect(),this.state==g.closed){let{config:{broadcast:f,presence:h,private:i}}=this.params,j=null!=(d=null==(c=this.bindings.postgres_changes)?void 0:c.map(a=>a.filter))?d:[],k=!!this.bindings[n.PRESENCE]&&this.bindings[n.PRESENCE].length>0||(null==(e=this.params.config.presence)?void 0:e.enabled)===!0,l={},m={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:k}),postgres_changes:j,private:i};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this._onError(b=>null==a?void 0:a(o.CHANNEL_ERROR,b)),this._onClose(()=>null==a?void 0:a(o.CLOSED)),this.updateJoinPayload(Object.assign({config:m},l)),this.joinedOnce=!0,this._rejoin(b),this.joinPush.receive("ok",async({postgres_changes:b})=>{var c;if(this.socket.setAuth(),void 0===b){null==a||a(o.SUBSCRIBED);return}{let d=this.bindings.postgres_changes,e=null!=(c=null==d?void 0:d.length)?c:0,f=[];for(let c=0;c<e;c++){let e=d[c],{filter:{event:h,schema:i,table:j,filter:k}}=e,l=b&&b[c];if(l&&l.event===h&&l.schema===i&&l.table===j&&l.filter===k)f.push(Object.assign(Object.assign({},e),{id:l.id}));else{this.unsubscribe(),this.state=g.errored,null==a||a(o.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,a&&a(o.SUBSCRIBED);return}}).receive("error",b=>{this.state=g.errored,null==a||a(o.CHANNEL_ERROR,Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{null==a||a(o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,b={}){return await this.send({type:"presence",event:"track",payload:a},b.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,b,c){return this.state===g.joined&&a===n.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,b,c)}async httpSend(a,b,c={}){var d;let e=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==b)return Promise.reject("Payload is required for httpSend()");let f={method:"POST",headers:{Authorization:e,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:b,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,null!=(d=c.timeout)?d:this.timeout);if(202===g.status)return{success:!0};let h=g.statusText;try{let a=await g.json();h=a.error||a.message||h}catch(a){}return Promise.reject(Error(h))}async send(a,b={}){var c,d;if(this._canPush()||"broadcast"!==a.type)return new Promise(c=>{var d,e,f;let g=this._push(a.type,a,b.timeout||this.timeout);"broadcast"!==a.type||(null==(f=null==(e=null==(d=this.params)?void 0:d.config)?void 0:e.broadcast)?void 0:f.ack)||c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:e,payload:f}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:f,private:this.private}]})};try{let a=await this._fetchWithTimeout(this.broadcastEndpointURL,g,null!=(c=b.timeout)?c:this.timeout);return await (null==(d=a.body)?void 0:d.cancel()),a.ok?"ok":"error"}catch(a){if("AbortError"===a.name)return"timed out";return"error"}}}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=g.leaving;let b=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(h.close,"leave",this._joinRef())};this.joinPush.destroy();let c=null;return new Promise(d=>{(c=new b4(this,h.leave,{},a)).receive("ok",()=>{b(),d("ok")}).receive("timeout",()=>{b(),d("timed out")}).receive("error",()=>{d("error")}),c.send(),this._canPush()||c.trigger("ok",{})}).finally(()=>{null==c||c.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=g.closed,this.bindings={}}async _fetchWithTimeout(a,b,c){let d=new AbortController,e=setTimeout(()=>d.abort(),c),f=await this.socket.fetch(a,Object.assign(Object.assign({},b),{signal:d.signal}));return clearTimeout(e),f}_push(a,b,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new b4(this,a,b,c);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){let a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(a,b,c){return b}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,b,c){var d,e;let f=a.toLocaleLowerCase(),{close:g,error:i,leave:j,join:k}=h;if(c&&[g,i,j,k].indexOf(f)>=0&&c!==this._joinRef())return;let l=this._onMessage(f,b,c);if(b&&!l)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?null==(d=this.bindings.postgres_changes)||d.filter(a=>{var b,c,d;return(null==(b=a.filter)?void 0:b.event)==="*"||(null==(d=null==(c=a.filter)?void 0:c.event)?void 0:d.toLocaleLowerCase())===f}).map(a=>a.callback(l,c)):null==(e=this.bindings[f])||e.filter(a=>{var c,d,e,g,h,i;if(!["broadcast","presence","postgres_changes"].includes(f))return a.type.toLocaleLowerCase()===f;if("id"in a){let f=a.id,g=null==(c=a.filter)?void 0:c.event;return f&&(null==(d=b.ids)?void 0:d.includes(f))&&("*"===g||(null==g?void 0:g.toLocaleLowerCase())===(null==(e=b.data)?void 0:e.type.toLocaleLowerCase()))}{let c=null==(h=null==(g=null==a?void 0:a.filter)?void 0:g.event)?void 0:h.toLocaleLowerCase();return"*"===c||c===(null==(i=null==b?void 0:b.event)?void 0:i.toLocaleLowerCase())}}).map(a=>{if("object"==typeof l&&"ids"in l){let a=l.data,{schema:b,table:c,commit_timestamp:d,type:e,errors:f}=a;l=Object.assign(Object.assign({},{schema:b,table:c,commit_timestamp:d,eventType:e,new:{},old:{},errors:f}),this._getPayloadRecords(a))}a.callback(l,c)})}_isClosed(){return this.state===g.closed}_isJoined(){return this.state===g.joined}_isJoining(){return this.state===g.joining}_isLeaving(){return this.state===g.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,b,c){let d=a.toLocaleLowerCase(),e={type:d,filter:b,callback:c};return this.bindings[d]?this.bindings[d].push(e):this.bindings[d]=[e],this}_off(a,b){let c=a.toLocaleLowerCase();return this.bindings[c]&&(this.bindings[c]=this.bindings[c].filter(a=>{var d;return!((null==(d=a.type)?void 0:d.toLocaleLowerCase())===c&&b6.isEqual(a.filter,b))})),this}static isEqual(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(let c in a)if(a[c]!==b[c])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(h.close,{},a)}_onError(a){this._on(h.error,{},b=>a(b))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=g.joining,this.joinPush.resend(a))}_getPayloadRecords(a){let b={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(b.new=bW(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(b.old=bW(a.columns,a.old_record)),b}}let b7=()=>{},b8={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},b9=[1e3,2e3,5e3,1e4],ca=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cb{constructor(a,b){var d;if(this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=b8.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=b7,this.ref=0,this.reconnectTimer=null,this.logger=b7,this.conn=null,this.sendBuffer=[],this.serializer=new bU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let b;return b=a||("undefined"==typeof fetch?(...a)=>Promise.resolve().then(c.bind(c,240)).then(({default:b})=>b(...a)).catch(a=>{throw Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...a)=>b(...a)},!(null==(d=null==b?void 0:b.params)?void 0:d.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=b.params.apikey,this.endPoint=`${a}/${i.websocket}`,this.httpEndpoint=b3(a),this._initializeOptions(b),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==b?void 0:b.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bT.createWebSocket(this.endpointURL())}catch(b){this._setConnectionState("disconnected");let a=b.message;if(a.includes("Node.js"))throw Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(a,b){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let c=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(c),this._setConnectionState("disconnected")},a?this.conn.close(a,null!=b?b:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){let b=await a.unsubscribe();return 0===this.channels.length&&this.disconnect(),b}async removeAllChannels(){let a=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,b,c){this.logger(a,b,c)}connectionState(){switch(this.conn&&this.conn.readyState){case f.connecting:return j.Connecting;case f.open:return j.Open;case f.closing:return j.Closing;default:return j.Closed}}isConnected(){return this.connectionState()===j.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,b={config:{}}){let c=`realtime:${a}`,d=this.getChannels().find(a=>a.topic===c);if(d)return d;{let c=new b6(`realtime:${a}`,b,this);return this.channels.push(c),c}}push(a){let{topic:b,event:c,payload:d,ref:e}=a,f=()=>{this.encode(a,a=>{var b;null==(b=this.conn)||b.send(a)})};this.log("push",`${b} ${c} (${e})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,null==(a=this.conn)||a.close(1e3,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||null==(a=this.reconnectTimer)||a.scheduleTimeout()},b8.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let b=this.channels.find(b=>b.topic===a&&(b._isJoined()||b._isJoining()));b&&(this.log("transport",`leaving duplicate topic "${a}"`),b.unsubscribe())}_remove(a){this.channels=this.channels.filter(b=>b.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,a=>{if("phoenix"===a.topic&&"phx_reply"===a.event)try{this.heartbeatCallback("ok"===a.payload.status?"ok":"error")}catch(a){this.log("error","error in heartbeat callback",a)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:b,event:c,payload:d,ref:e}=a,f=e?`(${e})`:"",g=d.status||"";this.log("receive",`${g} ${b} ${c} ${f}`.trim(),d),this.channels.filter(a=>a._isMember(b)).forEach(a=>a._trigger(c,d,e)),this._triggerStateCallbacks("message",a)})}_clearTimer(a){var b;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null==(b=this.reconnectTimer)||b.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{"keepAlive"===a.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var b;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(b=this.reconnectTimer)||b.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(h.error))}_appendParams(a,b){if(0===Object.keys(b).length)return a;let c=a.match(/\?/)?"&":"?",d=new URLSearchParams(b);return`${a}${c}${d}`}_workerObjectUrl(a){let b;if(a)b=a;else{let a=new Blob([ca],{type:"application/javascript"});b=URL.createObjectURL(a)}return b}_setConnectionState(a,b=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=b)}async _performAuth(a=null){let b;b=a||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=b&&(this.accessTokenValue=b,this.channels.forEach(a=>{b&&a.updateJoinPayload({access_token:b,version:"realtime-js/2.76.1"}),a.joinedOnce&&a._isJoined()&&a._push(h.access_token,{access_token:b})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(b=>{this.log("error",`error setting auth in ${a}`,b)})}_triggerStateCallbacks(a,b){try{this.stateChangeCallbacks[a].forEach(c=>{try{c(b)}catch(b){this.log("error",`error in ${a} callback`,b)}})}catch(b){this.log("error",`error triggering ${a} callbacks`,b)}}_setupReconnectionTimer(){this.reconnectTimer=new bV(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},b8.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var b,c,d,e,f,g,h,i,j;if(this.transport=null!=(b=null==a?void 0:a.transport)?b:null,this.timeout=null!=(c=null==a?void 0:a.timeout)?c:1e4,this.heartbeatIntervalMs=null!=(d=null==a?void 0:a.heartbeatIntervalMs)?d:b8.HEARTBEAT_INTERVAL,this.worker=null!=(e=null==a?void 0:a.worker)&&e,this.accessToken=null!=(f=null==a?void 0:a.accessToken)?f:null,this.heartbeatCallback=null!=(g=null==a?void 0:a.heartbeatCallback)?g:b7,(null==a?void 0:a.params)&&(this.params=a.params),(null==a?void 0:a.logger)&&(this.logger=a.logger),((null==a?void 0:a.logLevel)||(null==a?void 0:a.log_level))&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(h=null==a?void 0:a.reconnectAfterMs)?h:a=>b9[a-1]||1e4,this.encode=null!=(i=null==a?void 0:a.encode)?i:(a,b)=>b(JSON.stringify(a)),this.decode=null!=(j=null==a?void 0:a.decode)?j:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==a?void 0:a.workerUrl}}}class cc extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function cd(a){return"object"==typeof a&&null!==a&&"__isStorageError"in a}class ce extends cc{constructor(a,b,c){super(a),this.name="StorageApiError",this.status=b,this.statusCode=c}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cf extends cc{constructor(a,b){super(a),this.name="StorageUnknownError",this.originalError=b}}let cg=a=>{let b;return b=a||("undefined"==typeof fetch?(...a)=>Promise.resolve().then(c.bind(c,240)).then(({default:b})=>b(...a)):fetch),(...a)=>b(...a)},ch=a=>{if(Array.isArray(a))return a.map(a=>ch(a));if("function"==typeof a||a!==Object(a))return a;let b={};return Object.entries(a).forEach(([a,c])=>{b[a.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""))]=ch(c)}),b},ci=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a);function cj(a,b,d,e,f,g){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return new Promise((h,i)=>{a(d,((a,b,c,d)=>{let e={method:a,headers:(null==b?void 0:b.headers)||{}};return"GET"!==a&&d?((a=>{if("object"!=typeof a||null===a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)})(d)?(e.headers=Object.assign({"Content-Type":"application/json"},null==b?void 0:b.headers),e.body=JSON.stringify(d)):e.body=d,(null==b?void 0:b.duplex)&&(e.duplex=b.duplex),Object.assign(Object.assign({},e),c)):e})(b,e,f,g)).then(a=>{if(!a.ok)throw a;return(null==e?void 0:e.noResolveJson)?a:a.json()}).then(a=>h(a)).catch(a=>(0,bH.__awaiter)(void 0,void 0,void 0,function*(){a instanceof(yield(0,bH.__awaiter)(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(c.bind(c,240))).Response:Response}))&&!(null==e?void 0:e.noResolveJson)?a.json().then(b=>{let c=a.status||500,d=(null==b?void 0:b.statusCode)||c+"";i(new ce(ci(b),c,d))}).catch(a=>{i(new cf(ci(a),a))}):i(new cf(ci(a),a))}))})})}function ck(a,b,c,d){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return cj(a,"GET",b,c,d)})}function cl(a,b,c,d,e){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return cj(a,"POST",b,d,e,c)})}function cm(a,b,c,d,e){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return cj(a,"PUT",b,d,e,c)})}function cn(a,b,c,d,e){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return cj(a,"DELETE",b,d,e,c)})}class co{constructor(a,b){this.downloadFn=a,this.shouldThrowOnError=b}then(a,b){return this.execute().then(a,b)}execute(){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}}class cp{constructor(a,b){this.downloadFn=a,this.shouldThrowOnError=b,this[p]="BlobDownloadBuilder",this.promise=null}asStream(){return new co(this.downloadFn,this.shouldThrowOnError)}then(a,b){return this.getPromise().then(a,b)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let a=yield this.downloadFn();return{data:yield a.blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}}p=Symbol.toStringTag;var cq=c(356).Buffer;let cr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ct{constructor(a,b={},c,d){this.shouldThrowOnError=!1,this.url=a,this.headers=b,this.bucketId=c,this.fetch=cg(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,b,c,d){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let e,f=Object.assign(Object.assign({},cs),d),g=Object.assign(Object.assign({},this.headers),"POST"===a&&{"x-upsert":String(f.upsert)}),h=f.metadata;"undefined"!=typeof Blob&&c instanceof Blob?((e=new FormData).append("cacheControl",f.cacheControl),h&&e.append("metadata",this.encodeMetadata(h)),e.append("",c)):"undefined"!=typeof FormData&&c instanceof FormData?((e=c).append("cacheControl",f.cacheControl),h&&e.append("metadata",this.encodeMetadata(h))):(e=c,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,h&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),(null==d?void 0:d.headers)&&(g=Object.assign(Object.assign({},g),d.headers));let i=this._removeEmptyFolders(b),j=this._getFinalPath(i),k=yield("PUT"==a?cm:cl)(this.fetch,`${this.url}/object/${j}`,e,Object.assign({headers:g},(null==f?void 0:f.duplex)?{duplex:f.duplex}:{}));return{data:{path:i,id:k.Id,fullPath:k.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}upload(a,b,c){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,b,c)})}uploadToSignedUrl(a,b,c,d){return(0,bH.__awaiter)(this,void 0,void 0,function*(){let e=this._removeEmptyFolders(a),f=this._getFinalPath(e),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",b);try{let a,b=Object.assign({upsert:cs.upsert},d),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});"undefined"!=typeof Blob&&c instanceof Blob?((a=new FormData).append("cacheControl",b.cacheControl),a.append("",c)):"undefined"!=typeof FormData&&c instanceof FormData?(a=c).append("cacheControl",b.cacheControl):(a=c,f["cache-control"]=`max-age=${b.cacheControl}`,f["content-type"]=b.contentType);let h=yield cm(this.fetch,g.toString(),a,{headers:f});return{data:{path:e,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(a,b){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=Object.assign({},this.headers);(null==b?void 0:b.upsert)&&(d["x-upsert"]="true");let e=yield cl(this.fetch,`${this.url}/object/upload/sign/${c}`,{},{headers:d}),f=new URL(this.url+e.url),g=f.searchParams.get("token");if(!g)throw new cc("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:g},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}update(a,b,c){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,b,c)})}move(a,b,c){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}copy(a,b,c){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield cl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}createSignedUrl(a,b,c){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let d=this._getFinalPath(a),e=yield cl(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:b},(null==c?void 0:c.transform)?{transform:c.transform}:{}),{headers:this.headers}),f=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return{data:e={signedUrl:encodeURI(`${this.url}${e.signedURL}${f}`)},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}createSignedUrls(a,b,c){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let d=yield cl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:b,paths:a},{headers:this.headers}),e=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return{data:d.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${e}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}download(a,b){let c=void 0!==(null==b?void 0:b.transform)?"render/image/authenticated":"object",d=this.transformOptsToQueryString((null==b?void 0:b.transform)||{}),e=d?`?${d}`:"",f=this._getFinalPath(a);return new cp(()=>ck(this.fetch,`${this.url}/${c}/${f}${e}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){let b=this._getFinalPath(a);try{let a=yield ck(this.fetch,`${this.url}/object/info/${b}`,{headers:this.headers});return{data:ch(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}exists(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){let b=this._getFinalPath(a);try{return yield function(a,b,c,d){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return cj(a,"HEAD",b,Object.assign(Object.assign({},c),{noResolveJson:!0}),void 0)})}(this.fetch,`${this.url}/object/${b}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a)&&a instanceof cf){let b=a.originalError;if([400,404].includes(null==b?void 0:b.status))return{data:!1,error:a}}throw a}})}getPublicUrl(a,b){let c=this._getFinalPath(a),d=[],e=(null==b?void 0:b.download)?`download=${!0===b.download?"":b.download}`:"";""!==e&&d.push(e);let f=void 0!==(null==b?void 0:b.transform),g=this.transformOptsToQueryString((null==b?void 0:b.transform)||{});""!==g&&d.push(g);let h=d.join("&");return""!==h&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f?"render/image":"object"}/public/${c}${h}`)}}}remove(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}list(a,b,c){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let d=Object.assign(Object.assign(Object.assign({},cr),b),{prefix:a||""});return{data:yield cl(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},c),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}listV2(a,b){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let c=Object.assign({},a);return{data:yield cl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,c,{headers:this.headers},b),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return void 0!==cq?cq.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){let b=[];return a.width&&b.push(`width=${a.width}`),a.height&&b.push(`height=${a.height}`),a.resize&&b.push(`resize=${a.resize}`),a.format&&b.push(`format=${a.format}`),a.quality&&b.push(`quality=${a.quality}`),b.join("&")}}let cu="2.76.1",cv={"X-Client-Info":`storage-js/${cu}`};class cw{constructor(a,b={},c,d){this.shouldThrowOnError=!1;let e=new URL(a);(null==d?void 0:d.useNewHostname)&&/supabase\.(co|in|red)$/.test(e.hostname)&&!e.hostname.includes("storage.supabase.")&&(e.hostname=e.hostname.replace("supabase.","storage.supabase.")),this.url=e.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cv),b),this.fetch=cg(c)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield ck(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}getBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield ck(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}createBucket(a){return(0,bH.__awaiter)(this,arguments,void 0,function*(a,b={public:!1}){try{return{data:yield cl(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:b.type,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}updateBucket(a,b){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}emptyBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}deleteBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}}class cx{constructor(a,b={},c){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cv),b),this.fetch=cg(c)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}listBuckets(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{let b=new URLSearchParams;(null==a?void 0:a.limit)!==void 0&&b.set("limit",a.limit.toString()),(null==a?void 0:a.offset)!==void 0&&b.set("offset",a.offset.toString()),(null==a?void 0:a.sortColumn)&&b.set("sortColumn",a.sortColumn),(null==a?void 0:a.sortOrder)&&b.set("sortOrder",a.sortOrder),(null==a?void 0:a.search)&&b.set("search",a.search);let c=b.toString(),d=c?`${this.url}/bucket?${c}`:`${this.url}/bucket`,e=yield ck(this.fetch,d,{headers:this.headers});return{data:Array.isArray(e)?e.filter(a=>"ANALYTICS"===a.type):[],error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}deleteBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cd(a))return{data:null,error:a};throw a}})}}let cy={"X-Client-Info":`storage-js/${cu}`,"Content-Type":"application/json"};class cz extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function cA(a){return"object"==typeof a&&null!==a&&"__isStorageVectorsError"in a}class cB extends cz{constructor(a,b,c){super(a),this.name="StorageVectorsApiError",this.status=b,this.statusCode=c}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cC extends cz{constructor(a,b){super(a),this.name="StorageVectorsUnknownError",this.originalError=b}}!function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"}(q||(q={}));let cD=a=>{let b;return b=a||("undefined"==typeof fetch?(...a)=>Promise.resolve().then(c.bind(c,240)).then(({default:b})=>b(...a)):fetch),(...a)=>b(...a)},cE=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a);function cF(a,b,c,d,e){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return function(a,b,c,d,e,f){return(0,bH.__awaiter)(this,void 0,void 0,function*(){return new Promise((g,h)=>{a(c,((a,b,c,d)=>{let e={method:a,headers:(null==b?void 0:b.headers)||{}};return"GET"!==a&&d?((a=>{if("object"!=typeof a||null===a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)})(d)?(e.headers=Object.assign({"Content-Type":"application/json"},null==b?void 0:b.headers),e.body=JSON.stringify(d)):e.body=d,Object.assign(Object.assign({},e),c)):e})(b,d,e,f)).then(a=>{if(!a.ok)throw a;if(null==d?void 0:d.noResolveJson)return a;let b=a.headers.get("content-type");return b&&b.includes("application/json")?a.json():{}}).then(a=>g(a)).catch(a=>(0,bH.__awaiter)(void 0,void 0,void 0,function*(){if(!(a&&"object"==typeof a&&"status"in a&&"ok"in a&&"number"==typeof a.status)||(null==d?void 0:d.noResolveJson))h(new cC(cE(a),a));else{let b=a.status||500;"function"==typeof a.json?a.json().then(a=>{let c=(null==a?void 0:a.statusCode)||(null==a?void 0:a.code)||b+"";h(new cB(cE(a),b,c))}).catch(()=>{h(new cB(a.statusText||`HTTP ${b} error`,b,b+""))}):h(new cB(a.statusText||`HTTP ${b} error`,b,b+""))}}))})})}(a,"POST",b,d,e,c)})}class cG{constructor(a,b={},c){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cy),b),this.fetch=cD(c)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cF(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}getIndex(a,b){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cF(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:b},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}listIndexes(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cF(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}deleteIndex(a,b){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cF(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:b},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}}class cH{constructor(a,b={},c){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cy),b),this.fetch=cD(c)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return{data:(yield cF(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}getVectors(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cF(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}listVectors(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield cF(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}queryVectors(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cF(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}deleteVectors(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return{data:(yield cF(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}}class cI{constructor(a,b={},c){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cy),b),this.fetch=cD(c)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cF(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}getBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cF(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}listBuckets(){return(0,bH.__awaiter)(this,arguments,void 0,function*(a={}){try{return{data:yield cF(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}deleteBucket(a){return(0,bH.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cF(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cA(a))return{data:null,error:a};throw a}})}}class cJ extends cI{constructor(a,b={}){super(a,b.headers||{},b.fetch)}from(a){return new cK(this.url,this.headers,a,this.fetch)}}class cK extends cG{constructor(a,b,c,d){super(a,b,d),this.vectorBucketName=c}createIndex(a){let b=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,bH.__awaiter)(this,void 0,void 0,function*(){return b.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,bH.__awaiter)(this,arguments,void 0,function*(b={}){return a.listIndexes.call(this,Object.assign(Object.assign({},b),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){let b=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,bH.__awaiter)(this,void 0,void 0,function*(){return b.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){let b=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,bH.__awaiter)(this,void 0,void 0,function*(){return b.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new cL(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class cL extends cH{constructor(a,b,c,d,e){super(a,b,e),this.vectorBucketName=c,this.indexName=d}putVectors(a){let b=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,bH.__awaiter)(this,void 0,void 0,function*(){return b.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){let b=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,bH.__awaiter)(this,void 0,void 0,function*(){return b.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,bH.__awaiter)(this,arguments,void 0,function*(b={}){return a.listVectors.call(this,Object.assign(Object.assign({},b),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){let b=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,bH.__awaiter)(this,void 0,void 0,function*(){return b.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){let b=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,bH.__awaiter)(this,void 0,void 0,function*(){return b.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class cM extends cw{constructor(a,b={},c,d){super(a,b,c,d)}from(a){return new ct(this.url,this.headers,a,this.fetch)}get vectors(){return new cJ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cx(this.url+"/iceberg",this.headers,this.fetch)}}let cN="";cN="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let cO={headers:{"X-Client-Info":`supabase-js-${cN}/2.76.1`}},cP={schema:"public"},cQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cR={};var cS=c(240);let cT="2.76.1",cU={"X-Client-Info":`gotrue-js/${cT}`},cV="X-Supabase-Api-Version",cW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class cY extends Error{constructor(a,b,c){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=b,this.code=c}}function cZ(a){return"object"==typeof a&&null!==a&&"__isAuthError"in a}class c$ extends cY{constructor(a,b,c){super(a,b,c),this.name="AuthApiError",this.status=b,this.code=c}}class c_ extends cY{constructor(a,b){super(a),this.name="AuthUnknownError",this.originalError=b}}class c0 extends cY{constructor(a,b,c,d){super(a,c,d),this.name=b,this.status=c}}class c1 extends c0{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class c2 extends c0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class c3 extends c0{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class c4 extends c0{constructor(a,b=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c5 extends c0{constructor(a,b=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c6 extends c0{constructor(a,b){super(a,"AuthRetryableFetchError",b,void 0)}}function c7(a){return cZ(a)&&"AuthRetryableFetchError"===a.name}class c8 extends c0{constructor(a,b,c){super(a,"AuthWeakPasswordError",b,"weak_password"),this.reasons=c}}class c9 extends c0{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}let da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),db=" 	\n\r=".split(""),dc=(()=>{let a=Array(128);for(let b=0;b<a.length;b+=1)a[b]=-1;for(let b=0;b<db.length;b+=1)a[db[b].charCodeAt(0)]=-2;for(let b=0;b<da.length;b+=1)a[da[b].charCodeAt(0)]=b;return a})();function dd(a,b,c){if(null!==a)for(b.queue=b.queue<<8|a,b.queuedBits+=8;b.queuedBits>=6;)c(da[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6;else if(b.queuedBits>0)for(b.queue=b.queue<<6-b.queuedBits,b.queuedBits=6;b.queuedBits>=6;)c(da[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6}function de(a,b,c){let d=dc[a];if(d>-1)for(b.queue=b.queue<<6|d,b.queuedBits+=6;b.queuedBits>=8;)c(b.queue>>b.queuedBits-8&255),b.queuedBits-=8;else if(-2===d)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}function df(a){let b=[],c=a=>{b.push(String.fromCodePoint(a))},d={utf8seq:0,codepoint:0},e={queue:0,queuedBits:0},f=a=>{!function(a,b,c){if(0===b.utf8seq){if(a<=127)return c(a);for(let c=1;c<6;c+=1)if((a>>7-c&1)==0){b.utf8seq=c;break}if(2===b.utf8seq)b.codepoint=31&a;else if(3===b.utf8seq)b.codepoint=15&a;else if(4===b.utf8seq)b.codepoint=7&a;else throw Error("Invalid UTF-8 sequence");b.utf8seq-=1}else if(b.utf8seq>0){if(a<=127)throw Error("Invalid UTF-8 sequence");b.codepoint=b.codepoint<<6|63&a,b.utf8seq-=1,0===b.utf8seq&&c(b.codepoint)}}(a,d,c)};for(let b=0;b<a.length;b+=1)de(a.charCodeAt(b),e,f);return b.join("")}function dg(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};for(let b=0;b<a.length;b+=1)de(a.charCodeAt(b),c,d);return new Uint8Array(b)}function dh(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};return a.forEach(a=>dd(a,c,d)),dd(null,c,d),b.join("")}let di=()=>"undefined"!=typeof window&&"undefined"!=typeof document,dj={tested:!1,writable:!1},dk=()=>{if(!di())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(a){return!1}if(dj.tested)return dj.writable;let a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),dj.tested=!0,dj.writable=!0}catch(a){dj.tested=!0,dj.writable=!1}return dj.writable},dl=a=>{let b;return b=a||("undefined"==typeof fetch?(...a)=>Promise.resolve().then(c.bind(c,240)).then(({default:b})=>b(...a)):fetch),(...a)=>b(...a)},dm=async(a,b,c)=>{await a.setItem(b,JSON.stringify(c))},dn=async(a,b)=>{let c=await a.getItem(b);if(!c)return null;try{return JSON.parse(c)}catch(a){return c}},dp=async(a,b)=>{await a.removeItem(b)};class dq{constructor(){this.promise=new dq.promiseConstructor((a,b)=>{this.resolve=a,this.reject=b})}}function dr(a){let b=a.split(".");if(3!==b.length)throw new c9("Invalid JWT structure");for(let a=0;a<b.length;a++)if(!cX.test(b[a]))throw new c9("JWT not in base64url format");return{header:JSON.parse(df(b[0])),payload:JSON.parse(df(b[1])),signature:dg(b[2]),raw:{header:b[0],payload:b[1]}}}async function ds(a){return await new Promise(b=>{setTimeout(()=>b(null),a)})}function dt(a){return("0"+a.toString(16)).substr(-2)}async function du(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>String.fromCharCode(a)).join("")}async function dv(a){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a):btoa(await du(a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dw(a,b,c=!1){let d=function(){let a=new Uint32Array(56);if("undefined"==typeof crypto){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",b=a.length,c="";for(let d=0;d<56;d++)c+=a.charAt(Math.floor(Math.random()*b));return c}return crypto.getRandomValues(a),Array.from(a,dt).join("")}(),e=d;c&&(e+="/PASSWORD_RECOVERY"),await dm(a,`${b}-code-verifier`,e);let f=await dv(d),g=d===f?"plain":"s256";return[f,g]}dq.promiseConstructor=Promise;let dx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,dy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dz(a){if(!dy.test(a))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dA(){return new Proxy({},{get:(a,b)=>{if("__isUserNotAvailableProxy"===b)return!0;if("symbol"==typeof b){let a=b.toString();if("Symbol(Symbol.toPrimitive)"===a||"Symbol(Symbol.toStringTag)"===a||"Symbol(util.inspect.custom)"===a)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${b}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dB(a){return JSON.parse(JSON.stringify(a))}let dC=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),dD=[502,503,504];async function dE(a){var b;let c,d;if(!("object"==typeof a&&null!==a&&"status"in a&&"ok"in a&&"json"in a&&"function"==typeof a.json))throw new c6(dC(a),0);if(dD.includes(a.status))throw new c6(dC(a),a.status);try{c=await a.json()}catch(a){throw new c_(dC(a),a)}let e=function(a){let b=a.headers.get(cV);if(!b||!b.match(dx))return null;try{return new Date(`${b}T00:00:00.0Z`)}catch(a){return null}}(a);if(e&&e.getTime()>=cW["2024-01-01"].timestamp&&"object"==typeof c&&c&&"string"==typeof c.code?d=c.code:"object"==typeof c&&c&&"string"==typeof c.error_code&&(d=c.error_code),d){if("weak_password"===d)throw new c8(dC(c),a.status,(null==(b=c.weak_password)?void 0:b.reasons)||[]);else if("session_not_found"===d)throw new c1}else if("object"==typeof c&&c&&"object"==typeof c.weak_password&&c.weak_password&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0))throw new c8(dC(c),a.status,c.weak_password.reasons);throw new c$(dC(c),a.status||500,d)}async function dF(a,b,c,d){var e;let f=Object.assign({},null==d?void 0:d.headers);f[cV]||(f[cV]=cW["2024-01-01"].name),(null==d?void 0:d.jwt)&&(f.Authorization=`Bearer ${d.jwt}`);let g=null!=(e=null==d?void 0:d.query)?e:{};(null==d?void 0:d.redirectTo)&&(g.redirect_to=d.redirectTo);let h=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",i=await dG(a,b,c+h,{headers:f,noResolveJson:null==d?void 0:d.noResolveJson},{},null==d?void 0:d.body);return(null==d?void 0:d.xform)?null==d?void 0:d.xform(i):{data:Object.assign({},i),error:null}}async function dG(a,b,c,d,e,f){let g,h=((a,b,c,d)=>{let e={method:a,headers:(null==b?void 0:b.headers)||{}};return"GET"===a?e:(e.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==b?void 0:b.headers),e.body=JSON.stringify(d),Object.assign(Object.assign({},e),c))})(b,d,e,f);try{g=await a(c,Object.assign({},h))}catch(a){throw console.error(a),new c6(dC(a),0)}if(g.ok||await dE(g),null==d?void 0:d.noResolveJson)return g;try{return await g.json()}catch(a){await dE(a)}}function dH(a){var b,c,d;let e=null;(d=a).access_token&&d.refresh_token&&d.expires_in&&(e=Object.assign({},a),a.expires_at||(e.expires_at=(c=a.expires_in,Math.round(Date.now()/1e3)+c)));return{data:{session:e,user:null!=(b=a.user)?b:a},error:null}}function dI(a){let b=dH(a);return!b.error&&a.weak_password&&"object"==typeof a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&"string"==typeof a.weak_password.message&&a.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0)&&(b.data.weak_password=a.weak_password),b}function dJ(a){var b;return{data:{user:null!=(b=a.user)?b:a},error:null}}function dK(a){return{data:a,error:null}}function dL(a){let{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f}=a;return{data:{properties:{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f},user:Object.assign({},(0,bH.__rest)(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function dM(a){return a}let dN=["global","local","others"];class dO{constructor({url:a="",headers:b={},fetch:c}){this.url=a,this.headers=b,this.fetch=dl(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,b=dN[0]){if(0>dN.indexOf(b))throw Error(`@supabase/auth-js: Parameter scope must be one of ${dN.join(", ")}`);try{return await dF(this.fetch,"POST",`${this.url}/logout?scope=${b}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async inviteUserByEmail(a,b={}){try{return await dF(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:b.data},headers:this.headers,redirectTo:b.redirectTo,xform:dJ})}catch(a){if(cZ(a))return{data:{user:null},error:a};throw a}}async generateLink(a){try{let{options:b}=a,c=(0,bH.__rest)(a,["options"]),d=Object.assign(Object.assign({},c),b);return"newEmail"in c&&(d.new_email=null==c?void 0:c.newEmail,delete d.newEmail),await dF(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:dL,redirectTo:null==b?void 0:b.redirectTo})}catch(a){if(cZ(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(a){try{return await dF(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:dJ})}catch(a){if(cZ(a))return{data:{user:null},error:a};throw a}}async listUsers(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await dF(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:dM});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(cZ(a))return{data:{users:[]},error:a};throw a}}async getUserById(a){dz(a);try{return await dF(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:dJ})}catch(a){if(cZ(a))return{data:{user:null},error:a};throw a}}async updateUserById(a,b){dz(a);try{return await dF(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:b,headers:this.headers,xform:dJ})}catch(a){if(cZ(a))return{data:{user:null},error:a};throw a}}async deleteUser(a,b=!1){dz(a);try{return await dF(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:b},xform:dJ})}catch(a){if(cZ(a))return{data:{user:null},error:a};throw a}}async _listFactors(a){dz(a.userId);try{let{data:b,error:c}=await dF(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:b,error:c}}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _deleteFactor(a){dz(a.userId),dz(a.id);try{return{data:await dF(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _listOAuthClients(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await dF(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:dM});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(cZ(a))return{data:{clients:[]},error:a};throw a}}async _createOAuthClient(a){try{return await dF(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _getOAuthClient(a){try{return await dF(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(a){try{return await dF(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(a){try{return await dF(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}}function dP(a={}){return{getItem:b=>a[b]||null,setItem:(b,c)=>{a[b]=c},removeItem:b=>{delete a[b]}}}let dQ={debug:!!(globalThis&&dk()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class dR extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class dS extends dR{}async function dT(a,b,c){dQ.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,b);let d=new globalThis.AbortController;return b>0&&setTimeout(()=>{d.abort(),dQ.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},b),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,0===b?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:d.signal},async d=>{if(d){dQ.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,d.name);try{return await c()}finally{dQ.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,d.name)}}if(0===b)throw dQ.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new dS(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(dQ.debug)try{let a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await c()}))}function dU(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}class dV extends Error{constructor({message:a,code:b,cause:c,name:d}){var e;super(a,{cause:c}),this.__isWebAuthnError=!0,this.name=null!=(e=null!=d?d:c instanceof Error?c.name:void 0)?e:"Unknown Error",this.code=b}}class dW extends dV{constructor(a,b){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:b,message:a}),this.name="WebAuthnUnknownError",this.originalError=b}}class dX{createNewAbortSignal(){if(this.controller){let a=Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}let a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){let a=Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}let dY=new dX;function dZ(a){return"localhost"===a||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function d$(){var a,b;return!!(di()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(a=null==navigator?void 0:navigator.credentials)?void 0:a.create)&&"function"==typeof(null==(b=null==navigator?void 0:navigator.credentials)?void 0:b.get))}async function d_(a){try{let b=await navigator.credentials.create(a);if(!b)return{data:null,error:new dW("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new dW("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){var c,d,e;let{publicKey:f}=b;if(!f)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new dV({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("ConstraintError"===a.name){if((null==(c=f.authenticatorSelection)?void 0:c.requireResidentKey)===!0)return new dV({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});else if("conditional"===b.mediation&&(null==(d=f.authenticatorSelection)?void 0:d.userVerification)==="required")return new dV({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});else if((null==(e=f.authenticatorSelection)?void 0:e.userVerification)==="required")return new dV({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else if("InvalidStateError"===a.name)return new dV({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});else if("NotAllowedError"===a.name)return new dV({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("NotSupportedError"===a.name)return new dV(0===f.pubKeyCredParams.filter(a=>"public-key"===a.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!dZ(b))return new dV({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(f.rp.id!==b)return new dV({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("TypeError"===a.name){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new dV({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if("UnknownError"===a.name)return new dV({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new dV({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}async function d0(a){try{let b=await navigator.credentials.get(a);if(!b)return{data:null,error:new dW("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new dW("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){let{publicKey:c}=b;if(!c)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new dV({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("NotAllowedError"===a.name)return new dV({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!dZ(b))return new dV({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(c.rpId!==b)return new dV({message:`The RP ID "${c.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("UnknownError"===a.name)return new dV({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new dV({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}let d1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},d2={userVerification:"preferred",hints:["security-key"]};function d3(...a){let b=a=>null!==a&&"object"==typeof a&&!Array.isArray(a),c=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),d={};for(let e of a)if(e)for(let a in e){let f=e[a];if(void 0!==f)if(Array.isArray(f))d[a]=f;else if(c(f))d[a]=f;else if(b(f)){let c=d[a];b(c)?d[a]=d3(c,f):d[a]=d3(f)}else d[a]=f}return d}class d4{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:b,friendlyName:c,signal:d},e){try{var f,g,h,i;let{data:j,error:k}=await this.client.mfa.challenge({factorId:a,webauthn:b});if(!j)return{data:null,error:k};let l=null!=d?d:dY.createNewAbortSignal();if("create"===j.webauthn.type){let{user:a}=j.webauthn.credential_options.publicKey;a.name||(a.name=`${a.id}:${c}`),a.displayName||(a.displayName=a.name)}switch(j.webauthn.type){case"create":{let b=(f=j.webauthn.credential_options.publicKey,g=null==e?void 0:e.create,d3(d1,f,g||{})),{data:c,error:d}=await d_({publicKey:b,signal:l});if(c)return{data:{factorId:a,challengeId:j.id,webauthn:{type:j.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}case"request":{let b=(h=j.webauthn.credential_options.publicKey,i=null==e?void 0:e.request,d3(d2,h,i||{})),{data:c,error:d}=await d0(Object.assign(Object.assign({},j.webauthn.credential_options),{publicKey:b,signal:l}));if(c)return{data:{factorId:a,challengeId:j.id,webauthn:{type:j.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}}}catch(a){if(cZ(a))return{data:null,error:a};return{data:null,error:new c_("Unexpected error in challenge",a)}}}async _verify({challengeId:a,factorId:b,webauthn:c}){return this.client.mfa.verify({factorId:b,challengeId:a,webauthn:c})}async _authenticate({factorId:a,webauthn:{rpId:b="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:c="undefined"!=typeof window?[window.location.origin]:void 0,signal:d}},e){if(!b)return{data:null,error:new cY("rpId is required for WebAuthn authentication")};try{if(!d$())return{data:null,error:new c_("Browser does not support WebAuthn",null)};let{data:f,error:g}=await this.challenge({factorId:a,webauthn:{rpId:b,rpOrigins:c},signal:d},{request:e});if(!f)return{data:null,error:g};let{webauthn:h}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:h.type,rpId:b,rpOrigins:c,credential_response:h.credential_response}})}catch(a){if(cZ(a))return{data:null,error:a};return{data:null,error:new c_("Unexpected error in authenticate",a)}}}async _register({friendlyName:a,rpId:b="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:c="undefined"!=typeof window?[window.location.origin]:void 0,signal:d},e){if(!b)return{data:null,error:new cY("rpId is required for WebAuthn registration")};try{if(!d$())return{data:null,error:new c_("Browser does not support WebAuthn",null)};let{data:f,error:g}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var c;return null==(c=b.data)?void 0:c.all.find(b=>"webauthn"===b.factor_type&&b.friendly_name===a&&"unverified"!==b.status)}).then(a=>a?this.client.mfa.unenroll({factorId:null==a?void 0:a.id}):void 0),{data:null,error:g};let{data:h,error:i}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:b,rpOrigins:c},signal:d},{create:e});if(!h)return{data:null,error:i};return this._verify({factorId:f.id,challengeId:h.challengeId,webauthn:{rpId:b,rpOrigins:c,type:h.webauthn.type,credential_response:h.webauthn.credential_response}})}catch(a){if(cZ(a))return{data:null,error:a};return{data:null,error:new c_("Unexpected error in register",a)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(a){"undefined"!=typeof self&&(self.globalThis=self)}let d5={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function d6(a,b,c){return await c()}let d7={};class d8{get jwks(){var a,b;return null!=(b=null==(a=d7[this.storageKey])?void 0:a.jwks)?b:{keys:[]}}set jwks(a){d7[this.storageKey]=Object.assign(Object.assign({},d7[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,b;return null!=(b=null==(a=d7[this.storageKey])?void 0:a.cachedAt)?b:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){d7[this.storageKey]=Object.assign(Object.assign({},d7[this.storageKey]),{cachedAt:a})}constructor(a){var b,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=d8.nextInstanceID,d8.nextInstanceID+=1,this.instanceID>0&&di()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let d=Object.assign(Object.assign({},d5),a);if(this.logDebugMessages=!!d.debug,"function"==typeof d.debug&&(this.logger=d.debug),this.persistSession=d.persistSession,this.storageKey=d.storageKey,this.autoRefreshToken=d.autoRefreshToken,this.admin=new dO({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=dl(d.fetch),this.lock=d.lock||d6,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,d.lock?this.lock=d.lock:di()&&(null==(b=null==globalThis?void 0:globalThis.navigator)?void 0:b.locks)?this.lock=dT:this.lock=d6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new d4(this)},this.persistSession?(d.storage?this.storage=d.storage:dk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dP(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=dP(this.memoryStorage)),di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null==(c=this.broadcastChannel)||c.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cT}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var a;try{let b=function(a){let b={},c=new URL(a);if(c.hash&&"#"===c.hash[0])try{new URLSearchParams(c.hash.substring(1)).forEach((a,c)=>{b[c]=a})}catch(a){}return c.searchParams.forEach((a,c)=>{b[c]=a}),b}(window.location.href),c="none";if(this._isImplicitGrantCallback(b)?c="implicit":await this._isPKCECallback(b)&&(c="pkce"),di()&&this.detectSessionInUrl&&"none"!==c){let{data:d,error:e}=await this._getSessionFromURL(b,c);if(e){if(this._debug("#_initialize()","error detecting session from URL",e),cZ(e)&&"AuthImplicitGrantRedirectError"===e.name){let b=null==(a=e.details)?void 0:a.code;if("identity_already_exists"===b||"identity_not_found"===b||"single_identity_not_deletable"===b)return{error:e}}return await this._removeSession(),{error:e}}let{session:f,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{"recovery"===g?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){if(cZ(a))return{error:a};return{error:new c_("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var b,c,d;try{let{data:e,error:f}=await dF(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(c=null==(b=null==a?void 0:a.options)?void 0:b.data)?c:{},gotrue_meta_security:{captcha_token:null==(d=null==a?void 0:a.options)?void 0:d.captchaToken}},xform:dH});if(f||!e)return{data:{user:null,session:null},error:f};let g=e.session,h=e.user;return e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:h,session:g},error:null}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(a){var b,c,d;try{let e;if("email"in a){let{email:c,password:d,options:f}=a,g=null,h=null;"pkce"===this.flowType&&([g,h]=await dw(this.storage,this.storageKey)),e=await dF(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==f?void 0:f.emailRedirectTo,body:{email:c,password:d,data:null!=(b=null==f?void 0:f.data)?b:{},gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken},code_challenge:g,code_challenge_method:h},xform:dH})}else if("phone"in a){let{phone:b,password:f,options:g}=a;e=await dF(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:f,data:null!=(c=null==g?void 0:g.data)?c:{},channel:null!=(d=null==g?void 0:g.channel)?d:"sms",gotrue_meta_security:{captcha_token:null==g?void 0:g.captchaToken}},xform:dH})}else throw new c3("You must provide either an email or phone number and a password");let{data:f,error:g}=e;if(g||!f)return{data:{user:null,session:null},error:g};let h=f.session,i=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:i,session:h},error:null}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(a){try{let b;if("email"in a){let{email:c,password:d,options:e}=a;b=await dF(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:dI})}else if("phone"in a){let{phone:c,password:d,options:e}=a;b=await dF(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:dI})}else throw new c3("You must provide either an email or phone number and a password");let{data:c,error:d}=b;if(d)return{data:{user:null,session:null},error:d};if(!c||!c.session||!c.user)return{data:{user:null,session:null},error:new c2};return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:d}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(a){var b,c,d,e;return await this._handleProviderSignIn(a.provider,{redirectTo:null==(b=a.options)?void 0:b.redirectTo,scopes:null==(c=a.options)?void 0:c.scopes,queryParams:null==(d=a.options)?void 0:d.queryParams,skipBrowserRedirect:null==(e=a.options)?void 0:e.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){let{chain:b}=a;switch(b){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw Error(`@supabase/auth-js: Unsupported chain "${b}"`)}}async signInWithEthereum(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let k,{chain:l,wallet:p,statement:q,options:r}=a;if(di())if("object"==typeof p)k=p;else{let a=window;if("ethereum"in a&&"object"==typeof a.ethereum&&"request"in a.ethereum&&"function"==typeof a.ethereum.request)k=a.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==r?void 0:r.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}let s=new URL(null!=(b=null==r?void 0:r.url)?b:window.location.href),t=await k.request({method:"eth_requestAccounts"}).then(a=>a).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!t||0===t.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let u=dU(t[0]),v=null==(c=null==r?void 0:r.signInWithEthereum)?void 0:c.chainId;v||(v=parseInt(await k.request({method:"eth_chainId"}),16)),n=function(a){var b;let{chainId:c,domain:d,expirationTime:e,issuedAt:f=new Date,nonce:g,notBefore:h,requestId:i,resources:j,scheme:k,uri:l,version:m}=a;if(!Number.isInteger(c))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${c}`);if(!d)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!l)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==m)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(null==(b=a.statement)?void 0:b.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`);let n=dU(a.address),o=k?`${k}://${d}`:d,p=a.statement?`${a.statement}
`:"",q=`${o} wants you to sign in with your Ethereum account:
${n}

${p}`,r=`URI: ${l}
Version: ${m}
Chain ID: ${c}${g?`
Nonce: ${g}`:""}
Issued At: ${f.toISOString()}`;if(e&&(r+=`
Expiration Time: ${e.toISOString()}`),h&&(r+=`
Not Before: ${h.toISOString()}`),i&&(r+=`
Request ID: ${i}`),j){let a="\nResources:";for(let b of j){if(!b||"string"!=typeof b)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);a+=`
- ${b}`}r+=a}return`${q}
${r}`}({domain:s.host,address:u,statement:q,uri:s.href,version:"1",chainId:v,nonce:null==(d=null==r?void 0:r.signInWithEthereum)?void 0:d.nonce,issuedAt:null!=(f=null==(e=null==r?void 0:r.signInWithEthereum)?void 0:e.issuedAt)?f:new Date,expirationTime:null==(g=null==r?void 0:r.signInWithEthereum)?void 0:g.expirationTime,notBefore:null==(h=null==r?void 0:r.signInWithEthereum)?void 0:h.notBefore,requestId:null==(i=null==r?void 0:r.signInWithEthereum)?void 0:i.requestId,resources:null==(j=null==r?void 0:r.signInWithEthereum)?void 0:j.resources}),o=await k.request({method:"personal_sign",params:[(m=n,"0x"+Array.from(new TextEncoder().encode(m),a=>a.toString(16).padStart(2,"0")).join("")),u]})}try{let{data:b,error:c}=await dF(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:n,signature:o},(null==(k=a.options)?void 0:k.captchaToken)?{gotrue_meta_security:{captcha_token:null==(l=a.options)?void 0:l.captchaToken}}:null),xform:dH});if(c)throw c;if(!b||!b.session||!b.user)return{data:{user:null,session:null},error:new c2};return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:c}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSolana(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let l,{chain:m,wallet:p,statement:q,options:r}=a;if(di())if("object"==typeof p)l=p;else{let a=window;if("solana"in a&&"object"==typeof a.solana&&("signIn"in a.solana&&"function"==typeof a.solana.signIn||"signMessage"in a.solana&&"function"==typeof a.solana.signMessage))l=a.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==r?void 0:r.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");l=p}let s=new URL(null!=(b=null==r?void 0:r.url)?b:window.location.href);if("signIn"in l&&l.signIn){let a,b=await l.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==r?void 0:r.signInWithSolana),{version:"1",domain:s.host,uri:s.href}),q?{statement:q}:null));if(Array.isArray(b)&&b[0]&&"object"==typeof b[0])a=b[0];else if(b&&"object"==typeof b&&"signedMessage"in b&&"signature"in b)a=b;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in a&&"signature"in a&&("string"==typeof a.signedMessage||a.signedMessage instanceof Uint8Array)&&a.signature instanceof Uint8Array)n="string"==typeof a.signedMessage?a.signedMessage:new TextDecoder().decode(a.signedMessage),o=a.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in l)||"function"!=typeof l.signMessage||!("publicKey"in l)||"object"!=typeof l||!l.publicKey||!("toBase58"in l.publicKey)||"function"!=typeof l.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");n=[`${s.host} wants you to sign in with your Solana account:`,l.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${s.href}`,`Issued At: ${null!=(d=null==(c=null==r?void 0:r.signInWithSolana)?void 0:c.issuedAt)?d:new Date().toISOString()}`,...(null==(e=null==r?void 0:r.signInWithSolana)?void 0:e.notBefore)?[`Not Before: ${r.signInWithSolana.notBefore}`]:[],...(null==(f=null==r?void 0:r.signInWithSolana)?void 0:f.expirationTime)?[`Expiration Time: ${r.signInWithSolana.expirationTime}`]:[],...(null==(g=null==r?void 0:r.signInWithSolana)?void 0:g.chainId)?[`Chain ID: ${r.signInWithSolana.chainId}`]:[],...(null==(h=null==r?void 0:r.signInWithSolana)?void 0:h.nonce)?[`Nonce: ${r.signInWithSolana.nonce}`]:[],...(null==(i=null==r?void 0:r.signInWithSolana)?void 0:i.requestId)?[`Request ID: ${r.signInWithSolana.requestId}`]:[],...(null==(k=null==(j=null==r?void 0:r.signInWithSolana)?void 0:j.resources)?void 0:k.length)?["Resources",...r.signInWithSolana.resources.map(a=>`- ${a}`)]:[]].join("\n");let a=await l.signMessage(new TextEncoder().encode(n),"utf8");if(!a||!(a instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");o=a}}try{let{data:b,error:c}=await dF(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:n,signature:dh(o)},(null==(l=a.options)?void 0:l.captchaToken)?{gotrue_meta_security:{captcha_token:null==(m=a.options)?void 0:m.captchaToken}}:null),xform:dH});if(c)throw c;if(!b||!b.session||!b.user)return{data:{user:null,session:null},error:new c2};return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:c}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async _exchangeCodeForSession(a){let b=await dn(this.storage,`${this.storageKey}-code-verifier`),[c,d]=(null!=b?b:"").split("/");try{let{data:b,error:e}=await dF(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:c},xform:dH});if(await dp(this.storage,`${this.storageKey}-code-verifier`),e)throw e;if(!b||!b.session||!b.user)return{data:{user:null,session:null,redirectType:null},error:new c2};return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign(Object.assign({},b),{redirectType:null!=d?d:null}),error:e}}catch(a){if(cZ(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(a){try{let{options:b,provider:c,token:d,access_token:e,nonce:f}=a,{data:g,error:h}=await dF(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:e,nonce:f,gotrue_meta_security:{captcha_token:null==b?void 0:b.captchaToken}},xform:dH});if(h)return{data:{user:null,session:null},error:h};if(!g||!g.session||!g.user)return{data:{user:null,session:null},error:new c2};return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:h}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(a){var b,c,d,e,f;try{if("email"in a){let{email:d,options:e}=a,f=null,g=null;"pkce"===this.flowType&&([f,g]=await dw(this.storage,this.storageKey));let{error:h}=await dF(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:null!=(b=null==e?void 0:e.data)?b:{},create_user:null==(c=null==e?void 0:e.shouldCreateUser)||c,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:null==e?void 0:e.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in a){let{phone:b,options:c}=a,{data:g,error:h}=await dF(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:null!=(d=null==c?void 0:c.data)?d:{},create_user:null==(e=null==c?void 0:c.shouldCreateUser)||e,gotrue_meta_security:{captcha_token:null==c?void 0:c.captchaToken},channel:null!=(f=null==c?void 0:c.channel)?f:"sms"}});return{data:{user:null,session:null,messageId:null==g?void 0:g.message_id},error:h}}throw new c3("You must provide either an email or phone number.")}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(a){var b,c;try{let d,e;"options"in a&&(d=null==(b=a.options)?void 0:b.redirectTo,e=null==(c=a.options)?void 0:c.captchaToken);let{data:f,error:g}=await dF(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:e}}),redirectTo:d,xform:dH});if(g)throw g;if(!f)throw Error("An error occurred on token verification.");let h=f.session,i=f.user;return(null==h?void 0:h.access_token)&&(await this._saveSession(h),await this._notifyAllSubscribers("recovery"==a.type?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:i,session:h},error:null}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(a){var b,c,d;try{let e=null,f=null;return"pkce"===this.flowType&&([e,f]=await dw(this.storage,this.storageKey)),await dF(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:null!=(c=null==(b=a.options)?void 0:b.redirectTo)?c:void 0}),(null==(d=null==a?void 0:a.options)?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:e,code_challenge_method:f}),headers:this.headers,xform:dK})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;if(c)throw c;if(!b)throw new c1;let{error:d}=await dF(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:b.access_token});return{data:{user:null,session:null},error:d}})}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{let b=`${this.url}/resend`;if("email"in a){let{email:c,type:d,options:e}=a,{error:f}=await dF(this.fetch,"POST",b,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},redirectTo:null==e?void 0:e.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in a){let{phone:c,type:d,options:e}=a,{data:f,error:g}=await dF(this.fetch,"POST",b,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}}});return{data:{user:null,session:null,messageId:null==f?void 0:f.message_id},error:g}}throw new c3("You must provide either an email or phone number and a type")}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(a,b){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await a,await b()))();return this.pendingInLock.push((async()=>{try{await c}catch(a){}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=b();for(this.pendingInLock.push((async()=>{try{await a}catch(a){}})()),await a;this.pendingInLock.length;){let a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{let b=await this.__loadSession();return await a(b)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let a=null,b=await dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",b),null!==b&&(this._isValidSession(b)?a=b:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};let c=!!a.expires_at&&1e3*a.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${c?"":" not"} expired`,"expires_at",a.expires_at),!c){if(this.userStorage){let b=await dn(this.userStorage,this.storageKey+"-user");(null==b?void 0:b.user)?a.user=b.user:a.user=dA()}if(this.storage.isServer&&a.user){let b=this.suppressGetSessionWarning;a=new Proxy(a,{get:(a,c,d)=>(b||"user"!==c||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),b=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:a},error:null}}let{data:d,error:e}=await this._callRefreshToken(a.refresh_token);if(e)return{data:{session:null},error:e};return{data:{session:d},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{if(a)return await dF(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:dJ});return await this._useSession(async a=>{var b,c,d;let{data:e,error:f}=a;if(f)throw f;return(null==(b=e.session)?void 0:b.access_token)||this.hasCustomAuthorizationHeader?await dF(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0,xform:dJ}):{data:{user:null},error:new c1}})}catch(a){if(cZ(a))return cZ(a)&&"AuthSessionMissingError"===a.name&&(await this._removeSession(),await dp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(a,b={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,b))}async _updateUser(a,b={}){try{return await this._useSession(async c=>{let{data:d,error:e}=c;if(e)throw e;if(!d.session)throw new c1;let f=d.session,g=null,h=null;"pkce"===this.flowType&&null!=a.email&&([g,h]=await dw(this.storage,this.storageKey));let{data:i,error:j}=await dF(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==b?void 0:b.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:h}),jwt:f.access_token,xform:dJ});if(j)throw j;return f.user=i.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(a){if(cZ(a))return{data:{user:null},error:a};throw a}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new c1;let b=Date.now()/1e3,c=b,d=!0,e=null,{payload:f}=dr(a.access_token);if(f.exp&&(d=(c=f.exp)<=b),d){let{data:b,error:c}=await this._callRefreshToken(a.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!b)return{data:{user:null,session:null},error:null};e=b}else{let{data:d,error:f}=await this._getUser(a.access_token);if(f)throw f;e={access_token:a.access_token,refresh_token:a.refresh_token,user:d.user,token_type:"bearer",expires_in:c-b,expires_at:c},await this._saveSession(e),await this._notifyAllSubscribers("SIGNED_IN",e)}return{data:{user:e.user,session:e},error:null}}catch(a){if(cZ(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async b=>{var c;if(!a){let{data:d,error:e}=b;if(e)throw e;a=null!=(c=d.session)?c:void 0}if(!(null==a?void 0:a.refresh_token))throw new c1;let{data:d,error:e}=await this._callRefreshToken(a.refresh_token);return e?{data:{user:null,session:null},error:e}:d?{data:{user:d.user,session:d},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(a,b){try{if(!di())throw new c4("No browser detected.");if(a.error||a.error_description||a.error_code)throw new c4(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(b){case"implicit":if("pkce"===this.flowType)throw new c5("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new c4("Not a valid implicit grant flow url.")}if("pkce"===b){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new c5("No code detected.");let{data:b,error:c}=await this._exchangeCodeForSession(a.code);if(c)throw c;let d=new URL(window.location.href);return d.searchParams.delete("code"),window.history.replaceState(window.history.state,"",d.toString()),{data:{session:b.session,redirectType:null},error:null}}let{provider_token:c,provider_refresh_token:d,access_token:e,refresh_token:f,expires_in:g,expires_at:h,token_type:i}=a;if(!e||!g||!f||!i)throw new c4("No session defined in URL");let j=Math.round(Date.now()/1e3),k=parseInt(g),l=j+k;h&&(l=parseInt(h));let m=l-j;1e3*m<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${k}s`);let n=l-k;j-n>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",n,l,j):j-n<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",n,l,j);let{data:o,error:p}=await this._getUser(e);if(p)throw p;let q={provider_token:c,provider_refresh_token:d,access_token:e,expires_in:k,expires_at:l,refresh_token:f,token_type:i,user:o.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:a.type},error:null}}catch(a){if(cZ(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){let b=await dn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&b)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e)return{error:e};let f=null==(c=d.session)?void 0:c.access_token;if(f){let{error:b}=await this.admin.signOut(f,a);if(b&&!(cZ(b)&&"AuthApiError"===b.name&&(404===b.status||401===b.status||403===b.status)))return{error:b}}return"others"!==a&&(await this._removeSession(),await dp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){let b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)}),c={id:b,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",b),this.stateChangeEmitters.delete(b)}};return this._debug("#onAuthStateChange()","registered callback with id",b),this.stateChangeEmitters.set(b,c),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(b)})})(),{data:{subscription:c}}}async _emitInitialSession(a){return await this._useSession(async b=>{var c,d;try{let{data:{session:d},error:e}=b;if(e)throw e;await (null==(c=this.stateChangeEmitters.get(a))?void 0:c.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(b){await (null==(d=this.stateChangeEmitters.get(a))?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",b),console.error(b)}})}async resetPasswordForEmail(a,b={}){let c=null,d=null;"pkce"===this.flowType&&([c,d]=await dw(this.storage,this.storageKey,!0));try{return await dF(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:b.captchaToken}},headers:this.headers,redirectTo:b.redirectTo})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async getUserIdentities(){var a;try{let{data:b,error:c}=await this.getUser();if(c)throw c;return{data:{identities:null!=(a=b.user.identities)?a:[]},error:null}}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var b;try{let{data:c,error:d}=await this._useSession(async b=>{var c,d,e,f,g;let{data:h,error:i}=b;if(i)throw i;let j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:null==(c=a.options)?void 0:c.redirectTo,scopes:null==(d=a.options)?void 0:d.scopes,queryParams:null==(e=a.options)?void 0:e.queryParams,skipBrowserRedirect:!0});return await dF(this.fetch,"GET",j,{headers:this.headers,jwt:null!=(g=null==(f=h.session)?void 0:f.access_token)?g:void 0})});if(d)throw d;return!di()||(null==(b=a.options)?void 0:b.skipBrowserRedirect)||window.location.assign(null==c?void 0:c.url),{data:{provider:a.provider,url:null==c?void 0:c.url},error:null}}catch(b){if(cZ(b))return{data:{provider:a.provider,url:null},error:b};throw b}}async linkIdentityIdToken(a){return await this._useSession(async b=>{var c;try{let{error:d,data:{session:e}}=b;if(d)throw d;let{options:f,provider:g,token:h,access_token:i,nonce:j}=a,{data:k,error:l}=await dF(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(c=null==e?void 0:e.access_token)?c:void 0,body:{provider:g,id_token:h,access_token:i,nonce:j,link_identity:!0,gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken}},xform:dH});if(l)return{data:{user:null,session:null},error:l};if(!k||!k.session||!k.user)return{data:{user:null,session:null},error:new c2};return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),{data:k,error:l}}catch(a){if(cZ(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)throw f;return await dF(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _refreshAccessToken(a){let b=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(b,"begin");try{var c,d;let e=Date.now();return await (c=async c=>(c>0&&await ds(200*Math.pow(2,c-1)),this._debug(b,"refreshing attempt",c),await dF(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:dH})),d=(a,b)=>{let c=200*Math.pow(2,a);return b&&c7(b)&&Date.now()+c-e<3e4},new Promise((a,b)=>{(async()=>{for(let e=0;e<1/0;e++)try{let b=await c(e);if(!d(e,null,b))return void a(b)}catch(a){if(!d(e,a))return void b(a)}})()}))}catch(a){if(this._debug(b,"error",a),cZ(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(b,"end")}}_isValidSession(a){return"object"==typeof a&&null!==a&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,b){let c=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:b.redirectTo,scopes:b.scopes,queryParams:b.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",b,"url",c),di()&&!b.skipBrowserRedirect&&window.location.assign(c),{data:{provider:a,url:c},error:null}}async _recoverAndRefresh(){var a,b;let c="#_recoverAndRefresh()";this._debug(c,"begin");try{let d=await dn(this.storage,this.storageKey);if(d&&this.userStorage){let b=await dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:d.user},await dm(this.userStorage,this.storageKey+"-user",b)),d.user=null!=(a=null==b?void 0:b.user)?a:dA()}else if(d&&!d.user&&!d.user){let a=await dn(this.storage,this.storageKey+"-user");a&&(null==a?void 0:a.user)?(d.user=a.user,await dp(this.storage,this.storageKey+"-user"),await dm(this.storage,this.storageKey,d)):d.user=dA()}if(this._debug(c,"session from storage",d),!this._isValidSession(d)){this._debug(c,"session is not valid"),null!==d&&await this._removeSession();return}let e=(null!=(b=d.expires_at)?b:1/0)*1e3-Date.now()<9e4;if(this._debug(c,`session has${e?"":" not"} expired with margin of 90000s`),e){if(this.autoRefreshToken&&d.refresh_token){let{error:a}=await this._callRefreshToken(d.refresh_token);a&&(console.error(a),c7(a)||(this._debug(c,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(d.user&&!0===d.user.__isUserNotAvailableProxy)try{let{data:a,error:b}=await this._getUser(d.access_token);!b&&(null==a?void 0:a.user)?(d.user=a.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(c,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(c,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(a){this._debug(c,"error",a),console.error(a);return}finally{this._debug(c,"end")}}async _callRefreshToken(a){var b,c;if(!a)throw new c1;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new dq;let{data:b,error:c}=await this._refreshAccessToken(a);if(c)throw c;if(!b.session)throw new c1;await this._saveSession(b.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",b.session);let d={data:b.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(d,"error",a),cZ(a)){let c={data:null,error:a};return c7(a)||await this._removeSession(),null==(b=this.refreshingDeferred)||b.resolve(c),c}throw null==(c=this.refreshingDeferred)||c.reject(a),a}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,b,c=!0){let d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",b,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:a,session:b});let d=[],e=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(a,b)}catch(a){d.push(a)}});if(await Promise.all(e),d.length>0){for(let a=0;a<d.length;a+=1)console.error(d[a]);throw d[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;let b=Object.assign({},a),c=b.user&&!0===b.user.__isUserNotAvailableProxy;if(this.userStorage){!c&&b.user&&await dm(this.userStorage,this.storageKey+"-user",{user:b.user});let a=Object.assign({},b);delete a.user;let d=dB(a);await dm(this.storage,this.storageKey,d)}else{let a=dB(b);await dm(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await dp(this.storage,this.storageKey),await dp(this.storage,this.storageKey+"-code-verifier"),await dp(this.storage,this.storageKey+"-user"),this.userStorage&&await dp(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&di()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let a=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=a,a&&"object"==typeof a&&"function"==typeof a.unref?a.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let a=Date.now();try{return await this._useSession(async b=>{let{data:{session:c}}=b;if(!c||!c.refresh_token||!c.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let d=Math.floor((1e3*c.expires_at-a)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),d<=3&&await this._callRefreshToken(c.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof dR)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!di()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){let b=`#_onVisibilityChanged(${a})`;this._debug(b,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState)return void this._debug(b,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,b,c){let d=[`provider=${encodeURIComponent(b)}`];if((null==c?void 0:c.redirectTo)&&d.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),(null==c?void 0:c.scopes)&&d.push(`scopes=${encodeURIComponent(c.scopes)}`),"pkce"===this.flowType){let[a,b]=await dw(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(b)}`});d.push(c.toString())}if(null==c?void 0:c.queryParams){let a=new URLSearchParams(c.queryParams);d.push(a.toString())}return(null==c?void 0:c.skipBrowserRedirect)&&d.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;return e?{data:null,error:e}:await dF(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _enroll(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)return{data:null,error:f};let g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},"phone"===a.factorType?{phone:a.phone}:"totp"===a.factorType?{issuer:a.issuer}:{}),{data:h,error:i}=await dF(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:null==(c=null==e?void 0:e.session)?void 0:c.access_token});return i?{data:null,error:i}:("totp"===a.factorType&&"totp"===h.type&&(null==(d=null==h?void 0:h.totp)?void 0:d.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async b=>{var c,d,e;let{data:f,error:g}=b;if(g)return{data:null,error:g};let h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:"create"===a.webauthn.type?(d=a.webauthn.credential_response,"toJSON"in d&&"function"==typeof d.toJSON?d.toJSON():{id:d.id,rawId:d.id,response:{attestationObject:dh(new Uint8Array(d.response.attestationObject)),clientDataJSON:dh(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:null!=(e=d.authenticatorAttachment)?e:void 0}):function(a){var b;if("toJSON"in a&&"function"==typeof a.toJSON)return a.toJSON();let c=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:dh(new Uint8Array(d.authenticatorData)),clientDataJSON:dh(new Uint8Array(d.clientDataJSON)),signature:dh(new Uint8Array(d.signature)),userHandle:d.userHandle?dh(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:c,authenticatorAttachment:null!=(b=a.authenticatorAttachment)?b:void 0}}(a.webauthn.credential_response)})}:{code:a.code}),{data:i,error:j}=await dF(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:null==(c=null==f?void 0:f.session)?void 0:c.access_token});return j?{data:null,error:j}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:j})})}catch(a){if(cZ(a))return{data:null,error:a};throw a}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e)return{data:null,error:e};let f=await dF(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token});if(f.error)return f;let{data:g}=f;if("webauthn"!==g.type)return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(a);let{challenge:b,user:c,excludeCredentials:d}=a,e=(0,bH.__rest)(a,["challenge","user","excludeCredentials"]),f=dg(b).buffer,g=Object.assign(Object.assign({},c),{id:dg(c.id).buffer}),h=Object.assign(Object.assign({},e),{challenge:f,user:g});if(d&&d.length>0){h.excludeCredentials=Array(d.length);for(let a=0;a<d.length;a++){let b=d[a];h.excludeCredentials[a]=Object.assign(Object.assign({},b),{id:dg(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return h}(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(a);let{challenge:b,allowCredentials:c}=a,d=(0,bH.__rest)(a,["challenge","allowCredentials"]),e=dg(b).buffer,f=Object.assign(Object.assign({},d),{challenge:e});if(c&&c.length>0){f.allowCredentials=Array(c.length);for(let a=0;a<c.length;a++){let b=c[a];f.allowCredentials[a]=Object.assign(Object.assign({},b),{id:dg(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return f}(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(cZ(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(a){let{data:b,error:c}=await this._challenge({factorId:a.factorId});return c?{data:null,error:c}:await this._verify({factorId:a.factorId,challengeId:b.id,code:a.code})}async _listFactors(){var a;let{data:{user:b},error:c}=await this.getUser();if(c)return{data:null,error:c};let d={all:[],phone:[],totp:[],webauthn:[]};for(let c of null!=(a=null==b?void 0:b.factors)?a:[])d.all.push(c),"verified"===c.status&&d[c.factor_type].push(c);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var b,c;let{data:{session:d},error:e}=a;if(e)return{data:null,error:e};if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:f}=dr(d.access_token),g=null;f.aal&&(g=f.aal);let h=g;return(null!=(c=null==(b=d.user.factors)?void 0:b.filter(a=>"verified"===a.status))?c:[]).length>0&&(h="aal2"),{data:{currentLevel:g,nextLevel:h,currentAuthenticationMethods:f.amr||[]},error:null}}))}async fetchJwk(a,b={keys:[]}){let c=b.keys.find(b=>b.kid===a);if(c)return c;let d=Date.now();if((c=this.jwks.keys.find(b=>b.kid===a))&&this.jwks_cached_at+6e5>d)return c;let{data:e,error:f}=await dF(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return e.keys&&0!==e.keys.length&&(this.jwks=e,this.jwks_cached_at=d,c=e.keys.find(b=>b.kid===a))?c:null}async getClaims(a,b={}){try{let c=a;if(!c){let{data:a,error:b}=await this.getSession();if(b||!a.session)return{data:null,error:b};c=a.session.access_token}let{header:d,payload:e,signature:f,raw:{header:g,payload:h}}=dr(c);(null==b?void 0:b.allowExpired)||function(a){if(!a)throw Error("Missing exp claim");if(a<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(e.exp);let i=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,(null==b?void 0:b.keys)?{keys:b.keys}:null==b?void 0:b.jwks);if(!i){let{error:a}=await this.getUser(c);if(a)throw a;return{data:{claims:e,header:d,signature:f},error:null}}let j=function(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(d.alg),k=await crypto.subtle.importKey("jwk",i,j,!0,["verify"]);if(!await crypto.subtle.verify(j,k,f,function(a){let b=[];return!function(a,b){for(let c=0;c<a.length;c+=1){let d=a.charCodeAt(c);if(d>55295&&d<=56319){let b=(d-55296)*1024&65535;d=(a.charCodeAt(c+1)-56320&65535|b)+65536,c+=1}!function(a,b){if(a<=127)return b(a);if(a<=2047){b(192|a>>6),b(128|63&a);return}if(a<=65535){b(224|a>>12),b(128|a>>6&63),b(128|63&a);return}if(a<=1114111){b(240|a>>18),b(128|a>>12&63),b(128|a>>6&63),b(128|63&a);return}throw Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}(d,b)}}(a,a=>b.push(a)),new Uint8Array(b)}(`${g}.${h}`)))throw new c9("Invalid JWT signature");return{data:{claims:e,header:d,signature:f},error:null}}catch(a){if(cZ(a))return{data:null,error:a};throw a}}}d8.nextInstanceID=0;let d9=d8;class ea extends d9{constructor(a){super(a)}}class eb{constructor(a,b,c){var d,e,f;this.supabaseUrl=a,this.supabaseKey=b;let g=function(a){let b=null==a?void 0:a.trim();if(!b)throw Error("supabaseUrl is required.");if(!b.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b.endsWith("/")?b:b+"/")}catch(a){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!b)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);let h=`sb-${g.hostname.split(".")[0]}-auth-token`,i=function(a,b){var c,d;let{db:e,auth:f,realtime:g,global:h}=a,{db:i,auth:j,realtime:k,global:l}=b,m={db:Object.assign(Object.assign({},i),e),auth:Object.assign(Object.assign({},j),f),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},l),h),{headers:Object.assign(Object.assign({},null!=(c=null==l?void 0:l.headers)?c:{}),null!=(d=null==h?void 0:h.headers)?d:{})}),accessToken:async()=>""};return a.accessToken?m.accessToken=a.accessToken:delete m.accessToken,m}(null!=c?c:{},{db:cP,realtime:cR,auth:Object.assign(Object.assign({},cQ),{storageKey:h}),global:cO});this.storageKey=null!=(d=i.auth.storageKey)?d:"",this.headers=null!=(e=i.global.headers)?e:{},i.accessToken?(this.accessToken=i.accessToken,this.auth=new Proxy({},{get:(a,b)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(f=i.auth)?f:{},this.headers,i.global.fetch),this.fetch=((a,b,c)=>{let d=(a=>{let b;return b=a||("undefined"==typeof fetch?cS.default:fetch),(...a)=>b(...a)})(c),e="undefined"==typeof Headers?cS.Headers:Headers;return async(c,f)=>{var g;let h=null!=(g=await b())?g:a,i=new e(null==f?void 0:f.headers);return i.has("apikey")||i.set("apikey",a),i.has("Authorization")||i.set("Authorization",`Bearer ${h}`),d(c,Object.assign(Object.assign({},f),{headers:i}))}})(b,this._getAccessToken.bind(this),i.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},i.realtime)),this.rest=new bN(new URL("rest/v1",g).href,{headers:this.headers,schema:i.db.schema,fetch:this.fetch}),this.storage=new cM(this.storageUrl.href,this.headers,this.fetch,null==c?void 0:c.storage),i.accessToken||this._listenForAuthEvents()}get functions(){return new bM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,b={},c={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,b,c)}channel(a,b={config:{}}){return this.realtime.channel(a,b)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,b;if(this.accessToken)return await this.accessToken();let{data:c}=await this.auth.getSession();return null!=(b=null==(a=c.session)?void 0:a.access_token)?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,storageKey:f,flowType:g,lock:h,debug:i},j,k){let l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ea({url:this.authUrl.href,headers:Object.assign(Object.assign({},l),j),storageKey:f,autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,flowType:g,lock:h,debug:i,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(a=>"authorization"===a.toLowerCase())})}_initRealtimeClient(a){return new cb(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},null==a?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,b)=>{this._handleTokenChanged(a,"CLIENT",null==b?void 0:b.access_token)})}_handleTokenChanged(a,b,c){("TOKEN_REFRESHED"===a||"SIGNED_IN"===a)&&this.changedAccessToken!==c?(this.changedAccessToken=c,this.realtime.setAuth(c)):"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==b&&this.auth.signOut(),this.changedAccessToken=void 0)}}(function(){if("undefined"!=typeof window||"undefined"==typeof process)return!1;let a=process.version;if(null==a)return!1;let b=a.match(/^v(\d+)\./);return!!b&&18>=parseInt(b[1],10)})()&&console.warn(`⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`),c(449),"undefined"==typeof URLPattern||URLPattern;var ec=c(814);if(new WeakMap,ec.unstable_postpone,!1===function(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}("Route %%% needs to bail out of prerendering at this point because it used ^^^. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error"))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`),an();let{env:ed,stdout:ee}=(null==(r=globalThis)?void 0:r.process)??{},ef=ed&&!ed.NO_COLOR&&(ed.FORCE_COLOR||(null==ee?void 0:ee.isTTY)&&!ed.CI&&"dumb"!==ed.TERM),eg=(a,b,c,d)=>{let e=a.substring(0,d)+c,f=a.substring(d+b.length),g=f.indexOf(b);return~g?e+eg(f,b,c,g):e+f},eh=(a,b,c=a)=>ef?d=>{let e=""+d,f=e.indexOf(b,a.length);return~f?a+eg(e,b,c,f)+b:a+e+b}:String,ei=eh("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");eh("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),eh("\x1b[3m","\x1b[23m"),eh("\x1b[4m","\x1b[24m"),eh("\x1b[7m","\x1b[27m"),eh("\x1b[8m","\x1b[28m"),eh("\x1b[9m","\x1b[29m"),eh("\x1b[30m","\x1b[39m");let ej=eh("\x1b[31m","\x1b[39m"),ek=eh("\x1b[32m","\x1b[39m"),el=eh("\x1b[33m","\x1b[39m");eh("\x1b[34m","\x1b[39m");let em=eh("\x1b[35m","\x1b[39m");eh("\x1b[38;2;173;127;168m","\x1b[39m"),eh("\x1b[36m","\x1b[39m");let en=eh("\x1b[37m","\x1b[39m");async function eo(a){let b=ad.next({request:a}),c=function(a,b,c){if(!a||!b)throw Error(`Your project's URL and Key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);let{storage:d,getAll:e,setAll:f,setItems:g,removedItems:h}=function(a,b){let c,d,e=a.cookies??null,f=a.cookieEncoding,g={},h={};if(e)if("get"in e){let a=async a=>{let b=a.flatMap(a=>[a,...Array.from({length:5}).map((b,c)=>`${a}.${c}`)]),c=[];for(let a=0;a<b.length;a+=1){let d=await e.get(b[a]);(d||"string"==typeof d)&&c.push({name:b[a],value:d})}return c};if(c=async b=>await a(b),"set"in e&&"remove"in e)d=async a=>{for(let b=0;b<a.length;b+=1){let{name:c,value:d,options:f}=a[b];d?await e.set(c,d,f):await e.remove(c,f)}};else if(b)d=async()=>{console.warn("@supabase/ssr: createServerClient was configured without set and remove cookie methods, but the client needs to set cookies. This can lead to issues such as random logouts, early session termination or increased token refresh requests. If in NextJS, check your middleware.ts file, route handlers and server actions for correctness. Consider switching to the getAll and setAll cookie methods instead of get, set and remove which are deprecated and can be difficult to use correctly.")};else throw Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in e)if(c=async()=>await e.getAll(),"setAll"in e)d=e.setAll;else if(b)d=async()=>{console.warn("@supabase/ssr: createServerClient was configured without the setAll cookie method, but the client needs to set cookies. This can lead to issues such as random logouts, early session termination or increased token refresh requests. If in NextJS, check your middleware.ts file, route handlers and server actions for correctness.")};else throw Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)");else throw Error(`@supabase/ssr: ${b?"createServerClient":"createBrowserClient"} requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${bu()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`);else if(!b&&bu())c=()=>(()=>{let a=(0,bt.qg)(document.cookie);return Object.keys(a).map(b=>({name:b,value:a[b]??""}))})(),d=a=>{a.forEach(({name:a,value:b,options:c})=>{document.cookie=(0,bt.lK)(a,b,c)})};else if(b)throw Error("@supabase/ssr: createServerClient must be initialized with cookie options that specify getAll and setAll functions (deprecated, not recommended: alternatively use get, set and remove)");else c=()=>[],d=()=>{throw Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return b?{getAll:c,setAll:d,setItems:g,removedItems:h,storage:{isServer:!0,getItem:async a=>{if("string"==typeof g[a])return g[a];if(h[a])return null;let b=await c([a]),d=await bz(a,async a=>{let c=b?.find(({name:b})=>b===a)||null;return c?c.value:null});if(!d)return null;let e=d;return"string"==typeof d&&d.startsWith(bF)&&(e=bE(d.substring(bF.length))),e},setItem:async(b,e)=>{b.endsWith("-code-verifier")&&await bG({getAll:c,setAll:d,setItems:{[b]:e},removedItems:{}},{cookieOptions:a?.cookieOptions??null,cookieEncoding:f}),g[b]=e,delete h[b]},removeItem:async a=>{delete g[a],h[a]=!0}}}:{getAll:c,setAll:d,setItems:g,removedItems:h,storage:{isServer:!1,getItem:async a=>{let b=await c([a]),d=await bz(a,async a=>{let c=b?.find(({name:b})=>b===a)||null;return c?c.value:null});if(!d)return null;let e=d;return d.startsWith(bF)&&(e=bE(d.substring(bF.length))),e},setItem:async(b,e)=>{let g=await c([b]),h=new Set((g?.map(({name:a})=>a)||[]).filter(a=>bx(a,b))),i=e;"base64url"===f&&(i=bF+bD(e));let j=by(b,i);j.forEach(({name:a})=>{h.delete(a)});let k={...bv,...a?.cookieOptions,maxAge:0},l={...bv,...a?.cookieOptions,maxAge:bv.maxAge};delete k.name,delete l.name;let m=[...[...h].map(a=>({name:a,value:"",options:k})),...j.map(({name:a,value:b})=>({name:a,value:b,options:l}))];m.length>0&&await d(m)},removeItem:async b=>{let e=await c([b]),f=(e?.map(({name:a})=>a)||[]).filter(a=>bx(a,b)),g={...bv,...a?.cookieOptions,maxAge:0};delete g.name,f.length>0&&await d(f.map(a=>({name:a,value:"",options:g})))}}}}({...c,cookieEncoding:c?.cookieEncoding??"base64url"},!0),i=new eb(a,b,{...c,global:{...c?.global,headers:{...c?.global?.headers,"X-Client-Info":"supabase-ssr/0.7.0 createServerClient"}},auth:{...c?.cookieOptions?.name?{storageKey:c.cookieOptions.name}:null,...c?.auth,flowType:"pkce",autoRefreshToken:!1,detectSessionInUrl:!1,persistSession:!0,storage:d}});return i.auth.onAuthStateChange(async a=>{(Object.keys(g).length>0||Object.keys(h).length>0)&&("SIGNED_IN"===a||"TOKEN_REFRESHED"===a||"USER_UPDATED"===a||"PASSWORD_RECOVERY"===a||"SIGNED_OUT"===a||"MFA_CHALLENGE_VERIFIED"===a)&&await bG({getAll:e,setAll:f,setItems:g,removedItems:h},{cookieOptions:c?.cookieOptions??null,cookieEncoding:c?.cookieEncoding??"base64url"})}),i}("https://veogrelqwxpxhetwbmdx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZlb2dyZWxxd3hweGhldHdibWR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNTc3MDEsImV4cCI6MjA3NjYzMzcwMX0.SVNXNReA35dnGxkn4wunuCFtutW9FexBPVL5CNrTI-E",{cookies:{getAll:()=>a.cookies.getAll(),setAll(c){c.forEach(({name:b,value:c})=>a.cookies.set(b,c)),b=ad.next({request:a}),c.forEach(({name:a,value:c,options:d})=>b.cookies.set(a,c,d))}}}),{data:d}=await c.auth.getClaims(),e=d?.claims;if("/"!==a.nextUrl.pathname&&!e&&!a.nextUrl.pathname.startsWith("/login")&&!a.nextUrl.pathname.startsWith("/auth")){let b=a.nextUrl.clone();return b.pathname="/auth/login",ad.redirect(b)}return b}async function ep(a){return await eo(a)}eh("\x1b[90m","\x1b[39m"),eh("\x1b[40m","\x1b[49m"),eh("\x1b[41m","\x1b[49m"),eh("\x1b[42m","\x1b[49m"),eh("\x1b[43m","\x1b[49m"),eh("\x1b[44m","\x1b[49m"),eh("\x1b[45m","\x1b[49m"),eh("\x1b[46m","\x1b[49m"),eh("\x1b[47m","\x1b[49m"),en(ei("○")),ej(ei("⨯")),el(ei("⚠")),en(ei(" ")),ek(ei("✓")),em(ei("\xbb")),new a4(1e4,a=>a.length),new WeakMap,new(c(743)).PrismaClient;let eq={matcher:["/((?!_next/static|_next/image|favicon.ico|.*\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)"]};Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401});let er={...s},es=er.middleware||er.default,et="/middleware";if("function"!=typeof es)throw Object.defineProperty(Error(`The Middleware "${et}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function eu(a){return bs({...a,page:et,handler:async(...a)=>{try{return await es(...a)}catch(e){let b=a[0],c=new URL(b.url),d=c.pathname+c.search;throw await w(e,{path:d,method:b.method,headers:Object.fromEntries(b.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),e}}})}},782:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=Promise.resolve().then(c.t.bind(c,339,19))},784:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(613),e=d.__importDefault(c(399)),f=d.__importDefault(c(734));class g{constructor(a,{headers:b={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(b),this.schemaName=c,this.fetch=d}from(a){let b=new URL(`${this.url}/${a}`);return new e.default(b,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new g(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,b={},{head:c=!1,get:d=!1,count:e}={}){var g;let h,i,j=new URL(`${this.url}/rpc/${a}`);c||d?(h=c?"HEAD":"GET",Object.entries(b).filter(([a,b])=>void 0!==b).map(([a,b])=>[a,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([a,b])=>{j.searchParams.append(a,b)})):(h="POST",i=b);let k=new Headers(this.headers);return e&&k.set("Prefer",`count=${e}`),new f.default({method:h,url:j,headers:k,schema:this.schemaName,body:i,fetch:null!=(g=this.fetch)?g:fetch})}}b.default=g},814:(a,b,c)=>{"use strict";a.exports=c(440)},817:(a,b,c)=>{(()=>{"use strict";var b={491:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ContextAPI=void 0;let d=c(223),e=c(172),f=c(930),g="context",h=new d.NoopContextManager;class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalContextManager(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}active(){return this._getContextManager().active()}with(a,b,c,...d){return this._getContextManager().with(a,b,c,...d)}bind(a,b){return this._getContextManager().bind(a,b)}_getContextManager(){return(0,e.getGlobal)(g)||h}disable(){this._getContextManager().disable(),(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.ContextAPI=i},930:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagAPI=void 0;let d=c(56),e=c(912),f=c(957),g=c(172);class h{constructor(){function a(a){return function(...b){let c=(0,g.getGlobal)("diag");if(c)return c[a](...b)}}let b=this;b.setLogger=(a,c={logLevel:f.DiagLogLevel.INFO})=>{var d,h,i;if(a===b){let a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(d=a.stack)?d:a.message),!1}"number"==typeof c&&(c={logLevel:c});let j=(0,g.getGlobal)("diag"),k=(0,e.createLogLevelDiagLogger)(null!=(h=c.logLevel)?h:f.DiagLogLevel.INFO,a);if(j&&!c.suppressOverrideMessage){let a=null!=(i=Error().stack)?i:"<failed to generate stacktrace>";j.warn(`Current logger will be overwritten from ${a}`),k.warn(`Current logger will overwrite one already registered from ${a}`)}return(0,g.registerGlobal)("diag",k,b,!0)},b.disable=()=>{(0,g.unregisterGlobal)("diag",b)},b.createComponentLogger=a=>new d.DiagComponentLogger(a),b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}static instance(){return this._instance||(this._instance=new h),this._instance}}b.DiagAPI=h},653:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MetricsAPI=void 0;let d=c(660),e=c(172),f=c(930),g="metrics";class h{constructor(){}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalMeterProvider(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}getMeterProvider(){return(0,e.getGlobal)(g)||d.NOOP_METER_PROVIDER}getMeter(a,b,c){return this.getMeterProvider().getMeter(a,b,c)}disable(){(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.MetricsAPI=h},181:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PropagationAPI=void 0;let d=c(172),e=c(874),f=c(194),g=c(277),h=c(369),i=c(930),j="propagation",k=new e.NoopTextMapPropagator;class l{constructor(){this.createBaggage=h.createBaggage,this.getBaggage=g.getBaggage,this.getActiveBaggage=g.getActiveBaggage,this.setBaggage=g.setBaggage,this.deleteBaggage=g.deleteBaggage}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalPropagator(a){return(0,d.registerGlobal)(j,a,i.DiagAPI.instance())}inject(a,b,c=f.defaultTextMapSetter){return this._getGlobalPropagator().inject(a,b,c)}extract(a,b,c=f.defaultTextMapGetter){return this._getGlobalPropagator().extract(a,b,c)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,d.unregisterGlobal)(j,i.DiagAPI.instance())}_getGlobalPropagator(){return(0,d.getGlobal)(j)||k}}b.PropagationAPI=l},997:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceAPI=void 0;let d=c(172),e=c(846),f=c(139),g=c(607),h=c(930),i="trace";class j{constructor(){this._proxyTracerProvider=new e.ProxyTracerProvider,this.wrapSpanContext=f.wrapSpanContext,this.isSpanContextValid=f.isSpanContextValid,this.deleteSpan=g.deleteSpan,this.getSpan=g.getSpan,this.getActiveSpan=g.getActiveSpan,this.getSpanContext=g.getSpanContext,this.setSpan=g.setSpan,this.setSpanContext=g.setSpanContext}static getInstance(){return this._instance||(this._instance=new j),this._instance}setGlobalTracerProvider(a){let b=(0,d.registerGlobal)(i,this._proxyTracerProvider,h.DiagAPI.instance());return b&&this._proxyTracerProvider.setDelegate(a),b}getTracerProvider(){return(0,d.getGlobal)(i)||this._proxyTracerProvider}getTracer(a,b){return this.getTracerProvider().getTracer(a,b)}disable(){(0,d.unregisterGlobal)(i,h.DiagAPI.instance()),this._proxyTracerProvider=new e.ProxyTracerProvider}}b.TraceAPI=j},277:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.deleteBaggage=b.setBaggage=b.getActiveBaggage=b.getBaggage=void 0;let d=c(491),e=(0,c(780).createContextKey)("OpenTelemetry Baggage Key");function f(a){return a.getValue(e)||void 0}b.getBaggage=f,b.getActiveBaggage=function(){return f(d.ContextAPI.getInstance().active())},b.setBaggage=function(a,b){return a.setValue(e,b)},b.deleteBaggage=function(a){return a.deleteValue(e)}},993:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaggageImpl=void 0;class c{constructor(a){this._entries=a?new Map(a):new Map}getEntry(a){let b=this._entries.get(a);if(b)return Object.assign({},b)}getAllEntries(){return Array.from(this._entries.entries()).map(([a,b])=>[a,b])}setEntry(a,b){let d=new c(this._entries);return d._entries.set(a,b),d}removeEntry(a){let b=new c(this._entries);return b._entries.delete(a),b}removeEntries(...a){let b=new c(this._entries);for(let c of a)b._entries.delete(c);return b}clear(){return new c}}b.BaggageImpl=c},830:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataSymbol=void 0,b.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataFromString=b.createBaggage=void 0;let d=c(930),e=c(993),f=c(830),g=d.DiagAPI.instance();b.createBaggage=function(a={}){return new e.BaggageImpl(new Map(Object.entries(a)))},b.baggageEntryMetadataFromString=function(a){return"string"!=typeof a&&(g.error(`Cannot create baggage metadata from unknown type: ${typeof a}`),a=""),{__TYPE__:f.baggageEntryMetadataSymbol,toString:()=>a}}},67:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.context=void 0,b.context=c(491).ContextAPI.getInstance()},223:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopContextManager=void 0;let d=c(780);class e{active(){return d.ROOT_CONTEXT}with(a,b,c,...d){return b.call(c,...d)}bind(a,b){return b}enable(){return this}disable(){return this}}b.NoopContextManager=e},780:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ROOT_CONTEXT=b.createContextKey=void 0,b.createContextKey=function(a){return Symbol.for(a)};class c{constructor(a){let b=this;b._currentContext=a?new Map(a):new Map,b.getValue=a=>b._currentContext.get(a),b.setValue=(a,d)=>{let e=new c(b._currentContext);return e._currentContext.set(a,d),e},b.deleteValue=a=>{let d=new c(b._currentContext);return d._currentContext.delete(a),d}}}b.ROOT_CONTEXT=new c},506:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.diag=void 0,b.diag=c(930).DiagAPI.instance()},56:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagComponentLogger=void 0;let d=c(172);class e{constructor(a){this._namespace=a.namespace||"DiagComponentLogger"}debug(...a){return f("debug",this._namespace,a)}error(...a){return f("error",this._namespace,a)}info(...a){return f("info",this._namespace,a)}warn(...a){return f("warn",this._namespace,a)}verbose(...a){return f("verbose",this._namespace,a)}}function f(a,b,c){let e=(0,d.getGlobal)("diag");if(e)return c.unshift(b),e[a](...c)}b.DiagComponentLogger=e},972:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagConsoleLogger=void 0;let c=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class d{constructor(){for(let a=0;a<c.length;a++)this[c[a].n]=function(a){return function(...b){if(console){let c=console[a];if("function"!=typeof c&&(c=console.log),"function"==typeof c)return c.apply(console,b)}}}(c[a].c)}}b.DiagConsoleLogger=d},912:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createLogLevelDiagLogger=void 0;let d=c(957);b.createLogLevelDiagLogger=function(a,b){function c(c,d){let e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.DiagLogLevel.NONE?a=d.DiagLogLevel.NONE:a>d.DiagLogLevel.ALL&&(a=d.DiagLogLevel.ALL),b=b||{},{error:c("error",d.DiagLogLevel.ERROR),warn:c("warn",d.DiagLogLevel.WARN),info:c("info",d.DiagLogLevel.INFO),debug:c("debug",d.DiagLogLevel.DEBUG),verbose:c("verbose",d.DiagLogLevel.VERBOSE)}}},957:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagLogLevel=void 0,function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(b.DiagLogLevel||(b.DiagLogLevel={}))},172:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.unregisterGlobal=b.getGlobal=b.registerGlobal=void 0;let d=c(200),e=c(521),f=c(130),g=e.VERSION.split(".")[0],h=Symbol.for(`opentelemetry.js.api.${g}`),i=d._globalThis;b.registerGlobal=function(a,b,c,d=!1){var f;let g=i[h]=null!=(f=i[h])?f:{version:e.VERSION};if(!d&&g[a]){let b=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${a}`);return c.error(b.stack||b.message),!1}if(g.version!==e.VERSION){let b=Error(`@opentelemetry/api: Registration of version v${g.version} for ${a} does not match previously registered API v${e.VERSION}`);return c.error(b.stack||b.message),!1}return g[a]=b,c.debug(`@opentelemetry/api: Registered a global for ${a} v${e.VERSION}.`),!0},b.getGlobal=function(a){var b,c;let d=null==(b=i[h])?void 0:b.version;if(d&&(0,f.isCompatible)(d))return null==(c=i[h])?void 0:c[a]},b.unregisterGlobal=function(a,b){b.debug(`@opentelemetry/api: Unregistering a global for ${a} v${e.VERSION}.`);let c=i[h];c&&delete c[a]}},130:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isCompatible=b._makeCompatibilityCheck=void 0;let d=c(521),e=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function f(a){let b=new Set([a]),c=new Set,d=a.match(e);if(!d)return()=>!1;let f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=f.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;let d=a.match(e);if(!d)return g(a);let h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=h.prerelease||f.major!==h.major)return g(a);if(0===f.major)return f.minor===h.minor&&f.patch<=h.patch?(b.add(a),!0):g(a);return f.minor<=h.minor?(b.add(a),!0):g(a)}}b._makeCompatibilityCheck=f,b.isCompatible=f(d.VERSION)},886:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.metrics=void 0,b.metrics=c(653).MetricsAPI.getInstance()},901:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ValueType=void 0,function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(b.ValueType||(b.ValueType={}))},102:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createNoopMeter=b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=b.NOOP_OBSERVABLE_GAUGE_METRIC=b.NOOP_OBSERVABLE_COUNTER_METRIC=b.NOOP_UP_DOWN_COUNTER_METRIC=b.NOOP_HISTOGRAM_METRIC=b.NOOP_COUNTER_METRIC=b.NOOP_METER=b.NoopObservableUpDownCounterMetric=b.NoopObservableGaugeMetric=b.NoopObservableCounterMetric=b.NoopObservableMetric=b.NoopHistogramMetric=b.NoopUpDownCounterMetric=b.NoopCounterMetric=b.NoopMetric=b.NoopMeter=void 0;class c{constructor(){}createHistogram(a,c){return b.NOOP_HISTOGRAM_METRIC}createCounter(a,c){return b.NOOP_COUNTER_METRIC}createUpDownCounter(a,c){return b.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(a,c){return b.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(a,c){return b.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(a,c){return b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(a,b){}removeBatchObservableCallback(a){}}b.NoopMeter=c;class d{}b.NoopMetric=d;class e extends d{add(a,b){}}b.NoopCounterMetric=e;class f extends d{add(a,b){}}b.NoopUpDownCounterMetric=f;class g extends d{record(a,b){}}b.NoopHistogramMetric=g;class h{addCallback(a){}removeCallback(a){}}b.NoopObservableMetric=h;class i extends h{}b.NoopObservableCounterMetric=i;class j extends h{}b.NoopObservableGaugeMetric=j;class k extends h{}b.NoopObservableUpDownCounterMetric=k,b.NOOP_METER=new c,b.NOOP_COUNTER_METRIC=new e,b.NOOP_HISTOGRAM_METRIC=new g,b.NOOP_UP_DOWN_COUNTER_METRIC=new f,b.NOOP_OBSERVABLE_COUNTER_METRIC=new i,b.NOOP_OBSERVABLE_GAUGE_METRIC=new j,b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new k,b.createNoopMeter=function(){return b.NOOP_METER}},660:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NOOP_METER_PROVIDER=b.NoopMeterProvider=void 0;let d=c(102);class e{getMeter(a,b,c){return d.NOOP_METER}}b.NoopMeterProvider=e,b.NOOP_METER_PROVIDER=new e},200:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(46),b)},651:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b._globalThis=void 0,b._globalThis="object"==typeof globalThis?globalThis:c.g},46:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(651),b)},939:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.propagation=void 0,b.propagation=c(181).PropagationAPI.getInstance()},874:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTextMapPropagator=void 0;class c{inject(a,b){}extract(a,b){return a}fields(){return[]}}b.NoopTextMapPropagator=c},194:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.defaultTextMapSetter=b.defaultTextMapGetter=void 0,b.defaultTextMapGetter={get(a,b){if(null!=a)return a[b]},keys:a=>null==a?[]:Object.keys(a)},b.defaultTextMapSetter={set(a,b,c){null!=a&&(a[b]=c)}}},845:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.trace=void 0,b.trace=c(997).TraceAPI.getInstance()},403:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NonRecordingSpan=void 0;let d=c(476);class e{constructor(a=d.INVALID_SPAN_CONTEXT){this._spanContext=a}spanContext(){return this._spanContext}setAttribute(a,b){return this}setAttributes(a){return this}addEvent(a,b){return this}setStatus(a){return this}updateName(a){return this}end(a){}isRecording(){return!1}recordException(a,b){}}b.NonRecordingSpan=e},614:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracer=void 0;let d=c(491),e=c(607),f=c(403),g=c(139),h=d.ContextAPI.getInstance();class i{startSpan(a,b,c=h.active()){var d;if(null==b?void 0:b.root)return new f.NonRecordingSpan;let i=c&&(0,e.getSpanContext)(c);return"object"==typeof(d=i)&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags&&(0,g.isSpanContextValid)(i)?new f.NonRecordingSpan(i):new f.NonRecordingSpan}startActiveSpan(a,b,c,d){let f,g,i;if(arguments.length<2)return;2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);let j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.setSpan)(j,k);return h.with(l,i,void 0,k)}}b.NoopTracer=i},124:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracerProvider=void 0;let d=c(614);class e{getTracer(a,b,c){return new d.NoopTracer}}b.NoopTracerProvider=e},125:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracer=void 0;let d=new(c(614)).NoopTracer;class e{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}startSpan(a,b,c){return this._getTracer().startSpan(a,b,c)}startActiveSpan(a,b,c,d){let e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)}_getTracer(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d}}b.ProxyTracer=e},846:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracerProvider=void 0;let d=c(125),e=new(c(124)).NoopTracerProvider;class f{getTracer(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.ProxyTracer(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:e}setDelegate(a){this._delegate=a}getDelegateTracer(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)}}b.ProxyTracerProvider=f},996:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SamplingDecision=void 0,function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(b.SamplingDecision||(b.SamplingDecision={}))},607:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getSpanContext=b.setSpanContext=b.deleteSpan=b.setSpan=b.getActiveSpan=b.getSpan=void 0;let d=c(780),e=c(403),f=c(491),g=(0,d.createContextKey)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(a,b){return a.setValue(g,b)}b.getSpan=h,b.getActiveSpan=function(){return h(f.ContextAPI.getInstance().active())},b.setSpan=i,b.deleteSpan=function(a){return a.deleteValue(g)},b.setSpanContext=function(a,b){return i(a,new e.NonRecordingSpan(b))},b.getSpanContext=function(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},325:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceStateImpl=void 0;let d=c(564);class e{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+"="+this.get(b)),a),[]).join(",")}_parse(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce((a,b)=>{let c=b.trim(),e=c.indexOf("=");if(-1!==e){let f=c.slice(0,e),g=c.slice(e+1,b.length);(0,d.validateKey)(f)&&(0,d.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new e;return a._internalState=new Map(this._internalState),a}}b.TraceStateImpl=e},564:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.validateValue=b.validateKey=void 0;let c="[_0-9a-z-*/]",d=`[a-z]${c}{0,255}`,e=`[a-z0-9]${c}{0,240}@[a-z]${c}{0,13}`,f=RegExp(`^(?:${d}|${e})$`),g=/^[ -~]{0,255}[!-~]$/,h=/,|=/;b.validateKey=function(a){return f.test(a)},b.validateValue=function(a){return g.test(a)&&!h.test(a)}},98:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createTraceState=void 0;let d=c(325);b.createTraceState=function(a){return new d.TraceStateImpl(a)}},476:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.INVALID_SPAN_CONTEXT=b.INVALID_TRACEID=b.INVALID_SPANID=void 0;let d=c(475);b.INVALID_SPANID="0000000000000000",b.INVALID_TRACEID="00000000000000000000000000000000",b.INVALID_SPAN_CONTEXT={traceId:b.INVALID_TRACEID,spanId:b.INVALID_SPANID,traceFlags:d.TraceFlags.NONE}},357:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanKind=void 0,function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(b.SpanKind||(b.SpanKind={}))},139:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.wrapSpanContext=b.isSpanContextValid=b.isValidSpanId=b.isValidTraceId=void 0;let d=c(476),e=c(403),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.INVALID_TRACEID}function i(a){return g.test(a)&&a!==d.INVALID_SPANID}b.isValidTraceId=h,b.isValidSpanId=i,b.isSpanContextValid=function(a){return h(a.traceId)&&i(a.spanId)},b.wrapSpanContext=function(a){return new e.NonRecordingSpan(a)}},847:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanStatusCode=void 0,function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(b.SpanStatusCode||(b.SpanStatusCode={}))},475:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceFlags=void 0,function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(b.TraceFlags||(b.TraceFlags={}))},521:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="1.6.0"}},d={};function e(a){var c=d[a];if(void 0!==c)return c.exports;var f=d[a]={exports:{}},g=!0;try{b[a].call(f.exports,f,f.exports,e),g=!1}finally{g&&delete d[a]}return f.exports}e.ab="//";var f={};(()=>{Object.defineProperty(f,"__esModule",{value:!0}),f.trace=f.propagation=f.metrics=f.diag=f.context=f.INVALID_SPAN_CONTEXT=f.INVALID_TRACEID=f.INVALID_SPANID=f.isValidSpanId=f.isValidTraceId=f.isSpanContextValid=f.createTraceState=f.TraceFlags=f.SpanStatusCode=f.SpanKind=f.SamplingDecision=f.ProxyTracerProvider=f.ProxyTracer=f.defaultTextMapSetter=f.defaultTextMapGetter=f.ValueType=f.createNoopMeter=f.DiagLogLevel=f.DiagConsoleLogger=f.ROOT_CONTEXT=f.createContextKey=f.baggageEntryMetadataFromString=void 0;var a=e(369);Object.defineProperty(f,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return a.baggageEntryMetadataFromString}});var b=e(780);Object.defineProperty(f,"createContextKey",{enumerable:!0,get:function(){return b.createContextKey}}),Object.defineProperty(f,"ROOT_CONTEXT",{enumerable:!0,get:function(){return b.ROOT_CONTEXT}});var c=e(972);Object.defineProperty(f,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}});var d=e(957);Object.defineProperty(f,"DiagLogLevel",{enumerable:!0,get:function(){return d.DiagLogLevel}});var g=e(102);Object.defineProperty(f,"createNoopMeter",{enumerable:!0,get:function(){return g.createNoopMeter}});var h=e(901);Object.defineProperty(f,"ValueType",{enumerable:!0,get:function(){return h.ValueType}});var i=e(194);Object.defineProperty(f,"defaultTextMapGetter",{enumerable:!0,get:function(){return i.defaultTextMapGetter}}),Object.defineProperty(f,"defaultTextMapSetter",{enumerable:!0,get:function(){return i.defaultTextMapSetter}});var j=e(125);Object.defineProperty(f,"ProxyTracer",{enumerable:!0,get:function(){return j.ProxyTracer}});var k=e(846);Object.defineProperty(f,"ProxyTracerProvider",{enumerable:!0,get:function(){return k.ProxyTracerProvider}});var l=e(996);Object.defineProperty(f,"SamplingDecision",{enumerable:!0,get:function(){return l.SamplingDecision}});var m=e(357);Object.defineProperty(f,"SpanKind",{enumerable:!0,get:function(){return m.SpanKind}});var n=e(847);Object.defineProperty(f,"SpanStatusCode",{enumerable:!0,get:function(){return n.SpanStatusCode}});var o=e(475);Object.defineProperty(f,"TraceFlags",{enumerable:!0,get:function(){return o.TraceFlags}});var p=e(98);Object.defineProperty(f,"createTraceState",{enumerable:!0,get:function(){return p.createTraceState}});var q=e(139);Object.defineProperty(f,"isSpanContextValid",{enumerable:!0,get:function(){return q.isSpanContextValid}}),Object.defineProperty(f,"isValidTraceId",{enumerable:!0,get:function(){return q.isValidTraceId}}),Object.defineProperty(f,"isValidSpanId",{enumerable:!0,get:function(){return q.isValidSpanId}});var r=e(476);Object.defineProperty(f,"INVALID_SPANID",{enumerable:!0,get:function(){return r.INVALID_SPANID}}),Object.defineProperty(f,"INVALID_TRACEID",{enumerable:!0,get:function(){return r.INVALID_TRACEID}}),Object.defineProperty(f,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return r.INVALID_SPAN_CONTEXT}});let s=e(67);Object.defineProperty(f,"context",{enumerable:!0,get:function(){return s.context}});let t=e(506);Object.defineProperty(f,"diag",{enumerable:!0,get:function(){return t.diag}});let u=e(886);Object.defineProperty(f,"metrics",{enumerable:!0,get:function(){return u.metrics}});let v=e(939);Object.defineProperty(f,"propagation",{enumerable:!0,get:function(){return v.propagation}});let w=e(845);Object.defineProperty(f,"trace",{enumerable:!0,get:function(){return w.trace}}),f.default={context:s.context,diag:t.diag,metrics:u.metrics,propagation:v.propagation,trace:w.trace}})(),a.exports=f})()},902:(a,b,c)=>{a.exports={...c(640)}},911:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}b.default=c},939:(a,b,c)=>{"use strict";let d;a=c.nmd(a);var e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,i={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(i,{QueryEngine:()=>E,__wbg_String_8f0eb39a4a4c2f66:()=>F,__wbg_buffer_609cc3eee51ed158:()=>G,__wbg_call_672a4d21634d4a24:()=>H,__wbg_call_7cccdd69e0791ae2:()=>I,__wbg_crypto_805be4ce92f1e370:()=>J,__wbg_done_769e5ede4b31c67b:()=>K,__wbg_entries_3265d4158b33e5dc:()=>L,__wbg_exec_3e2d2d0644c927df:()=>M,__wbg_getRandomValues_f6a868620c8bab49:()=>N,__wbg_getTime_46267b1c24877e30:()=>O,__wbg_get_67b2ba62fc30de12:()=>P,__wbg_get_b9b93047fe3cf45b:()=>Q,__wbg_get_ece95cf6585650d9:()=>R,__wbg_getwithrefkey_1dc361bd10053bfe:()=>S,__wbg_has_a5ea9117f258a0ec:()=>T,__wbg_instanceof_ArrayBuffer_e14585432e3737fc:()=>U,__wbg_instanceof_Map_f3469ce2244d2430:()=>V,__wbg_instanceof_Promise_935168b8f4b49db3:()=>W,__wbg_instanceof_Uint8Array_17156bcf118086a9:()=>X,__wbg_isArray_a1eab7e0d067391b:()=>Y,__wbg_isSafeInteger_343e2beeeece1bb0:()=>Z,__wbg_iterator_9a24c88df860dc65:()=>$,__wbg_keys_5c77a08ddc2fb8a6:()=>_,__wbg_length_a446193dc22c12f8:()=>aa,__wbg_length_e2d2a49132c1b256:()=>ab,__wbg_msCrypto_2ac4d17c4748234a:()=>ac,__wbg_new0_f788a2397c7ca929:()=>ad,__wbg_new_23a2665fac83c611:()=>ae,__wbg_new_405e22f390576ce2:()=>af,__wbg_new_5e0be73521bc8c17:()=>ag,__wbg_new_63847613cde5d4bc:()=>ah,__wbg_new_78feb108b6472713:()=>ai,__wbg_new_a12002a7f91c75be:()=>aj,__wbg_newnoargs_105ed471475aaf50:()=>ak,__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a:()=>al,__wbg_newwithlength_a381634e90c276d4:()=>am,__wbg_next_25feadfc0913fea9:()=>an,__wbg_next_6574e1a8a62d1055:()=>ao,__wbg_node_ecc8306b9857f33d:()=>ap,__wbg_now_7fd00a794a07d388:()=>aq,__wbg_now_807e54c39636c349:()=>ar,__wbg_now_b3f7572f6ef3d3a9:()=>as,__wbg_process_5cff2739921be718:()=>at,__wbg_push_737cfc8c1432c2c6:()=>au,__wbg_queueMicrotask_5a8a9131f3f0b37b:()=>av,__wbg_queueMicrotask_6d79674585219521:()=>aw,__wbg_randomFillSync_d3c85af7e31cf1f8:()=>ax,__wbg_require_0c566c6f2eef6c79:()=>ay,__wbg_resolve_4851785c9c5f573d:()=>az,__wbg_setTimeout_5d6a1d4fc51ea450:()=>aA,__wbg_set_37837023f3d740e8:()=>aB,__wbg_set_3f1d0b984ed272ed:()=>aC,__wbg_set_65595bdd868b3009:()=>aD,__wbg_set_8fc6bf8a5b1071d1:()=>aE,__wbg_set_bb8cecf6a62b9f46:()=>aF,__wbg_set_wasm:()=>k,__wbg_static_accessor_GLOBAL_88a902d13a557d07:()=>aG,__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0:()=>aH,__wbg_static_accessor_SELF_37c5d418e4bf5819:()=>aI,__wbg_static_accessor_WINDOW_5de37043a91a9c40:()=>aJ,__wbg_subarray_aa9065fa9dc5df96:()=>aK,__wbg_then_44b73946d2fb3e7d:()=>aL,__wbg_then_48b406749878a531:()=>aM,__wbg_valueOf_7392193dd78c6b97:()=>aN,__wbg_value_cd1ffa7b1ab794f1:()=>aO,__wbg_versions_a8e5a362e1f16442:()=>aP,__wbindgen_as_number:()=>aQ,__wbindgen_bigint_from_i64:()=>aR,__wbindgen_bigint_from_u64:()=>aS,__wbindgen_bigint_get_as_i64:()=>aT,__wbindgen_boolean_get:()=>aU,__wbindgen_cb_drop:()=>aV,__wbindgen_closure_wrapper7718:()=>aW,__wbindgen_debug_string:()=>aX,__wbindgen_error_new:()=>aY,__wbindgen_in:()=>aZ,__wbindgen_init_externref_table:()=>a$,__wbindgen_is_bigint:()=>a_,__wbindgen_is_function:()=>a0,__wbindgen_is_object:()=>a1,__wbindgen_is_string:()=>a2,__wbindgen_is_undefined:()=>a3,__wbindgen_jsval_eq:()=>a4,__wbindgen_jsval_loose_eq:()=>a5,__wbindgen_memory:()=>a6,__wbindgen_number_get:()=>a7,__wbindgen_number_new:()=>a8,__wbindgen_string_get:()=>a9,__wbindgen_string_new:()=>ba,__wbindgen_throw:()=>bb,debug_panic:()=>A,getBuildTimeInfo:()=>B}),a.exports=((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of g(b))h.call(a,i)||i===c||e(a,i,{get:()=>b[i],enumerable:!(d=f(b,i))||d.enumerable});return a})(e({},"__esModule",{value:!0}),i);var j=()=>{};function k(a){d=a}j.prototype=j;let l=0,m=null;function n(){return(null===m||0===m.byteLength)&&(m=new Uint8Array(d.memory.buffer)),m}let o=new(typeof TextEncoder>"u"?(0,a.require)("util").TextEncoder:TextEncoder)("utf-8"),p="function"==typeof o.encodeInto?function(a,b){return o.encodeInto(a,b)}:function(a,b){let c=o.encode(a);return b.set(c),{read:a.length,written:c.length}};function q(a,b,c){if(void 0===c){let c=o.encode(a),d=b(c.length,1)>>>0;return n().subarray(d,d+c.length).set(c),l=c.length,d}let d=a.length,e=b(d,1)>>>0,f=n(),g=0;for(;g<d;g++){let b=a.charCodeAt(g);if(b>127)break;f[e+g]=b}if(g!==d){0!==g&&(a=a.slice(g)),e=c(e,d,d=g+3*a.length,1)>>>0;let b=p(a,n().subarray(e+g,e+d));g+=b.written,e=c(e,d,g,1)>>>0}return l=g,e}let r=null;function s(){return(null===r||!0===r.buffer.detached||void 0===r.buffer.detached&&r.buffer!==d.memory.buffer)&&(r=new DataView(d.memory.buffer)),r}function t(a){let b=d.__externref_table_alloc();return d.__wbindgen_export_4.set(b,a),b}function u(a,b){try{return a.apply(this,b)}catch(b){let a=t(b);d.__wbindgen_exn_store(a)}}let v=new(typeof TextDecoder>"u"?(0,a.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function w(a,b){return a>>>=0,v.decode(n().subarray(a,a+b))}function x(a){return null==a}v.decode();let y=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(a=>{d.__wbindgen_export_5.get(a.dtor)(a.a,a.b)});function z(a){let b=d.__wbindgen_export_4.get(a);return d.__externref_table_dealloc(a),b}function A(a){var b=x(a)?0:q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),c=l;let e=d.debug_panic(b,c);if(e[1])throw z(e[0])}function B(){return d.getBuildTimeInfo()}function C(a,b,c){d.closure594_externref_shim(a,b,c)}let D=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(a=>d.__wbg_queryengine_free(a>>>0,1));class E{__destroy_into_raw(){let a=this.__wbg_ptr;return this.__wbg_ptr=0,D.unregister(this),a}free(){let a=this.__destroy_into_raw();d.__wbg_queryengine_free(a,0)}disconnect(a,b){let c=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),e=l,f=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),g=l;return d.queryengine_disconnect(this.__wbg_ptr,c,e,f,g)}startTransaction(a,b,c){let e=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l,g=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),h=l,i=q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),j=l;return d.queryengine_startTransaction(this.__wbg_ptr,e,f,g,h,i,j)}commitTransaction(a,b,c){let e=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l,g=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),h=l,i=q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),j=l;return d.queryengine_commitTransaction(this.__wbg_ptr,e,f,g,h,i,j)}rollbackTransaction(a,b,c){let e=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l,g=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),h=l,i=q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),j=l;return d.queryengine_rollbackTransaction(this.__wbg_ptr,e,f,g,h,i,j)}constructor(a,b,c){let e=d.queryengine_new(a,b,c);if(e[2])throw z(e[1]);return this.__wbg_ptr=e[0]>>>0,D.register(this,this.__wbg_ptr,this),this}query(a,b,c,e){let f=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),g=l,h=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),i=l;var j=x(c)?0:q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),k=l;let m=q(e,d.__wbindgen_malloc,d.__wbindgen_realloc),n=l;return d.queryengine_query(this.__wbg_ptr,f,g,h,i,j,k,m,n)}trace(a){let b=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),c=l;return d.queryengine_trace(this.__wbg_ptr,b,c)}connect(a,b){let c=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),e=l,f=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),g=l;return d.queryengine_connect(this.__wbg_ptr,c,e,f,g)}metrics(a){let b=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),c=l;return d.queryengine_metrics(this.__wbg_ptr,b,c)}}function F(a,b){let c=q(String(b),d.__wbindgen_malloc,d.__wbindgen_realloc),e=l;s().setInt32(a+4,e,!0),s().setInt32(a+0,c,!0)}function G(a){return a.buffer}function H(){return u(function(a,b){return a.call(b)},arguments)}function I(){return u(function(a,b,c){return a.call(b,c)},arguments)}function J(a){return a.crypto}function K(a){return a.done}function L(a){return Object.entries(a)}function M(a,b,c){let d=a.exec(w(b,c));return x(d)?0:t(d)}function N(){return u(function(a,b){a.getRandomValues(b)},arguments)}function O(a){return a.getTime()}function P(){return u(function(a,b){return Reflect.get(a,b)},arguments)}function Q(a,b){return a[b>>>0]}function R(){return u(function(a,b){return a[b]},arguments)}function S(a,b){return a[b]}function T(){return u(function(a,b){return Reflect.has(a,b)},arguments)}function U(a){let b;try{b=a instanceof ArrayBuffer}catch{b=!1}return b}function V(a){let b;try{b=a instanceof Map}catch{b=!1}return b}function W(a){let b;try{b=a instanceof Promise}catch{b=!1}return b}function X(a){let b;try{b=a instanceof Uint8Array}catch{b=!1}return b}function Y(a){return Array.isArray(a)}function Z(a){return Number.isSafeInteger(a)}function $(){return Symbol.iterator}function _(a){return Object.keys(a)}function aa(a){return a.length}function ab(a){return a.length}function ac(a){return a.msCrypto}function ad(){return new Date}function ae(a,b){try{var c={a:a,b:b};return new Promise((a,b)=>{let e=c.a;c.a=0;try{var f;return f=c.b,void d.closure130_externref_shim(e,f,a,b)}finally{c.a=e}})}finally{c.a=c.b=0}}function af(){return{}}function ag(){return new Map}function ah(a,b,c,d){return new RegExp(w(a,b),w(c,d))}function ai(){return[]}function aj(a){return new Uint8Array(a)}function ak(a,b){return new j(w(a,b))}function al(a,b,c){return new Uint8Array(a,b>>>0,c>>>0)}function am(a){return new Uint8Array(a>>>0)}function an(a){return a.next}function ao(){return u(function(a){return a.next()},arguments)}function ap(a){return a.node}function aq(a){return a.now()}function ar(){return Date.now()}function as(){return u(function(){return Date.now()},arguments)}function at(a){return a.process}function au(a,b){return a.push(b)}function av(a){return a.queueMicrotask}function aw(a){queueMicrotask(a)}function ax(){return u(function(a,b){a.randomFillSync(b)},arguments)}function ay(){return u(function(){return a.require},arguments)}function az(a){return Promise.resolve(a)}function aA(a,b){return setTimeout(a,b>>>0)}function aB(a,b,c){a[b>>>0]=c}function aC(a,b,c){a[b]=c}function aD(a,b,c){a.set(b,c>>>0)}function aE(a,b,c){return a.set(b,c)}function aF(){return u(function(a,b,c){return Reflect.set(a,b,c)},arguments)}function aG(){let a=typeof c.g>"u"?null:c.g;return x(a)?0:t(a)}function aH(){let a=typeof globalThis>"u"?null:globalThis;return x(a)?0:t(a)}function aI(){let a=typeof self>"u"?null:self;return x(a)?0:t(a)}function aJ(){let a=typeof window>"u"?null:window;return x(a)?0:t(a)}function aK(a,b,c){return a.subarray(b>>>0,c>>>0)}function aL(a,b){return a.then(b)}function aM(a,b,c){return a.then(b,c)}function aN(a){return a.valueOf()}function aO(a){return a.value}function aP(a){return a.versions}function aQ(a){return+a}function aR(a){return a}function aS(a){return BigInt.asUintN(64,a)}function aT(a,b){let c="bigint"==typeof b?b:void 0;s().setBigInt64(a+8,x(c)?BigInt(0):c,!0),s().setInt32(a+0,!x(c),!0)}function aU(a){return"boolean"==typeof a?+!!a:2}function aV(a){let b=a.original;return 1==b.cnt--&&(b.a=0,!0)}function aW(a,b,c){let e={a:a,b:b,cnt:1,dtor:595},f=(...a)=>{e.cnt++;let b=e.a;e.a=0;try{return C(b,e.b,...a)}finally{0==--e.cnt?(d.__wbindgen_export_5.get(e.dtor)(b,e.b),y.unregister(e)):e.a=b}};return f.original=e,y.register(f,e,e),f}function aX(a,b){let c=q(function a(b){let c,d=typeof b;if("number"==d||"boolean"==d||null==b)return`${b}`;if("string"==d)return`"${b}"`;if("symbol"==d){let a=b.description;return null==a?"Symbol":`Symbol(${a})`}if("function"==d){let a=b.name;return"string"==typeof a&&a.length>0?`Function(${a})`:"Function"}if(Array.isArray(b)){let c=b.length,d="[";c>0&&(d+=a(b[0]));for(let e=1;e<c;e++)d+=", "+a(b[e]);return d+"]"}let e=/\[object ([^\]]+)\]/.exec(toString.call(b));if(!e||!(e.length>1))return toString.call(b);if("Object"==(c=e[1]))try{return"Object("+JSON.stringify(b)+")"}catch{return"Object"}return b instanceof Error?`${b.name}: ${b.message}
${b.stack}`:c}(b),d.__wbindgen_malloc,d.__wbindgen_realloc),e=l;s().setInt32(a+4,e,!0),s().setInt32(a+0,c,!0)}function aY(a,b){return Error(w(a,b))}function aZ(a,b){return a in b}function a$(){let a=d.__wbindgen_export_4,b=a.grow(4);a.set(0,void 0),a.set(b+0,void 0),a.set(b+1,null),a.set(b+2,!0),a.set(b+3,!1)}function a_(a){return"bigint"==typeof a}function a0(a){return"function"==typeof a}function a1(a){return"object"==typeof a&&null!==a}function a2(a){return"string"==typeof a}function a3(a){return void 0===a}function a4(a,b){return a===b}function a5(a,b){return a==b}function a6(){return d.memory}function a7(a,b){let c="number"==typeof b?b:void 0;s().setFloat64(a+8,x(c)?0:c,!0),s().setInt32(a+0,!x(c),!0)}function a8(a){return a}function a9(a,b){let c="string"==typeof b?b:void 0;var e=x(c)?0:q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l;s().setInt32(a+4,f,!0),s().setInt32(a+0,e,!0)}function ba(a,b){return w(a,b)}function bb(a,b){throw Error(w(a,b))}},982:a=>{"use strict";var b=Object.create,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,f=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,h=(a,b)=>()=>(a&&(b=a(a=0)),b),i=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),j=(a,b)=>{for(var d in b)c(a,d,{get:b[d],enumerable:!0})},k=(a,b,f,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of e(b))g.call(a,i)||i===f||c(a,i,{get:()=>b[i],enumerable:!(h=d(b,i))||h.enumerable});return a},l=(a,d,e)=>(e=null!=a?b(f(a)):{},k(!d&&a&&a.__esModule?e:c(e,"default",{value:a,enumerable:!0}),a));function m(a,b){if("utf8"===(b=b.toLowerCase())||"utf-8"===b)return new u(w.encode(a));if("base64"===b||"base64url"===b)return a=(a=a.replace(/-/g,"+").replace(/_/g,"/")).replace(/[^A-Za-z0-9+/]/g,""),new u([...atob(a)].map(a=>a.charCodeAt(0)));if("binary"===b||"ascii"===b||"latin1"===b||"latin-1"===b)return new u([...a].map(a=>a.charCodeAt(0)));if("ucs2"===b||"ucs-2"===b||"utf16le"===b||"utf-16le"===b){let b=new u(2*a.length),c=new DataView(b.buffer);for(let b=0;b<a.length;b++)c.setUint16(2*b,a.charCodeAt(b),!0);return b}if("hex"===b){let b=new u(a.length/2);for(let c=0,d=0;d<a.length;d+=2,c++)b[c]=parseInt(a.slice(d,d+2),16);return b}n(`encoding "${b}"`)}function n(a){throw Error(`Buffer polyfill does not implement "${a}"`)}function o(a,b){if(!(a instanceof Uint8Array))throw TypeError(`The "${b}" argument must be an instance of Buffer or Uint8Array`)}function p(a,b,c=z+1){if(a<0||a>c){let d=RangeError(`The value of "${b}" is out of range. It must be >= 0 && <= ${c}. Received ${a}`);throw d.code="ERR_OUT_OF_RANGE",d}}function q(a,b){if("number"!=typeof a){let c=TypeError(`The "${b}" argument must be of type number. Received type ${typeof a}.`);throw c.code="ERR_INVALID_ARG_TYPE",c}}function r(a,b){if(!Number.isInteger(a)||Number.isNaN(a)){let c=RangeError(`The value of "${b}" is out of range. It must be an integer. Received ${a}`);throw c.code="ERR_OUT_OF_RANGE",c}}function s(a,b){if("string"!=typeof a){let c=TypeError(`The "${b}" argument must be of type string. Received type ${typeof a}`);throw c.code="ERR_INVALID_ARG_TYPE",c}}function t(a,b="utf8"){return u.from(a,b)}var u,v,w,x,y,z,A,B,C,D,E,F,G=h(()=>{u=class a extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(b,c=0,d="utf8"){return s(d,"encoding"),a.allocUnsafe(b).fill(c,d)}static allocUnsafe(b){return a.from(b)}static allocUnsafeSlow(b){return a.from(b)}static isBuffer(a){return a&&!!a._isBuffer}static byteLength(a,b="utf8"){if("string"==typeof a)return m(a,b).byteLength;if(a&&a.byteLength)return a.byteLength;let c=TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw c.code="ERR_INVALID_ARG_TYPE",c}static isEncoding(a){return y.includes(a)}static compare(a,b){o(a,"buff1"),o(b,"buff2");for(let c=0;c<a.length;c++){if(a[c]<b[c])return -1;if(a[c]>b[c])return 1}return a.length===b.length?0:a.length>b.length?1:-1}static from(b,c="utf8"){if(b&&"object"==typeof b&&"Buffer"===b.type)return new a(b.data);if("number"==typeof b)return new a(new Uint8Array(b));if("string"==typeof b)return m(b,c);if(ArrayBuffer.isView(b)){let{byteOffset:c,byteLength:d,buffer:e}=b;return"map"in b&&"function"==typeof b.map?new a(b.map(a=>a%256),c,d):new a(e,c,d)}if(b&&"object"==typeof b&&("length"in b||"byteLength"in b||"buffer"in b))return new a(b);throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(b,c){if(0===b.length)return a.alloc(0);let d=[].concat(...b.map(a=>[...a])),e=a.alloc(void 0!==c?c:d.length);return e.set(void 0!==c?d.slice(0,c):d),e}slice(a=0,b=this.length){return this.subarray(a,b)}subarray(b=0,c=this.length){return Object.setPrototypeOf(super.subarray(b,c),a.prototype)}reverse(){return super.reverse(),this}readIntBE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d=256*d+c.getUint8(a);return 128&c.getUint8(0)&&(d-=Math.pow(256,b)),d}readIntLE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d+=c.getUint8(a)*Math.pow(256,a);return 128&c.getUint8(b-1)&&(d-=Math.pow(256,b)),d}readUIntBE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d=256*d+c.getUint8(a);return d}readUintBE(a,b){return this.readUIntBE(a,b)}readUIntLE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d+=c.getUint8(a)*Math.pow(256,a);return d}readUintLE(a,b){return this.readUIntLE(a,b)}writeIntBE(a,b,c){return a=a<0?a+Math.pow(256,c):a,this.writeUIntBE(a,b,c)}writeIntLE(a,b,c){return a=a<0?a+Math.pow(256,c):a,this.writeUIntLE(a,b,c)}writeUIntBE(a,b,c){q(b,"offset"),r(b,"offset"),p(b,"offset",this.length-1),q(c,"byteLength"),r(c,"byteLength");let d=new DataView(this.buffer,b,c);for(let b=c-1;b>=0;b--)d.setUint8(b,255&a),a/=256;return b+c}writeUintBE(a,b,c){return this.writeUIntBE(a,b,c)}writeUIntLE(a,b,c){q(b,"offset"),r(b,"offset"),p(b,"offset",this.length-1),q(c,"byteLength"),r(c,"byteLength");let d=new DataView(this.buffer,b,c);for(let b=0;b<c;b++)d.setUint8(b,255&a),a/=256;return b+c}writeUintLE(a,b,c){return this.writeUIntLE(a,b,c)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let a=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let b=0;b<this.length;b+=2)a.setUint16(b,a.getUint16(b,!0),!1);return this}swap32(){let a=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let b=0;b<this.length;b+=4)a.setUint32(b,a.getUint32(b,!0),!1);return this}swap64(){let a=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let b=0;b<this.length;b+=8)a.setBigUint64(b,a.getBigUint64(b,!0),!1);return this}compare(b,c=0,d=b.length,e=0,f=this.length){return o(b,"target"),q(c,"targetStart"),q(d,"targetEnd"),q(e,"sourceStart"),q(f,"sourceEnd"),p(c,"targetStart"),p(d,"targetEnd",b.length),p(e,"sourceStart"),p(f,"sourceEnd",this.length),a.compare(this.slice(e,f),b.slice(c,d))}equals(a){return o(a,"otherBuffer"),this.length===a.length&&this.every((b,c)=>b===a[c])}copy(a,b=0,c=0,d=this.length){p(b,"targetStart"),p(c,"sourceStart",this.length),p(d,"sourceEnd"),b>>>=0,c>>>=0,d>>>=0;let e=0;for(;c<d&&void 0!==this[c]&&void 0!==a[b];)a[b]=this[c],e++,c++,b++;return e}write(a,b,c,d="utf8"){let e="string"==typeof b?0:b??0,f="string"==typeof c?this.length-e:c??this.length-e;return d="string"==typeof b?b:"string"==typeof c?c:d,q(e,"offset"),q(f,"length"),p(e,"offset",this.length),p(f,"length",this.length),("ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)&&(f-=f%2),m(a,d).copy(this,e,0,f)}fill(b=0,c=0,d=this.length,e="utf-8"){let f="string"==typeof c?0:c,g="string"==typeof d?this.length:d;if(e="string"==typeof c?c:"string"==typeof d?d:e,b=a.from("number"==typeof b?[b]:b??[],e),s(e,"encoding"),p(f,"offset",this.length),p(g,"end",this.length),0!==b.length)for(let a=f;a<g;a+=b.length)super.set(b.slice(0,b.length+a>=this.length?this.length-a:b.length),a);return this}includes(a,b=null,c="utf-8"){return -1!==this.indexOf(a,b,c)}lastIndexOf(a,b=null,c="utf-8"){return this.indexOf(a,b,c,!0)}indexOf(b,c=null,d="utf-8",e=!1){let f=e?this.findLastIndex.bind(this):this.findIndex.bind(this);d="string"==typeof c?c:d;let g=a.from("number"==typeof b?[b]:b,d),h="string"==typeof c?0:c;return h=Number.isNaN(h="number"==typeof c?h:null)?null:h,h??=e?this.length:0,h=h<0?this.length+h:h,0===g.length&&!1===e?h>=this.length?this.length:h:0===g.length&&!0===e?(h>=this.length?this.length:h)||this.length:f((a,b)=>(e?b<=h:b>=h)&&this[b]===g[0]&&g.every((a,c)=>this[b+c]===a))}toString(a="utf8",b=0,c=this.length){if(b=b<0?0:b,a=a.toString().toLowerCase(),c<=0)return"";if("utf8"===a||"utf-8"===a)return x.decode(this.slice(b,c));if("base64"===a||"base64url"===a){let b=btoa(this.reduce((a,b)=>a+B(b),""));return"base64url"===a?b.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):b}if("binary"===a||"ascii"===a||"latin1"===a||"latin-1"===a)return this.slice(b,c).reduce((b,c)=>b+B(c&("ascii"===a?127:255)),"");if("ucs2"===a||"ucs-2"===a||"utf16le"===a||"utf-16le"===a){let a=new DataView(this.buffer.slice(b,c));return Array.from({length:a.byteLength/2},(b,c)=>2*c+1<a.byteLength?B(a.getUint16(2*c,!0)):"").join("")}if("hex"===a)return this.slice(b,c).reduce((a,b)=>a+b.toString(16).padStart(2,"0"),"");n(`encoding "${a}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}},v={int8:[-128,127],int16:[-32768,32767],int32:[-0x80000000,0x7fffffff],uint8:[0,255],uint16:[0,65535],uint32:[0,0xffffffff],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},w=new TextEncoder,x=new TextDecoder,y=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],z=0xffffffff,function(a){let b=Object.getOwnPropertyNames(DataView.prototype).filter(a=>a.startsWith("get")||a.startsWith("set")),c=b.map(a=>a.replace("get","read").replace("set","write")),d=(a,c)=>function(d=0){return q(d,"offset"),r(d,"offset"),p(d,"offset",this.length-1),new DataView(this.buffer)[b[a]](d,c)},e=(a,c)=>function(d,e=0){let f=v[b[a].match(/set(\w+\d+)/)[1].toLowerCase()];return q(e,"offset"),r(e,"offset"),p(e,"offset",this.length-1),function(a,b,c,d){if(a<c||a>d){let e=RangeError(`The value of "${b}" is out of range. It must be >= ${c} and <= ${d}. Received ${a}`);throw e.code="ERR_OUT_OF_RANGE",e}}(d,"value",f[0],f[1]),new DataView(this.buffer)[b[a]](e,d,c),e+parseInt(b[a].match(/\d+/)[0])/8};c.forEach((b,c)=>{b.startsWith("read")&&(a[b]=d(c,!1),a[b+"LE"]=d(c,!0),a[b+"BE"]=d(c,!1)),b.startsWith("write")&&(a[b]=e(c,!1),a[b+"LE"]=e(c,!0),a[b+"BE"]=e(c,!1)),[b,b+"LE",b+"BE"].forEach(b=>{b.includes("Uint")&&(a[b.replace("Uint","UInt")]=a[b]),b.includes("Float64")&&(a[b.replace("Float64","Double")]=a[b]),b.includes("Float32")&&(a[b.replace("Float32","Float")]=a[b])})})}(u.prototype),A=new Proxy(t,{construct:(a,[b,c])=>u.from(b,c),get:(a,b)=>u[b]}),B=String.fromCodePoint}),H=h(()=>{C={nextTick:(a,...b)=>{setTimeout(()=>{a(...b)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:D}=C}),I=h(()=>{globalThis.performance??(()=>{let a=Date.now();return{now:()=>Date.now()-a}})()}),J=h(()=>{(E=()=>{}).prototype=E}),K=h(()=>{F=class{value;constructor(a){this.value=a}deref(){return this.value}}});function L(a,b){var c,d,e,f,g,h,i,j,k=a.constructor,l=k.precision;if(!a.s||!b.s)return b.s||(b=new k(a)),aa?U(b,l):b;if(i=a.d,j=b.d,g=a.e,e=b.e,i=i.slice(),f=g-e){for(f<0?(d=i,f=-f,h=j.length):(d=j,e=g,h=i.length),f>(h=(g=Math.ceil(l/aj))>h?g+1:h+1)&&(f=h,d.length=1),d.reverse();f--;)d.push(0);d.reverse()}for((h=i.length)-(f=j.length)<0&&(f=h,d=j,j=i,i=d),c=0;f;)c=(i[--f]=i[f]+j[f]+c)/ai|0,i[f]%=ai;for(c&&(i.unshift(c),++e),h=i.length;0==i[--h];)i.pop();return b.d=i,b.e=e,aa?U(b,l):b}function M(a,b,c){if(a!==~~a||a<b||a>c)throw Error(ac+a)}function N(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)d=a[b]+"",(c=aj-d.length)&&(f+=R(c)),f+=d;d=(g=a[b])+"",(c=aj-d.length)&&(f+=R(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}function O(a,b){var c,d,e,f,g,h=0,i=0,j=a.constructor,k=j.precision;if(P(a)>16)throw Error(ad+P(a));if(!a.s)return new j(ah);for(null==b?(aa=!1,g=k):g=b,f=new j(.03125);a.abs().gte(.1);)a=a.times(f),i+=5;for(g+=Math.log(af(2,i))/Math.LN10*2+5|0,c=d=e=new j(ah),j.precision=g;;){if(d=U(d.times(a),g),c=c.times(++h),N((f=e.plus(am(d,c,g))).d).slice(0,g)===N(e.d).slice(0,g)){for(;i--;)e=U(e.times(e),g);return j.precision=k,null==b?(aa=!0,U(e,k)):e}e=f}}function P(a){for(var b=a.e*aj,c=a.d[0];c>=10;c/=10)b++;return b}function Q(a,b,c){if(b>a.LN10.sd())throw aa=!0,c&&(a.precision=c),Error(ab+"LN10 precision limit exceeded");return U(new a(a.LN10),b)}function R(a){for(var b="";a--;)b+="0";return b}function S(a,b){var c,d,e,f,g,h,i,j,k,l=1,m=a,n=m.d,o=m.constructor,p=o.precision;if(m.s<1)throw Error(ab+(m.s?"NaN":"-Infinity"));if(m.eq(ah))return new o(0);if(null==b?(aa=!1,j=p):j=b,m.eq(10))return null==b&&(aa=!0),Q(o,j);if(o.precision=j+=10,d=(c=N(n)).charAt(0),!(15e14>Math.abs(f=P(m))))return i=Q(o,j+2,p).times(f+""),m=S(new o(d+"."+c.slice(1)),j-10).plus(i),o.precision=p,null==b?(aa=!0,U(m,p)):m;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=N((m=m.times(a)).d)).charAt(0),l++;for(f=P(m),d>1?(m=new o("0."+c),f++):m=new o(d+"."+c.slice(1)),h=g=m=am(m.minus(ah),m.plus(ah),j),k=U(m.times(m),j),e=3;;){if(g=U(g.times(k),j),N((i=h.plus(am(g,new o(e),j))).d).slice(0,j)===N(h.d).slice(0,j))return h=h.times(2),0!==f&&(h=h.plus(Q(o,j+2,p).times(f+""))),h=am(h,new o(l),j),o.precision=p,null==b?(aa=!0,U(h,p)):h;h=i,e+=2}}function T(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);)++d;for(e=b.length;48===b.charCodeAt(e-1);)--e;if(b=b.slice(d,e)){if(e-=d,a.e=ae((c=c-d-1)/aj),a.d=[],d=(c+1)%aj,c<0&&(d+=aj),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=aj;d<e;)a.d.push(+b.slice(d,d+=aj));b=b.slice(d),d=aj-b.length}else d-=e;for(;d--;)b+="0";if(a.d.push(+b),aa&&(a.e>ak||a.e<-ak))throw Error(ad+c)}else a.s=0,a.e=0,a.d=[0];return a}function U(a,b,c){var d,e,f,g,h,i,j,k,l=a.d;for(g=1,f=l[0];f>=10;f/=10)g++;if((d=b-g)<0)d+=aj,e=b,j=l[k=0];else{if((k=Math.ceil((d+1)/aj))>=(f=l.length))return a;for(j=f=l[k],g=1;f>=10;f/=10)g++;d%=aj,e=d-aj+g}if(void 0!==c&&(h=j/(f=af(10,g-e-1))%10|0,i=b<0||void 0!==l[k+1]||j%f,i=c<4?(h||i)&&(0==c||c==(a.s<0?3:2)):h>5||5==h&&(4==c||i||6==c&&(d>0?e>0?j/af(10,g-e):0:l[k-1])%10&1||c==(a.s<0?8:7))),b<1||!l[0])return i?(f=P(a),l.length=1,b=b-f-1,l[0]=af(10,(aj-b%aj)%aj),a.e=ae(-b/aj)||0):(l.length=1,l[0]=a.e=a.s=0),a;if(0==d?(l.length=k,f=1,k--):(l.length=k+1,f=af(10,aj-d),l[k]=e>0?(j/af(10,g-e)%af(10,e)|0)*f:0),i)for(;;)if(0==k){(l[0]+=f)==ai&&(l[0]=1,++a.e);break}else{if(l[k]+=f,l[k]!=ai)break;l[k--]=0,f=1}for(d=l.length;0===l[--d];)l.pop();if(aa&&(a.e>ak||a.e<-ak))throw Error(ad+P(a));return a}function V(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.constructor,n=m.precision;if(!a.s||!b.s)return b.s?b.s=-b.s:b=new m(a),aa?U(b,n):b;if(i=a.d,l=b.d,d=b.e,j=a.e,i=i.slice(),g=j-d){for((k=g<0)?(c=i,g=-g,h=l.length):(c=l,d=j,h=i.length),g>(e=Math.max(Math.ceil(n/aj),h)+2)&&(g=e,c.length=1),c.reverse(),e=g;e--;)c.push(0);c.reverse()}else{for((k=(e=i.length)<(h=l.length))&&(h=e),e=0;e<h;e++)if(i[e]!=l[e]){k=i[e]<l[e];break}g=0}for(k&&(c=i,i=l,l=c,b.s=-b.s),h=i.length,e=l.length-h;e>0;--e)i[h++]=0;for(e=l.length;e>g;){if(i[--e]<l[e]){for(f=e;f&&0===i[--f];)i[f]=ai-1;--i[f],i[e]+=ai}i[e]-=l[e]}for(;0===i[--h];)i.pop();for(;0===i[0];i.shift())--d;return i[0]?(b.d=i,b.e=d,aa?U(b,n):b):new m(0)}function W(a,b,c){var d,e=P(a),f=N(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+R(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(e<0?"e":"e+")+e):e<0?(f="0."+R(-e-1)+f,c&&(d=c-g)>0&&(f+=R(d))):e>=g?(f+=R(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+R(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=R(d))),a.s<0?"-"+f:f}function X(a,b){if(a.length>b)return a.length=b,!0}function Y(a){if(!a||"object"!=typeof a)throw Error(ab+"Object expected");var b,c,d,e=["precision",1,Z,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(b=0;b<e.length;b+=3)if(void 0!==(d=a[c=e[b]]))if(ae(d)===d&&d>=e[b+1]&&d<=e[b+2])this[c]=d;else throw Error(ac+c+": "+d);if(void 0!==(d=a[c="LN10"]))if(d==Math.LN10)this[c]=new this(d);else throw Error(ac+c+": "+d);return this}var Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq=h(()=>{G(),H(),I(),J(),K(),ar(),Z=1e9,$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aa=!0,ac=(ab="[DecimalError] ")+"Invalid argument: ",ad=ab+"Exponent out of range: ",ae=Math.floor,af=Math.pow,ag=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ai=1e7,ak=ae(0x1fffffffffffff/(aj=7)),(al={}).absoluteValue=al.abs=function(){var a=new this.constructor(this);return a.s&&(a.s=1),a},al.comparedTo=al.cmp=function(a){var b,c,d,e;if(a=new this.constructor(a),this.s!==a.s)return this.s||-a.s;if(this.e!==a.e)return this.e>a.e^this.s<0?1:-1;for(d=this.d.length,e=a.d.length,b=0,c=d<e?d:e;b<c;++b)if(this.d[b]!==a.d[b])return this.d[b]>a.d[b]^this.s<0?1:-1;return d===e?0:d>e^this.s<0?1:-1},al.decimalPlaces=al.dp=function(){var a=this.d.length-1,b=(a-this.e)*aj;if(a=this.d[a])for(;a%10==0;a/=10)b--;return b<0?0:b},al.dividedBy=al.div=function(a){return am(this,new this.constructor(a))},al.dividedToIntegerBy=al.idiv=function(a){var b=this.constructor;return U(am(this,new b(a),0,1),b.precision)},al.equals=al.eq=function(a){return!this.cmp(a)},al.exponent=function(){return P(this)},al.greaterThan=al.gt=function(a){return this.cmp(a)>0},al.greaterThanOrEqualTo=al.gte=function(a){return this.cmp(a)>=0},al.isInteger=al.isint=function(){return this.e>this.d.length-2},al.isNegative=al.isneg=function(){return this.s<0},al.isPositive=al.ispos=function(){return this.s>0},al.isZero=function(){return 0===this.s},al.lessThan=al.lt=function(a){return 0>this.cmp(a)},al.lessThanOrEqualTo=al.lte=function(a){return 1>this.cmp(a)},al.logarithm=al.log=function(a){var b,c=this.constructor,d=c.precision,e=d+5;if(void 0===a)a=new c(10);else if((a=new c(a)).s<1||a.eq(ah))throw Error(ab+"NaN");if(this.s<1)throw Error(ab+(this.s?"NaN":"-Infinity"));return this.eq(ah)?new c(0):(aa=!1,b=am(S(this,e),S(a,e),e),aa=!0,U(b,d))},al.minus=al.sub=function(a){return a=new this.constructor(a),this.s==a.s?V(this,a):L(this,(a.s=-a.s,a))},al.modulo=al.mod=function(a){var b,c=this.constructor,d=c.precision;if(!(a=new c(a)).s)throw Error(ab+"NaN");return this.s?(aa=!1,b=am(this,a,0,1).times(a),aa=!0,this.minus(b)):U(new c(this),d)},al.naturalExponential=al.exp=function(){return O(this)},al.naturalLogarithm=al.ln=function(){return S(this)},al.negated=al.neg=function(){var a=new this.constructor(this);return a.s=-a.s||0,a},al.plus=al.add=function(a){return a=new this.constructor(a),this.s==a.s?L(this,a):V(this,(a.s=-a.s,a))},al.precision=al.sd=function(a){var b,c,d;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(ac+a);if(b=P(this)+1,c=(d=this.d.length-1)*aj+1,d=this.d[d]){for(;d%10==0;d/=10)c--;for(d=this.d[0];d>=10;d/=10)c++}return a&&b>c?b:c},al.squareRoot=al.sqrt=function(){var a,b,c,d,e,f,g,h=this.constructor;if(this.s<1){if(!this.s)return new h(0);throw Error(ab+"NaN")}for(a=P(this),aa=!1,0==(e=Math.sqrt(+this))||e==1/0?(((b=N(this.d)).length+a)%2==0&&(b+="0"),e=Math.sqrt(b),a=ae((a+1)/2)-(a<0||a%2),d=new h(b=e==1/0?"5e"+a:(b=e.toExponential()).slice(0,b.indexOf("e")+1)+a)):d=new h(e.toString()),e=g=(c=h.precision)+3;;)if(d=(f=d).plus(am(this,f,g+2)).times(.5),N(f.d).slice(0,g)===(b=N(d.d)).slice(0,g)){if(b=b.slice(g-3,g+1),e==g&&"4999"==b){if(U(f,c+1,0),f.times(f).eq(this)){d=f;break}}else if("9999"!=b)break;g+=4}return aa=!0,U(d,c)},al.times=al.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(!this.s||!a.s)return new k(0);for(a.s*=this.s,c=this.e+a.e,(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%ai|0,b=h/ai|0;f[e]=(f[e]+b)%ai|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c,aa?U(a,k.precision):a},al.toDecimalPlaces=al.todp=function(a,b){var c=this,d=c.constructor;return c=new d(c),void 0===a?c:(M(a,0,Z),void 0===b?b=d.rounding:M(b,0,8),U(c,a+P(c)+1,b))},al.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=W(d,!0):(M(a,0,Z),void 0===b?b=e.rounding:M(b,0,8),c=W(d=U(new e(d),a+1,b),!0,a+1)),c},al.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?W(this):(M(a,0,Z),void 0===b?b=e.rounding:M(b,0,8),c=W((d=U(new e(this),a+P(this)+1,b)).abs(),!1,a+P(d)+1),this.isneg()&&!this.isZero()?"-"+c:c)},al.toInteger=al.toint=function(){var a=this.constructor;return U(new a(this),P(this)+1,a.rounding)},al.toNumber=function(){return+this},al.toPower=al.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!a.s)return new i(ah);if(!(h=new i(h)).s){if(a.s<1)throw Error(ab+"Infinity");return h}if(h.eq(ah))return h;if(d=i.precision,a.eq(ah))return U(h,d);if(g=(b=a.e)>=(c=a.d.length-1),f=h.s,g){if((c=j<0?-j:j)<=0x1fffffffffffff){for(e=new i(ah),b=Math.ceil(d/aj+4),aa=!1;c%2&&X((e=e.times(h)).d,b),0!==(c=ae(c/2));)X((h=h.times(h)).d,b);return aa=!0,a.s<0?new i(ah).div(e):U(e,d)}}else if(f<0)throw Error(ab+"NaN");return f=f<0&&1&a.d[Math.max(b,c)]?-1:1,h.s=1,aa=!1,e=a.times(S(h,d+12)),aa=!0,(e=O(e)).s=f,e},al.toPrecision=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?(c=P(e),d=W(e,c<=f.toExpNeg||c>=f.toExpPos)):(M(a,1,Z),void 0===b?b=f.rounding:M(b,0,8),c=P(e=U(new f(e),a,b)),d=W(e,a<=c||c<=f.toExpNeg,a)),d},al.toSignificantDigits=al.tosd=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(M(a,1,Z),void 0===b?b=c.rounding:M(b,0,8)),U(new c(this),a,b)},al.toString=al.valueOf=al.val=al.toJSON=al[Symbol.for("nodejs.util.inspect.custom")]=function(){var a=P(this),b=this.constructor;return W(this,a<=b.toExpNeg||a>=b.toExpPos)},am=function(){function a(a,b){var c,d=0,e=a.length;for(a=a.slice();e--;)c=a[e]*b+d,a[e]=c%ai|0,d=c/ai|0;return d&&a.unshift(d),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c){for(var d=0;c--;)a[c]-=d,d=+(a[c]<b[c]),a[c]=d*ai+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=d.constructor,A=d.s==e.s?1:-1,B=d.d,C=e.d;if(!d.s)return new z(d);if(!e.s)throw Error(ab+"Division by zero");for(i=d.e-e.e,x=C.length,v=B.length,o=(n=new z(A)).d=[],j=0;C[j]==(B[j]||0);)++j;if(C[j]>(B[j]||0)&&--i,(s=null==f?f=z.precision:g?f+(P(d)-P(e))+1:f)<0)return new z(0);if(s=s/aj+2|0,j=0,1==x)for(k=0,C=C[0],s++;(j<v||k)&&s--;j++)t=k*ai+(B[j]||0),o[j]=t/C|0,k=t%C|0;else{for((k=ai/(C[0]+1)|0)>1&&(C=a(C,k),B=a(B,k),x=C.length,v=B.length),u=x,q=(p=B.slice(0,x)).length;q<x;)p[q++]=0;(y=C.slice()).unshift(0),w=C[0],C[1]>=ai/2&&++w;do k=0,(h=b(C,p,x,q))<0?(r=p[0],x!=q&&(r=r*ai+(p[1]||0)),(k=r/w|0)>1?(k>=ai&&(k=ai-1),m=(l=a(C,k)).length,q=p.length,1==(h=b(l,p,m,q))&&(k--,c(l,x<m?y:C,m))):(0==k&&(h=k=1),l=C.slice()),(m=l.length)<q&&l.unshift(0),c(p,l,q),-1==h&&(q=p.length,(h=b(C,p,x,q))<1&&(k++,c(p,x<q?y:C,q))),q=p.length):0===h&&(k++,p=[0]),o[j++]=k,h&&p[0]?p[q++]=B[u]||0:(p=[B[u]],q=1);while((u++<v||void 0!==p[0])&&s--)}return o[0]||o.shift(),n.e=i,U(n,g?f+P(n)+1:f)}}(),ah=new(_=function a(b){var c,d,e;function f(a){if(!(this instanceof f))return new f(a);if(this.constructor=f,a instanceof f){this.s=a.s,this.e=a.e,this.d=(a=a.d)?a.slice():a;return}if("number"==typeof a){if(0*a!=0)throw Error(ac+a);if(a>0)this.s=1;else if(a<0)a=-a,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(a===~~a&&a<1e7){this.e=0,this.d=[a];return}return T(this,a.toString())}if("string"!=typeof a)throw Error(ac+a);if(45===a.charCodeAt(0)?(a=a.slice(1),this.s=-1):this.s=1,ag.test(a))T(this,a);else throw Error(ac+a)}if(f.prototype=al,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.clone=a,f.config=f.set=Y,void 0===b&&(b={}),b)for(e=["precision","rounding","toExpNeg","toExpPos","LN10"],c=0;c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}($))(1),an=_}),ar=h(()=>{aq(),ap=ao=class extends an{static isDecimal(a){return a instanceof an}static random(a=20){{let b=globalThis.crypto.getRandomValues(new Uint8Array(a)).reduce((a,b)=>a+b,"");return new an(`0.${b.slice(0,a)}`)}}}});function as(){return!1}function at(){return{dev:0,ino:0,mode:0,nlink:0,uid:0,gid:0,rdev:0,size:0,blksize:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:new Date,mtime:new Date,ctime:new Date,birthtime:new Date}}function au(){return at()}function av(){return[]}function aw(a){a(null,[])}function ax(){return""}function ay(){return""}function az(){}function aA(){}function aB(){}function aC(){}function aD(){}function aE(){}function aF(){}function aG(){}function aH(){return{close:()=>{},on:()=>{},removeAllListeners:()=>{}}}function aI(a,b){b(null,at())}var aJ,aK=h(()=>{G(),H(),I(),J(),K(),ar(),aJ={existsSync:as,lstatSync:at,stat:aI,statSync:au,readdirSync:av,readdir:aw,readlinkSync:ax,realpathSync:ay,chmodSync:az,renameSync:aA,mkdirSync:aB,rmdirSync:aC,rmSync:aD,unlinkSync:aE,watchFile:aF,unwatchFile:aG,watch:aH,promises:{}}}),aL=i((a,b)=>{b.exports={name:"@prisma/internals",version:"6.17.1",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac","@prisma/schema-engine-wasm":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}});function aM(...a){return a.join("/")}function aN(...a){return a.join("/")}function aO(a){let b=aP(a),c=aQ(a),[d,e]=b.split(".");return{root:"/",dir:c,base:b,ext:e,name:d}}function aP(a){let b=a.split("/");return b[b.length-1]}function aQ(a){return a.split("/").slice(0,-1).join("/")}function aR(a){let b=a.split("/").filter(a=>""!==a&&"."!==a),c=[];for(let a of b)".."===a?c.pop():c.push(a);let d=c.join("/");return a.startsWith("/")?"/"+d:d}var aS,aT,aU=h(()=>{G(),H(),I(),J(),K(),ar(),aS={basename:aP,delimiter:":",dirname:aQ,join:aN,normalize:aR,parse:aO,posix:{sep:"/"},resolve:aM,sep:"/"}}),aV=i((a,b)=>{G(),H(),I(),J(),K(),ar(),b.exports=(a,b=1,c)=>{if(c={indent:" ",includeEmptyLines:!1,...c},"string"!=typeof a)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof a}\``);if("number"!=typeof b)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof b}\``);if("string"!=typeof c.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof c.indent}\``);if(0===b)return a;let d=c.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return a.replace(d,c.indent.repeat(b))}}),aW=i((a,b)=>{G(),H(),I(),J(),K(),ar(),b.exports=function(){function a(a,b,c,d,e){return a<b||c<b?a>c?c+1:a+1:d===e?b:b+1}return function(b,c){if(b===c)return 0;if(b.length>c.length){var d=b;b=c,c=d}for(var e=b.length,f=c.length;e>0&&b.charCodeAt(e-1)===c.charCodeAt(f-1);)e--,f--;for(var g=0;g<e&&b.charCodeAt(g)===c.charCodeAt(g);)g++;if(e-=g,f-=g,0===e||f<3)return f;var h,i,j,k,l,m,n,o,p,q,r,s,t=0,u=[];for(h=0;h<e;h++)u.push(h+1),u.push(b.charCodeAt(g+h));for(var v=u.length-1;t<f-3;)for(p=c.charCodeAt(g+(i=t)),q=c.charCodeAt(g+(j=t+1)),r=c.charCodeAt(g+(k=t+2)),s=c.charCodeAt(g+(l=t+3)),m=t+=4,h=0;h<v;h+=2)i=a(n=u[h],i,j,p,o=u[h+1]),j=a(i,j,k,q,o),k=a(j,k,l,r,o),m=a(k,l,m,s,o),u[h]=m,l=k,k=j,j=i,i=n;for(;t<f;)for(p=c.charCodeAt(g+(i=t)),m=++t,h=0;h<v;h+=2)n=u[h],u[h]=m=a(n,i,m,p,u[h+1]),i=n;return m}}()}),aX=h(()=>{G(),H(),I(),J(),K(),ar()}),aY=h(()=>{G(),H(),I(),J(),K(),ar()}),aZ=i((a,b)=>{b.exports={name:"@prisma/engines-version",version:"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"272a37d34178c2894197e17273bf937f25acdeac"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),a$=h(()=>{G(),H(),I(),J(),K(),ar(),aT=class{events={};on(a,b){return this.events[a]||(this.events[a]=[]),this.events[a].push(b),this}emit(a,...b){return!!this.events[a]&&(this.events[a].forEach(a=>{a(...b)}),!0)}}}),a_={};j(a_,{DMMF:()=>b2,Debug:()=>br,Decimal:()=>ap,Extensions:()=>a0,MetricsClient:()=>c1,PrismaClientInitializationError:()=>bR,PrismaClientKnownRequestError:()=>bS,PrismaClientRustPanicError:()=>bT,PrismaClientUnknownRequestError:()=>bU,PrismaClientValidationError:()=>bV,Public:()=>a3,Sql:()=>c9,createParam:()=>cR,defineDmmfProperty:()=>c2,deserializeJsonResponse:()=>dN,deserializeRawResult:()=>en,dmmfToRuntimeDataModel:()=>bZ,empty:()=>dc,getPrismaClient:()=>eD,getRuntime:()=>dV,join:()=>da,makeStrictEnum:()=>eG,makeTypedQueryFactory:()=>c6,objectEnumValues:()=>cE,raw:()=>db,serializeJsonQuery:()=>cY,skip:()=>cU,sqltag:()=>dd,warnEnvConflicts:()=>void 0,warnOnce:()=>bQ}),a.exports=k(c({},"__esModule",{value:!0}),a_),G(),H(),I(),J(),K(),ar();var a0={};function a1(a){return"function"==typeof a?a:b=>b.$extends(a)}function a2(a){return a}j(a0,{defineExtension:()=>a1,getExtensionContext:()=>a2}),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var a3={};function a4(){return a=>a}j(a3,{validator:()=>a4}),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var a5,a6,a7,a8,a9=!0;"u">typeof C&&({FORCE_COLOR:a5,NODE_DISABLE_COLORS:a6,NO_COLOR:a7,TERM:a8}=C.env||{},a9=C.stdout&&C.stdout.isTTY);var ba={enabled:!a6&&null==a7&&"dumb"!==a8&&(null!=a5&&"0"!==a5||a9)};function bb(a,b){let c=RegExp(`\\x1b\\[${b}m`,"g"),d=`\x1b[${a}m`,e=`\x1b[${b}m`;return function(a){return ba.enabled&&null!=a?d+(~(""+a).indexOf(e)?a.replace(c,e+d):a)+e:a}}bb(0,0);var bc=bb(1,22),bd=bb(2,22),be=(bb(3,23),bb(4,24)),bf=(bb(7,27),bb(8,28),bb(9,29),bb(30,39),bb(31,39)),bg=bb(32,39),bh=bb(33,39),bi=bb(34,39),bj=(bb(35,39),bb(36,39)),bk=(bb(37,39),bb(90,39));bb(90,39),bb(40,49),bb(41,49),bb(42,49),bb(43,49),bb(44,49),bb(45,49),bb(46,49),bb(47,49),G(),H(),I(),J(),K(),ar();var bl=["green","yellow","blue","magenta","cyan","red"],bm=[],bn=Date.now(),bo=0,bp="u">typeof C?C.env:{};globalThis.DEBUG??=bp.DEBUG??"",globalThis.DEBUG_COLORS??=!bp.DEBUG_COLORS||"true"===bp.DEBUG_COLORS;var bq={enable(a){"string"==typeof a&&(globalThis.DEBUG=a)},disable(){let a=globalThis.DEBUG;return globalThis.DEBUG="",a},enabled(a){let b=globalThis.DEBUG.split(",").map(a=>a.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),c=b.some(b=>""!==b&&"-"!==b[0]&&a.match(RegExp(b.split("*").join(".*")+"$"))),d=b.some(b=>""!==b&&"-"===b[0]&&a.match(RegExp(b.slice(1).split("*").join(".*")+"$")));return c&&!d},log:(...a)=>{let[b,c,...d]=a;(console.warn??console.log)(`${b} ${c}`,...d)},formatters:{}},br=new Proxy(function(a){let b={color:bl[bo++%bl.length],enabled:bq.enabled(a),namespace:a,log:bq.log,extend:()=>{}};return new Proxy((...a)=>{let{enabled:c,namespace:d,color:e,log:f}=b;if(0!==a.length&&bm.push([d,...a]),bm.length>100&&bm.shift(),bq.enabled(d)||c){let b=a.map(a=>"string"==typeof a?a:function(a,b=2){let c=new Set;return JSON.stringify(a,(a,b)=>{if("object"==typeof b&&null!==b){if(c.has(b))return"[Circular *]";c.add(b)}else if("bigint"==typeof b)return b.toString();return b},b)}(a)),c=`+${Date.now()-bn}ms`;bn=Date.now(),f(d,...b,c)}},{get:(a,c)=>b[c],set:(a,c,d)=>b[c]=d})},{get:(a,b)=>bq[b],set:(a,b,c)=>bq[b]=c});G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var bs=aL().version;function bt(a){let b;return("library"===(b=C.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===b?"binary":"client"===b?"client":void 0)||(a?.config.engineType==="library"?"library":a?.config.engineType==="binary"?"binary":a?.config.engineType==="client"?"client":"library")}function bu(a){return"DriverAdapterError"===a.name&&"object"==typeof a.cause}function bv(a){return{ok:!0,value:a,map:b=>bv(b(a)),flatMap:b=>b(a)}}function bw(a){return{ok:!1,error:a,map:()=>bw(a),flatMap:()=>bw(a)}}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var bx=br("driver-adapter-utils"),by=class{registeredErrors=[];consumeError(a){return this.registeredErrors[a]}registerNewError(a){let b=0;for(;void 0!==this.registeredErrors[b];)b++;return this.registeredErrors[b]={error:a},b}},bz=(a,b=new by)=>{var c,d;let e={adapterName:a.adapterName,errorRegistry:b,queryRaw:bB(b,a.queryRaw.bind(a)),executeRaw:bB(b,a.executeRaw.bind(a)),executeScript:bB(b,a.executeScript.bind(a)),dispose:bB(b,a.dispose.bind(a)),provider:a.provider,startTransaction:async(...c)=>(await bB(b,a.startTransaction.bind(a))(...c)).map(a=>bA(b,a))};return a.getConnectionInfo&&(c=b,d=a.getConnectionInfo.bind(a),e.getConnectionInfo=(...a)=>{try{return bv(d(...a))}catch(a){if(bx("[error@wrapSync]",a),bu(a))return bw(a.cause);return bw({kind:"GenericJs",id:c.registerNewError(a)})}}),e},bA=(a,b)=>({adapterName:b.adapterName,provider:b.provider,options:b.options,queryRaw:bB(a,b.queryRaw.bind(b)),executeRaw:bB(a,b.executeRaw.bind(b)),commit:bB(a,b.commit.bind(b)),rollback:bB(a,b.rollback.bind(b))});function bB(a,b){return async(...c)=>{try{return bv(await b(...c))}catch(b){if(bx("[error@wrapAsync]",b),bu(b))return bw(b.cause);return bw({kind:"GenericJs",id:a.registerNewError(b)})}}}G(),H(),I(),J(),K(),ar();var bC={};j(bC,{error:()=>bI,info:()=>bH,log:()=>bF,query:()=>bJ,should:()=>bE,tags:()=>bD,warn:()=>bG}),G(),H(),I(),J(),K(),ar();var bD={error:bf("prisma:error"),warn:bh("prisma:warn"),info:bj("prisma:info"),query:bi("prisma:query")},bE={warn:()=>!C.env.PRISMA_DISABLE_WARNINGS};function bF(...a){console.log(...a)}function bG(a,...b){bE.warn()&&console.warn(`${bD.warn} ${a}`,...b)}function bH(a,...b){console.info(`${bD.info} ${a}`,...b)}function bI(a,...b){console.error(`${bD.error} ${a}`,...b)}function bJ(a,...b){console.log(`${bD.query} ${a}`,...b)}function bK(a,b){if(!a)throw Error(`${b}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function bL(a,b){throw Error(b)}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var bM=function({onlyFirst:a=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",a?void 0:"g")}();function bN(a,b){let c={};for(let d of Object.keys(a))c[d]=b(a[d],d);return c}function bO(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var bP=new Set,bQ=(a,b,...c)=>{bP.has(a)||(bP.add(a),bG(b,...c))},bR=class a extends Error{clientVersion;errorCode;retryable;constructor(b,c,d){super(b),this.name="PrismaClientInitializationError",this.clientVersion=c,this.errorCode=d,Error.captureStackTrace(a)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};bO(bR,"PrismaClientInitializationError"),G(),H(),I(),J(),K(),ar();var bS=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(a,{code:b,clientVersion:c,meta:d,batchRequestIdx:e}){super(a),this.name="PrismaClientKnownRequestError",this.code=b,this.clientVersion=c,this.meta=d,Object.defineProperty(this,"batchRequestIdx",{value:e,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};bO(bS,"PrismaClientKnownRequestError"),G(),H(),I(),J(),K(),ar();var bT=class extends Error{clientVersion;constructor(a,b){super(a),this.name="PrismaClientRustPanicError",this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};bO(bT,"PrismaClientRustPanicError"),G(),H(),I(),J(),K(),ar();var bU=class extends Error{clientVersion;batchRequestIdx;constructor(a,{clientVersion:b,batchRequestIdx:c}){super(a),this.name="PrismaClientUnknownRequestError",this.clientVersion=b,Object.defineProperty(this,"batchRequestIdx",{value:c,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};bO(bU,"PrismaClientUnknownRequestError"),G(),H(),I(),J(),K(),ar();var bV=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(a,{clientVersion:b}){super(a),this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};bO(bV,"PrismaClientValidationError"),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var bW=class{_map=new Map;get(a){return this._map.get(a)?.value}set(a,b){this._map.set(a,{value:b})}getOrCreate(a,b){let c=this._map.get(a);if(c)return c.value;let d=b();return this.set(a,d),d}};function bX(a){return a.substring(0,1).toLowerCase()+a.substring(1)}function bY(a){let b;return{get:()=>(b||(b={value:a()}),b.value)}}function bZ(a){return{models:b$(a.models),enums:b$(a.enums),types:b$(a.types)}}function b$(a){let b={};for(let{name:c,...d}of a)b[c]=d;return b}function b_(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function b0(a){return"Invalid Date"!==a.toString()}function b1(a){return!!ao.isDecimal(a)||null!==a&&"object"==typeof a&&"number"==typeof a.s&&"number"==typeof a.e&&"function"==typeof a.toFixed&&Array.isArray(a.d)}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var b2={};function b3(a){return{name:a.name,values:a.values.map(a=>a.name)}}j(b2,{ModelAction:()=>b4,datamodelEnumToSchemaEnum:()=>b3}),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var b4=(a=>(a.findUnique="findUnique",a.findUniqueOrThrow="findUniqueOrThrow",a.findFirst="findFirst",a.findFirstOrThrow="findFirstOrThrow",a.findMany="findMany",a.create="create",a.createMany="createMany",a.createManyAndReturn="createManyAndReturn",a.update="update",a.updateMany="updateMany",a.updateManyAndReturn="updateManyAndReturn",a.upsert="upsert",a.delete="delete",a.deleteMany="deleteMany",a.groupBy="groupBy",a.count="count",a.aggregate="aggregate",a.findRaw="findRaw",a.aggregateRaw="aggregateRaw",a))(b4||{});l(aV());var b5={red:bf,gray:bk,dim:bd,bold:bc,underline:be,highlightSource:a=>a.highlight()},b6={red:a=>a,gray:a=>a,dim:a=>a,bold:a=>a,underline:a=>a,highlightSource:a=>a};function b7(a){let b=a.showColors?b5:b6;return function({functionName:a,location:b,message:c,isPanic:d,contextLines:e,callArguments:f},g){var h;let i,j=[""],k=b?" in":":";if(d?(j.push(g.red(`Oops, an unknown error occurred! This is ${g.bold("on us")}, you did nothing wrong.`)),j.push(g.red(`It occurred in the ${g.bold(`\`${a}\``)} invocation${k}`))):j.push(g.red(`Invalid ${g.bold(`\`${a}\``)} invocation${k}`)),b&&j.push(g.underline((i=[(h=b).fileName],h.lineNumber&&i.push(String(h.lineNumber)),h.columnNumber&&i.push(String(h.columnNumber)),i.join(":")))),e){j.push("");let a=[e.toString()];f&&(a.push(f),a.push(g.dim(")"))),j.push(a.join("")),f&&j.push("")}else j.push(""),f&&j.push(f),j.push("");return j.push(c),j.join(`
`)}("u">typeof $getTemplateParameters?$getTemplateParameters(a,b):function({message:a,originalMethod:b,isPanic:c,callArguments:d}){return{functionName:`prisma.${b}()`,message:a,isPanic:c??!1,callArguments:d}}(a),b)}G(),H(),I(),J(),K(),ar();var b8=l(aW());function b9(a){let b=0;return Array.isArray(a.selectionPath)&&(b+=a.selectionPath.length),Array.isArray(a.argumentPath)&&(b+=a.argumentPath.length),b}function ca(a){switch(a.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var cb=class{constructor(a,b){this.name=a,this.value=b}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(a){let{colors:{green:b}}=a.context;a.addMarginSymbol(b(this.isRequired?"+":"?")),a.write(b(this.name)),this.isRequired||a.write(b("?")),a.write(b(": ")),"string"==typeof this.value?a.write(b(this.value)):a.write(this.value)}};G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),aY(),G(),H(),I(),J(),K(),ar();var cc=class{constructor(a=0,b){this.context=b,this.currentIndent=a}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(a){return"string"==typeof a?this.currentLine+=a:a.write(this),this}writeJoined(a,b,c=(a,b)=>b.write(a)){let d=b.length-1;for(let e=0;e<b.length;e++)c(b[e],this),e!==d&&this.write(a);return this}writeLine(a){return this.write(a).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let a=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,a?.(),this}withIndent(a){return this.indent(),a(this),this.unindent(),this}afterNextNewline(a){return this.afterNextNewLineCallback=a,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(a){return this.marginSymbol=a,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let a=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+a.slice(1):a}};aX(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var cd=class{constructor(a){this.value=a}write(a){a.write(this.value)}markAsError(){this.value.markAsError()}};G(),H(),I(),J(),K(),ar();var ce=a=>a,cf={bold:ce,red:ce,green:ce,dim:ce,enabled:!1},cg={bold:bc,red:bf,green:bg,dim:bd,enabled:!0},ch={write(a){a.writeLine(",")}};G(),H(),I(),J(),K(),ar();var ci=class{constructor(a){this.contents=a}isUnderlined=!1;color=a=>a;underline(){return this.isUnderlined=!0,this}setColor(a){return this.color=a,this}write(a){let b=a.getCurrentLineLength();a.write(this.color(this.contents)),this.isUnderlined&&a.afterNextNewline(()=>{a.write(" ".repeat(b)).writeLine(this.color("~".repeat(this.contents.length)))})}};G(),H(),I(),J(),K(),ar();var cj=class{hasError=!1;markAsError(){return this.hasError=!0,this}},ck=class extends cj{items=[];addItem(a){return this.items.push(new cd(a)),this}getField(a){return this.items[a]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(a=>a.value.getPrintWidth()))+2}write(a){if(0===this.items.length)return void this.writeEmpty(a);this.writeWithItems(a)}writeEmpty(a){let b=new ci("[]");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithItems(a){let{colors:b}=a.context;a.writeLine("[").withIndent(()=>a.writeJoined(ch,this.items).newLine()).write("]"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(b.red("~".repeat(this.getPrintWidth())))})}asObject(){}},cl=class a extends cj{fields={};suggestions=[];addField(a){this.fields[a.name]=a}addSuggestion(a){this.suggestions.push(a)}getField(a){return this.fields[a]}getDeepField(b){let[c,...d]=b,e=this.getField(c);if(!e)return;let f=e;for(let b of d){let c;if(f.value instanceof a?c=f.value.getField(b):f.value instanceof ck&&(c=f.value.getField(Number(b))),!c)return;f=c}return f}getDeepFieldValue(a){return 0===a.length?this:this.getDeepField(a)?.value}hasField(a){return!!this.getField(a)}removeAllFields(){this.fields={}}removeField(a){delete this.fields[a]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(a){return this.getField(a)?.value}getDeepSubSelectionValue(b){let c=this;for(let d of b){if(!(c instanceof a))return;let b=c.getSubSelectionValue(d);if(!b)return;c=b}return c}getDeepSelectionParent(b){let c=this.getSelectionParent();if(!c)return;let d=c;for(let c of b){let b=d.value.getFieldValue(c);if(!b||!(b instanceof a))return;let e=b.getSelectionParent();if(!e)return;d=e}return d}getSelectionParent(){let a=this.getField("select")?.value.asObject();if(a)return{kind:"select",value:a};let b=this.getField("include")?.value.asObject();if(b)return{kind:"include",value:b}}getSubSelectionValue(a){return this.getSelectionParent()?.value.fields[a].value}getPrintWidth(){let a=Object.values(this.fields);return 0==a.length?2:Math.max(...a.map(a=>a.getPrintWidth()))+2}write(a){let b=Object.values(this.fields);if(0===b.length&&0===this.suggestions.length)return void this.writeEmpty(a);this.writeWithContents(a,b)}asObject(){return this}writeEmpty(a){let b=new ci("{}");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithContents(a,b){a.writeLine("{").withIndent(()=>{a.writeJoined(ch,[...b,...this.suggestions]).newLine()}),a.write("}"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(a.context.colors.red("~".repeat(this.getPrintWidth())))})}};G(),H(),I(),J(),K(),ar();var cm=class extends cj{constructor(a){super(),this.text=a}getPrintWidth(){return this.text.length}write(a){let b=new ci(this.text);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b)}asObject(){}};G(),H(),I(),J(),K(),ar();var cn=class{fields=[];addField(a,b){return this.fields.push({write(c){let{green:d,dim:e}=c.context.colors;c.write(d(e(`${a}: ${b}`))).addMarginSymbol(d(e("+")))}}),this}write(a){let{colors:{green:b}}=a.context;a.writeLine(b("{")).withIndent(()=>{a.writeJoined(ch,this.fields).newLine()}).write(b("}")).addMarginSymbol(b("+"))}};function co(a,b,c){let d=[`Unknown argument \`${a.red(b)}\`.`],e=function(a,b){let c=1/0,d;for(let e of b){let b=(0,b8.default)(a,e);b>3||b<c&&(c=b,d=e)}return d}(b,c);return e&&d.push(`Did you mean \`${a.green(e)}\`?`),c.length>0&&d.push(ct(a)),d.join(" ")}function cp(a,b){for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new cb(c.name,"true"))}function cq(a,b){let[c,d]=cs(a),e=b.arguments.getDeepSubSelectionValue(c)?.asObject();if(!e)return{parentKind:"unknown",fieldName:d};let f=e.getFieldValue("select")?.asObject(),g=e.getFieldValue("include")?.asObject(),h=e.getFieldValue("omit")?.asObject(),i=f?.getField(d);return f&&i?{parentKind:"select",parent:f,field:i,fieldName:d}:(i=g?.getField(d),g&&i?{parentKind:"include",field:i,parent:g,fieldName:d}:(i=h?.getField(d),h&&i?{parentKind:"omit",field:i,parent:h,fieldName:d}:{parentKind:"unknown",fieldName:d}))}function cr(a,b){if("object"===b.kind)for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new cb(c.name,c.typeNames.join(" | ")))}function cs(a){let b=[...a],c=b.pop();if(!c)throw Error("unexpected empty path");return[b,c]}function ct({green:a,enabled:b}){return"Available options are "+(b?`listed in ${a("green")}`:"marked with ?")+"."}function cu(a,b){if(1===b.length)return b[0];let c=[...b],d=c.pop();return`${c.join(", ")} ${a} ${d}`}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var cv=class{modelName;name;typeName;isList;isEnum;constructor(a,b,c,d,e){this.modelName=a,this.name=b,this.typeName=c,this.isList=d,this.isEnum=e}_toGraphQLInputType(){let a=this.isList?"List":"",b=this.isEnum?"Enum":"";return`${a}${b}${this.typeName}FieldRefInput<${this.modelName}>`}};function cw(a){return a instanceof cv}G(),H(),I(),J(),K(),ar();var cx=Symbol(),cy=new WeakMap,cz=class{constructor(a){a===cx?cy.set(this,`Prisma.${this._getName()}`):cy.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return cy.get(this)}},cA=class extends cz{_getNamespace(){return"NullTypes"}},cB=class extends cA{#a};cF(cB,"DbNull");var cC=class extends cA{#a};cF(cC,"JsonNull");var cD=class extends cA{#a};cF(cD,"AnyNull");var cE={classes:{DbNull:cB,JsonNull:cC,AnyNull:cD},instances:{DbNull:new cB(cx),JsonNull:new cC(cx),AnyNull:new cD(cx)}};function cF(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}G(),H(),I(),J(),K(),ar();var cG=class{constructor(a,b){this.name=a,this.value=b}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(a){let b=new ci(this.name);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b).write(": ").write(this.value)}},cH=class{arguments;errorMessages=[];constructor(a){this.arguments=a}write(a){a.write(this.arguments)}addErrorMessage(a){this.errorMessages.push(a)}renderAllMessages(a){return this.errorMessages.map(b=>b(a)).join(`
`)}};function cI(a){return new cH(cJ(a))}function cJ(a){let b=new cl;for(let[c,d]of Object.entries(a)){let a=new cG(c,function a(b){if("string"==typeof b)return new cm(JSON.stringify(b));if("number"==typeof b||"boolean"==typeof b)return new cm(String(b));if("bigint"==typeof b)return new cm(`${b}n`);if(null===b)return new cm("null");if(void 0===b)return new cm("undefined");if(b1(b))return new cm(`new Prisma.Decimal("${b.toFixed()}")`);if(b instanceof Uint8Array)return new cm(A.isBuffer(b)?`Buffer.alloc(${b.byteLength})`:`new Uint8Array(${b.byteLength})`);if(b instanceof Date){let a=b0(b)?b.toISOString():"Invalid Date";return new cm(`new Date("${a}")`)}return b instanceof cz?new cm(`Prisma.${b._getName()}`):cw(b)?new cm(`prisma.${bX(b.modelName)}.$fields.${b.name}`):Array.isArray(b)?function(b){let c=new ck;for(let d of b)c.addItem(a(d));return c}(b):"object"==typeof b?cJ(b):new cm(Object.prototype.toString.call(b))}(d));b.addField(a)}return b}function cK(a,b){let c="pretty"===b?cg:cf;return{message:a.renderAllMessages(c),args:new cc(0,{colors:c}).write(a).toString()}}function cL({args:a,errors:b,errorFormat:c,callsite:d,originalMethod:e,clientVersion:f,globalOmit:g}){let h=cI(a);for(let a of b)!function a(b,c,d){switch(b.kind){case"MutuallyExclusiveFields":let e;m=b,n=c,(e=n.arguments.getDeepSubSelectionValue(m.selectionPath)?.asObject())&&(e.getField(m.firstField)?.markAsError(),e.getField(m.secondField)?.markAsError()),n.addErrorMessage(a=>`Please ${a.bold("either")} use ${a.green(`\`${m.firstField}\``)} or ${a.green(`\`${m.secondField}\``)}, but ${a.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(a,b){let[c,d]=cs(a.selectionPath),e=a.outputType,f=b.arguments.getDeepSelectionParent(c)?.value;if(f&&(f.getField(d)?.markAsError(),e))for(let a of e.fields)a.isRelation&&f.addSuggestion(new cb(a.name,"true"));b.addErrorMessage(a=>{let b=`Invalid scalar field ${a.red(`\`${d}\``)} for ${a.bold("include")} statement`;return e?b+=` on model ${a.bold(e.name)}. ${ct(a)}`:b+=".",b+=`
Note that ${a.bold("include")} statements only accept relation fields.`})}(b,c);break;case"EmptySelection":!function(a,b,c){let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(d){let c=d.getField("omit")?.value.asObject();if(c){var e,f,g=a,h=b,i=c;for(let a of(i.removeAllFields(),g.outputType.fields))i.addSuggestion(new cb(a.name,"false"));h.addErrorMessage(a=>`The ${a.red("omit")} statement includes every field of the model ${a.bold(g.outputType.name)}. At least one field must be included in the result`);return}if(d.hasField("select")){let c,d,g;return e=a,f=b,c=e.outputType,d=f.arguments.getDeepSelectionParent(e.selectionPath)?.value,g=d?.isEmpty()??!1,d&&(d.removeAllFields(),cp(d,c)),f.addErrorMessage(a=>g?`The ${a.red("`select`")} statement for type ${a.bold(c.name)} must not be empty. ${ct(a)}`:`The ${a.red("`select`")} statement for type ${a.bold(c.name)} needs ${a.bold("at least one truthy value")}.`)}}if(c?.[bX(a.outputType.name)])return function(a,b){let c=new cn;for(let b of a.outputType.fields)b.isRelation||c.addField(b.name,"false");let d=new cb("omit",c).makeRequired();if(0===a.selectionPath.length)b.arguments.addSuggestion(d);else{let[c,e]=cs(a.selectionPath),f=b.arguments.getDeepSelectionParent(c)?.value.asObject()?.getField(e);if(f){let a=f?.value.asObject()??new cl;a.addSuggestion(d),f.value=a}}b.addErrorMessage(b=>`The global ${b.red("omit")} configuration excludes every field of the model ${b.bold(a.outputType.name)}. At least one field must be included in the result`)}(a,b);b.addErrorMessage(()=>`Unknown field at "${a.selectionPath.join(".")} selection"`)}(b,c,d);break;case"UnknownSelectionField":!function(a,b){let c=cq(a.selectionPath,b);if("unknown"!==c.parentKind){c.field.markAsError();let b=c.parent;switch(c.parentKind){case"select":cp(b,a.outputType);break;case"include":var d=b,e=a.outputType;for(let a of e.fields)a.isRelation&&!d.hasField(a.name)&&d.addSuggestion(new cb(a.name,"true"));break;case"omit":var f=b,g=a.outputType;for(let a of g.fields)f.hasField(a.name)||a.isRelation||f.addSuggestion(new cb(a.name,"true"))}}b.addErrorMessage(b=>{let d=[`Unknown field ${b.red(`\`${c.fieldName}\``)}`];return"unknown"!==c.parentKind&&d.push(`for ${b.bold(c.parentKind)} statement`),d.push(`on model ${b.bold(`\`${a.outputType.name}\``)}.`),d.push(ct(b)),d.join(" ")})}(b,c);break;case"InvalidSelectionValue":let f;o=b,p=c,"unknown"!==(f=cq(o.selectionPath,p)).parentKind&&f.field.value.markAsError(),p.addErrorMessage(a=>`Invalid value for selection field \`${a.red(f.fieldName)}\`: ${o.underlyingError}`);break;case"UnknownArgument":let g,h;q=b,r=c,g=q.argumentPath[0],(h=r.arguments.getDeepSubSelectionValue(q.selectionPath)?.asObject())&&(h.getField(g)?.markAsError(),function(a,b){for(let c of b)a.hasField(c.name)||a.addSuggestion(new cb(c.name,c.typeNames.join(" | ")))}(h,q.arguments)),r.addErrorMessage(a=>co(a,g,q.arguments.map(a=>a.name)));break;case"UnknownInputField":!function(a,b){let[c,d]=cs(a.argumentPath),e=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(e){e.getDeepField(a.argumentPath)?.markAsError();let b=e.getDeepFieldValue(c)?.asObject();b&&cr(b,a.inputType)}b.addErrorMessage(b=>co(b,d,a.inputType.fields.map(a=>a.name)))}(b,c);break;case"RequiredArgumentMissing":!function(a,b){let c;b.addErrorMessage(a=>c?.value instanceof cm&&"null"===c.value.text?`Argument \`${a.green(f)}\` must not be ${a.red("null")}.`:`Argument \`${a.green(f)}\` is missing.`);let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(!d)return;let[e,f]=cs(a.argumentPath),g=new cn,h=d.getDeepFieldValue(e)?.asObject();if(h){if((c=h.getField(f))&&h.removeField(f),1===a.inputTypes.length&&"object"===a.inputTypes[0].kind){for(let b of a.inputTypes[0].fields)g.addField(b.name,b.typeNames.join(" | "));h.addSuggestion(new cb(f,g).makeRequired())}else{let b=a.inputTypes.map(function a(b){return"list"===b.kind?`${a(b.elementType)}[]`:b.name}).join(" | ");h.addSuggestion(new cb(f,b).makeRequired())}if(a.dependentArgumentPath){d.getDeepField(a.dependentArgumentPath)?.markAsError();let[,c]=cs(a.dependentArgumentPath);b.addErrorMessage(a=>`Argument \`${a.green(f)}\` is required because argument \`${a.green(c)}\` was provided.`)}}}(b,c);break;case"InvalidArgumentType":let i,j;s=b,t=c,i=s.argument.name,(j=t.arguments.getDeepSubSelectionValue(s.selectionPath)?.asObject())&&j.getDeepFieldValue(s.argumentPath)?.markAsError(),t.addErrorMessage(a=>{let b=cu("or",s.argument.typeNames.map(b=>a.green(b)));return`Argument \`${a.bold(i)}\`: Invalid value provided. Expected ${b}, provided ${a.red(s.inferredType)}.`});break;case"InvalidArgumentValue":let k,l;u=b,v=c,k=u.argument.name,(l=v.arguments.getDeepSubSelectionValue(u.selectionPath)?.asObject())&&l.getDeepFieldValue(u.argumentPath)?.markAsError(),v.addErrorMessage(a=>{let b=[`Invalid value for argument \`${a.bold(k)}\``];if(u.underlyingError&&b.push(`: ${u.underlyingError}`),b.push("."),u.argument.typeNames.length>0){let c=cu("or",u.argument.typeNames.map(b=>a.green(b)));b.push(` Expected ${c}.`)}return b.join("")});break;case"ValueTooLarge":var m,n,o,p,q,r,s,t,u,v,w=b,x=c;let y=w.argument.name,z=x.arguments.getDeepSubSelectionValue(w.selectionPath)?.asObject(),A;if(z){let a=z.getDeepField(w.argumentPath)?.value;a?.markAsError(),a instanceof cm&&(A=a.text)}x.addErrorMessage(a=>{let b=["Unable to fit value"];return A&&b.push(a.red(A)),b.push(`into a 64-bit signed integer for field \`${a.bold(y)}\``),b.join(" ")});break;case"SomeFieldsMissing":var B=b,C=c;let D=B.argumentPath[B.argumentPath.length-1],E=C.arguments.getDeepSubSelectionValue(B.selectionPath)?.asObject();if(E){let a=E.getDeepFieldValue(B.argumentPath)?.asObject();a&&cr(a,B.inputType)}C.addErrorMessage(a=>{let b=[`Argument \`${a.bold(D)}\` of type ${a.bold(B.inputType.name)} needs`];return 1===B.constraints.minFieldCount?B.constraints.requiredFields?b.push(`${a.green("at least one of")} ${cu("or",B.constraints.requiredFields.map(b=>`\`${a.bold(b)}\``))} arguments.`):b.push(`${a.green("at least one")} argument.`):b.push(`${a.green(`at least ${B.constraints.minFieldCount}`)} arguments.`),b.push(ct(a)),b.join(" ")});break;case"TooManyFieldsGiven":var F=b,G=c;let H=F.argumentPath[F.argumentPath.length-1],I=G.arguments.getDeepSubSelectionValue(F.selectionPath)?.asObject(),J=[];if(I){let a=I.getDeepFieldValue(F.argumentPath)?.asObject();a&&(a.markAsError(),J=Object.keys(a.getFields()))}G.addErrorMessage(a=>{let b=[`Argument \`${a.bold(H)}\` of type ${a.bold(F.inputType.name)} needs`];return 1===F.constraints.minFieldCount&&1==F.constraints.maxFieldCount?b.push(`${a.green("exactly one")} argument,`):1==F.constraints.maxFieldCount?b.push(`${a.green("at most one")} argument,`):b.push(`${a.green(`at most ${F.constraints.maxFieldCount}`)} arguments,`),b.push(`but you provided ${cu("and",J.map(b=>a.red(b)))}. Please choose`),1===F.constraints.maxFieldCount?b.push("one."):b.push(`${F.constraints.maxFieldCount}.`),b.join(" ")});break;case"Union":let K;(K=function(a){var b=(a,b)=>{let c=b9(a),d=b9(b);return c!==d?c-d:ca(a)-ca(b)};if(0===a.length)return;let c=a[0];for(let d=1;d<a.length;d++)0>b(c,a[d])&&(c=a[d]);return c}(function(a){let b=new Map,c=[];for(let f of a){var d,e;if("InvalidArgumentType"!==f.kind){c.push(f);continue}let a=`${f.selectionPath.join(".")}:${f.argumentPath.join(".")}`,g=b.get(a);g?b.set(a,{...f,argument:{...f.argument,typeNames:(d=g.argument.typeNames,e=f.argument.typeNames,[...new Set(d.concat(e))])}}):b.set(a,f)}return c.push(...b.values()),c}(function a(b){return b.errors.flatMap(b=>"Union"===b.kind?a(b):[b])}(b))))?a(K,c,d):c.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+b.kind)}}(a,h,g);let{message:i,args:j}=cK(h,c);throw new bV(b7({message:i,callsite:d,originalMethod:e,showColors:"pretty"===c,callArguments:j}),{clientVersion:f})}function cM(a){return a.replace(/^./,a=>a.toLowerCase())}function cN(a,b,c){return c?bN(c,({needs:a,compute:c},d)=>{var e,f,g;let h;return{name:d,needs:a?Object.keys(a).filter(b=>a[b]):[],compute:(e=b,f=d,g=c,(h=e?.[f]?.compute)?a=>g({...a,[f]:h(a)}):g)}}):{}}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var cO=class{constructor(a,b){this.extension=a,this.previous=b}computedFieldsCache=new bW;modelExtensionsCache=new bW;queryCallbacksCache=new bW;clientExtensions=bY(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=bY(()=>{let a=this.previous?.getAllBatchQueryCallbacks()??[],b=this.extension.query?.$__internalBatch;return b?a.concat(b):a});getAllComputedFields(a){return this.computedFieldsCache.getOrCreate(a,()=>{var b,c,d;let e,f,g;return b=this.previous?.getAllComputedFields(a),c=this.extension,e=cM(a),c.result&&(c.result.$allModels||c.result[e])?(d={...b,...cN(c.name,b,c.result.$allModels),...cN(c.name,b,c.result[e])},f=new bW,g=(a,b)=>f.getOrCreate(a,()=>b.has(a)?[a]:(b.add(a),d[a]?d[a].needs.flatMap(a=>g(a,b)):[a])),bN(d,a=>({...a,needs:g(a.name,new Set)}))):b})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(a){return this.modelExtensionsCache.getOrCreate(a,()=>{let b=cM(a);return this.extension.model&&(this.extension.model[b]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(a),...this.extension.model.$allModels,...this.extension.model[b]}:this.previous?.getAllModelExtensions(a)})}getAllQueryCallbacks(a,b){return this.queryCallbacksCache.getOrCreate(`${a}:${b}`,()=>{let c=this.previous?.getAllQueryCallbacks(a,b)??[],d=[],e=this.extension.query;return e&&(e[a]||e.$allModels||e[b]||e.$allOperations)?(void 0!==e[a]&&(void 0!==e[a][b]&&d.push(e[a][b]),void 0!==e[a].$allOperations&&d.push(e[a].$allOperations)),"$none"!==a&&void 0!==e.$allModels&&(void 0!==e.$allModels[b]&&d.push(e.$allModels[b]),void 0!==e.$allModels.$allOperations&&d.push(e.$allModels.$allOperations)),void 0!==e[b]&&d.push(e[b]),void 0!==e.$allOperations&&d.push(e.$allOperations),c.concat(d)):c})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},cP=class a{constructor(a){this.head=a}static empty(){return new a}static single(b){return new a(new cO(b))}isEmpty(){return void 0===this.head}append(b){return new a(new cO(b,this.head))}getAllComputedFields(a){return this.head?.getAllComputedFields(a)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(a){return this.head?.getAllModelExtensions(a)}getAllQueryCallbacks(a,b){return this.head?.getAllQueryCallbacks(a,b)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};G(),H(),I(),J(),K(),ar();var cQ=class{constructor(a){this.name=a}};function cR(a){return new cQ(a)}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var cS=Symbol(),cT=class{constructor(a){if(a!==cS)throw Error("Skip instance can not be constructed directly")}ifUndefined(a){return void 0===a?cU:a}},cU=new cT(cS);function cV(a){return a instanceof cT}var cW={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},cX="explicitly `undefined` values are not allowed";function cY({modelName:a,action:b,args:c,runtimeDataModel:d,extensions:e=cP.empty(),callsite:f,clientMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k}){let l=new c_({runtimeDataModel:d,modelName:a,action:b,rootArgs:c,callsite:f,extensions:e,selectionPath:[],argumentPath:[],originalMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k});return{modelName:a,action:cW[b],query:function a({select:b,include:c,...d}={},e){var f,g,h,i,j,k,l;let m,n=d.omit;return delete d.omit,{arguments:cZ(d,e),selection:(f=b,g=c,h=n,i=e,f?(g?i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:i.getSelectionPath()}):h&&i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:i.getSelectionPath()}),function(b,c){let d={},e=c.getComputedFields();for(let[f,g]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(a[d.name])for(let a of d.needs)c[a]=!0;return c}(b,e))){if(cV(g))continue;let b=c.nestSelection(f);c$(g,b);let h=c.findField(f);if(!(e?.[f]&&!h)){if(!1===g||void 0===g||cV(g)){d[f]=!1;continue}if(!0===g){h?.kind==="object"?d[f]=a({},b):d[f]=!0;continue}d[f]=a(g,b)}}return d}(f,i)):(j=i,k=g,l=h,m={},j.modelOrType&&!j.isRawAction()&&(m.$composites=!0,m.$scalars=!0),k&&function(b,c,d){for(let[e,f]of Object.entries(c)){if(cV(f))continue;let c=d.nestSelection(e);if(c$(f,c),!1===f||void 0===f){b[e]=!1;continue}let g=d.findField(e);if(g&&"object"!==g.kind&&d.throwValidationError({kind:"IncludeOnScalar",selectionPath:d.getSelectionPath().concat(e),outputType:d.getOutputTypeDescription()}),g){b[e]=a(!0===f?{}:f,c);continue}if(!0===f){b[e]=!0;continue}b[e]=a(f,c)}}(m,k,j),function(a,b,c){let d=c.getComputedFields();for(let[e,f]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(!a[d.name])for(let a of d.needs)delete c[a];return c}({...c.getGlobalOmit(),...b},d))){if(cV(f))continue;c$(f,c.nestSelection(e));let b=c.findField(e);d?.[e]&&!b||(a[e]=!f)}}(m,l,j),m))}}(c,l)}}function cZ(a,b){if(a.$type)return{$type:"Raw",value:a};let c={};for(let d in a){let e=a[d],f=b.nestArgument(d);cV(e)||(void 0!==e?c[d]=function a(b,c){var d,e;if(null===b)return null;if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)return b;if("bigint"==typeof b)return{$type:"BigInt",value:String(b)};if(b_(b)){if(b0(b))return{$type:"DateTime",value:b.toISOString()};c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(b instanceof cQ)return{$type:"Param",value:b.name};if(cw(b))return{$type:"FieldRef",value:{_ref:b.name,_container:b.modelName}};if(Array.isArray(b))return function(b,c){let d=[];for(let e=0;e<b.length;e++){let f=c.nestArgument(String(e)),g=b[e];if(void 0===g||cV(g)){let a=void 0===g?"undefined":"Prisma.skip";c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:f.getSelectionPath(),argumentPath:f.getArgumentPath(),argument:{name:`${c.getArgumentName()}[${e}]`,typeNames:[]},underlyingError:`Can not use \`${a}\` value within array. Use \`null\` or filter out \`${a}\` values`})}d.push(a(g,f))}return d}(b,c);if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{$type:"Bytes",value:A.from(a,c,d).toString("base64")}}if("object"==typeof(d=b)&&null!==d&&!0===d.__prismaRawParameters__)return b.values;if(b1(b))return{$type:"Decimal",value:b.toFixed()};if(b instanceof cz){if(b!==cE.instances[b._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:b._getName()}}return"object"==typeof(e=b)&&null!==e&&"function"==typeof e.toJSON?b.toJSON():"object"==typeof b?cZ(b,c):void c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(b)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(e,f):b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidArgumentValue",argumentPath:f.getArgumentPath(),selectionPath:b.getSelectionPath(),argument:{name:b.getArgumentName(),typeNames:[]},underlyingError:cX}))}return c}function c$(a,b){void 0===a&&b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidSelectionValue",selectionPath:b.getSelectionPath(),underlyingError:cX})}var c_=class a{constructor(a){this.params=a,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(a){cL({errors:[a],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(a=>({name:a.name,typeName:"boolean",isRelation:"object"===a.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(a){return this.params.previewFeatures.includes(a)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(a){return this.modelOrType?.fields.find(b=>b.name===a)}nestSelection(b){let c=this.findField(b),d=c?.kind==="object"?c.type:void 0;return new a({...this.params,modelName:d,selectionPath:this.params.selectionPath.concat(b)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[bX(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:bL(this.params.action,"Unknown action")}}nestArgument(b){return new a({...this.params,argumentPath:this.params.argumentPath.concat(b)})}};function c0(a){if(!a._hasPreviewFlag("metrics"))throw new bV("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:a._clientVersion})}G(),H(),I(),J(),K(),ar();var c1=class{_client;constructor(a){this._client=a}prometheus(a){return c0(this._client),this._client._engine.metrics({format:"prometheus",...a})}json(a){return c0(this._client),this._client._engine.metrics({format:"json",...a})}};function c2(a,b){let c=bY(()=>(function(a){throw Error("Prisma.dmmf is not available when running in edge runtimes.")})(0));Object.defineProperty(a,"dmmf",{get:()=>c.get()})}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var c3=new WeakMap,c4="$$PrismaTypedSql",c5=class{constructor(a,b){c3.set(this,{sql:a,values:b}),Object.defineProperty(this,c4,{value:c4})}get sql(){return c3.get(this).sql}get values(){return c3.get(this).values}};function c6(a){return(...b)=>new c5(a,b)}function c7(a){return null!=a&&a[c4]===c4}G(),H(),I(),J(),K(),ar();var c8=l(aZ());G(),H(),I(),J(),K(),ar(),a$(),aK(),aU(),G(),H(),I(),J(),K(),ar();var c9=class a{constructor(b,c){if(b.length-1!==c.length)throw 0===b.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${b.length} strings to have ${b.length-1} values`);let d=c.reduce((b,c)=>b+(c instanceof a?c.values.length:1),0);this.values=Array(d),this.strings=Array(d+1),this.strings[0]=b[0];let e=0,f=0;for(;e<c.length;){let d=c[e++],g=b[e];if(d instanceof a){this.strings[f]+=d.strings[0];let a=0;for(;a<d.values.length;)this.values[f++]=d.values[a++],this.strings[f]=d.strings[a];this.strings[f]+=g}else this.values[f++]=d,this.strings[f]=g}}get sql(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`?${this.strings[b++]}`;return c}get statement(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`:${b}${this.strings[b++]}`;return c}get text(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`$${b}${this.strings[b++]}`;return c}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function da(a,b=",",c="",d=""){if(0===a.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new c9([c,...Array(a.length-1).fill(b),d],a)}function db(a){return new c9([a],[])}var dc=db("");function dd(a,...b){return new c9(a,b)}function de(a){return{getKeys:()=>Object.keys(a),getPropertyValue:b=>a[b]}}function df(a,b){return{getKeys:()=>[a],getPropertyValue:()=>b()}}function dg(a){let b=new bW;return{getKeys:()=>a.getKeys(),getPropertyValue:c=>b.getOrCreate(c,()=>a.getPropertyValue(c)),getPropertyDescriptor:b=>a.getPropertyDescriptor?.(b)}}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var dh={enumerable:!0,configurable:!0,writable:!0};function di(a){let b=new Set(a);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>dh,has:(a,c)=>b.has(c),set:(a,c,d)=>b.add(c)&&Reflect.set(a,c,d),ownKeys:()=>[...b]}}var dj=Symbol.for("nodejs.util.inspect.custom");function dk(a,b){let c=function(a){let b=new Map;for(let c of a)for(let a of c.getKeys())b.set(a,c);return b}(b),d=new Set,e=new Proxy(a,{get(a,b){if(d.has(b))return a[b];let e=c.get(b);return e?e.getPropertyValue(b):a[b]},has(a,b){if(d.has(b))return!0;let e=c.get(b);return e?e.has?.(b)??!0:Reflect.has(a,b)},ownKeys:a=>[...new Set([...dl(Reflect.ownKeys(a),c),...dl(Array.from(c.keys()),c),...d])],set:(a,b,e)=>c.get(b)?.getPropertyDescriptor?.(b)?.writable!==!1&&(d.add(b),Reflect.set(a,b,e)),getOwnPropertyDescriptor(a,b){let d=Reflect.getOwnPropertyDescriptor(a,b);if(d&&!d.configurable)return d;let e=c.get(b);return e?e.getPropertyDescriptor?{...dh,...e?.getPropertyDescriptor(b)}:dh:d},defineProperty:(a,b,c)=>(d.add(b),Reflect.defineProperty(a,b,c)),getPrototypeOf:()=>Object.prototype});return e[dj]=function(){let a={...this};return delete a[dj],a},e}function dl(a,b){return a.filter(a=>b.get(a)?.has?.(a)??!0)}function dm(a){return{getKeys:()=>a,has:()=>!1,getPropertyValue(){}}}function dn(a,b){return{batch:a,transaction:b?.kind==="batch"?{isolationLevel:b.options.isolationLevel}:void 0}}function dp({error:a,user_facing_error:b},c,d){var e,f;let g;return b.error_code?new bS((e=b,f=d,g=e.message,("postgresql"===f||"postgres"===f||"mysql"===f)&&"P2037"===e.error_code&&(g+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),g),{code:b.error_code,clientVersion:c,meta:b.meta,batchRequestIdx:b.batch_request_idx}):new bU(a,{clientVersion:c,batchRequestIdx:b.batch_request_idx})}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var dq=class{getLocation(){return null}};function dr(a){return"function"==typeof $EnabledCallSite&&"minimal"!==a?new $EnabledCallSite:new dq}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var ds={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function dt(a={}){return Object.entries(function(a={}){return"boolean"==typeof a._count?{...a,_count:{_all:a._count}}:a}(a)).reduce((a,[b,c])=>(void 0!==ds[b]?a.select[b]={select:c}:a[b]=c,a),{select:{}})}function du(a={}){return b=>("boolean"==typeof a._count&&(b._count=b._count._all),b)}function dv(a={}){let{select:b,...c}=a;return"object"==typeof b?dt({...c,_count:b}):dt({...c,_count:{_all:!0}})}function dw(a={}){let b=dt(a);if(Array.isArray(b.by))for(let a of b.by)"string"==typeof a&&(b.select[a]=!0);else"string"==typeof b.by&&(b.select[b.by]=!0);return b}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var dx=a=>Array.isArray(a)?a:a.split("."),dy=(a,b)=>dx(b).reduce((a,b)=>a&&a[b],a),dz=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],dA=["aggregate","count","groupBy"];function dB(a,b){var c,d,e,f;let g,h,i=a._extensions.getAllModelExtensions(b)??{};return dk({},[(c=a,g=cM(d=b),h=Object.keys(b4).concat("count"),{getKeys:()=>h,getPropertyValue(a){var b;let e=b=>e=>{let f=dr(c._errorFormat);return c._createPrismaPromise(h=>{let i={args:e,dataPath:[],action:a,model:d,clientMethod:`${g}.${a}`,jsModelName:g,transaction:h,callsite:f};return c._request({...i,...b})},{action:a,args:e,model:d})};return dz.includes(a)?function a(b,c,d,e,f,g){let h=b._runtimeDataModel.models[c].fields.reduce((a,b)=>({...a,[b.name]:b}),{});return i=>{var j,k;let l,m=dr(b._errorFormat),n=void 0===e||void 0===f?[]:[...f,"select",e],o=void 0===g?i??{}:(l=i||!0,dx(n).reduceRight((a,b,c,d)=>Object.assign({},dy(g,d.slice(0,c)),{[b]:a}),l)),p=d({dataPath:n,callsite:m})(o),q=(j=b,k=c,j._runtimeDataModel.models[k].fields.filter(a=>"object"===a.kind).map(a=>a.name));return new Proxy(p,{get:(c,e)=>q.includes(e)?a(b,h[e].type,d,e,n,o):c[e],...di([...q,...Object.getOwnPropertyNames(p)])})}}(c,d,e):(b=a,dA.includes(b))?"aggregate"===a?a=>e({action:"aggregate",unpacker:du(a),argsMapper:dt})(a):"count"===a?a=>e({action:"count",unpacker:function(a={}){return"object"==typeof a.select?b=>du(a)(b)._count:b=>du(a)(b)._count._all}(a),argsMapper:dv})(a):"groupBy"===a?a=>e({action:"groupBy",unpacker:function(a={}){return b=>("boolean"==typeof a?._count&&b.forEach(a=>{a._count=a._count._all}),b)}(a),argsMapper:dw})(a):void 0:e({})}}),(e=a,f=b,dg(df("fields",()=>{let a,b=e._runtimeDataModel.models[f];return new Proxy({},{get(b,c){if(c in b||"symbol"==typeof c)return b[c];let d=a[c];if(d)return new cv(f,c,d.type,d.isList,"enum"===d.kind)},...di(Object.keys(a=function(a,b){let c={};for(let d of a)c[d[b]]=d;return c}(b.fields.filter(a=>!a.relationName),"name")))})}))),de(i),df("name",()=>b),df("$name",()=>b),df("$parent",()=>a._appliedParent)])}G(),H(),I(),J(),K(),ar();var dC=Symbol();function dD(a){var b,c;let d,e,f,g,h=[(d=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((b=a)._originalClient)))],{getKeys:()=>d,getPropertyValue:a=>b[a]}),(f=(e=Object.keys((c=a)._runtimeDataModel.models)).map(cM),g=[...new Set(e.concat(f))],dg({getKeys:()=>g,getPropertyValue(a){let b=a.replace(/^./,a=>a.toUpperCase());return void 0!==c._runtimeDataModel.models[b]?dB(c,b):void 0!==c._runtimeDataModel.models[a]?dB(c,a):void 0},getPropertyDescriptor(a){if(!f.includes(a))return{enumerable:!1}}})),df(dC,()=>a),df("$parent",()=>a._appliedParent)],i=a._extensions.getAllClientExtensions();return i&&h.push(de(i)),dk(a,h)}function dE(a){if("function"==typeof a)return a(this);if(a.client?.__AccelerateEngine){let b=a.client.__AccelerateEngine;this._originalClient._engine=new b(this._originalClient._accelerateEngineConfig)}return dD(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(a)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function dF({visitor:a,result:b,args:c,runtimeDataModel:d,modelName:e}){if(Array.isArray(b)){for(let f=0;f<b.length;f++)b[f]=dF({result:b[f],args:c,modelName:e,runtimeDataModel:d,visitor:a});return b}let f=a(b,e,c)??b;return c.include&&dG({includeOrSelect:c.include,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),c.select&&dG({includeOrSelect:c.select,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),f}function dG({includeOrSelect:a,result:b,parentModelName:c,runtimeDataModel:d,visitor:e}){for(let[f,g]of Object.entries(a)){if(!g||null==b[f]||cV(g))continue;let a=d.models[c].fields.find(a=>a.name===f);if(!a||"object"!==a.kind||!a.relationName)continue;let h="object"==typeof g?g:{};b[f]=dF({visitor:e,result:b[f],args:h,modelName:a.type,runtimeDataModel:d})}}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),ar(),G(),H(),I(),J(),K(),ar();var dH=["$connect","$disconnect","$on","$transaction","$extends"];function dI(a){if("object"!=typeof a||null==a||a instanceof cz||cw(a))return a;if(b1(a))return new ap(a.toFixed());if(b_(a))return new Date(+a);if(ArrayBuffer.isView(a))return a.slice(0);if(Array.isArray(a)){let b=a.length,c;for(c=Array(b);b--;)c[b]=dI(a[b]);return c}if("object"==typeof a){let b={};for(let c in a)"__proto__"===c?Object.defineProperty(b,c,{value:dI(a[c]),configurable:!0,enumerable:!0,writable:!0}):b[c]=dI(a[c]);return b}bL(a,"Unknown value")}var dJ=a=>a;function dK(a=dJ,b=dJ){return c=>a(b(c))}G(),H(),I(),J(),K(),ar();var dL=br("prisma:client"),dM={Vercel:"vercel","Netlify CI":"netlify"};function dN(a){return null===a?a:Array.isArray(a)?a.map(dN):"object"==typeof a?null!==a&&"object"==typeof a&&"string"==typeof a.$type?function({$type:a,value:b}){switch(a){case"BigInt":return BigInt(b);case"Bytes":{let{buffer:a,byteOffset:c,byteLength:d}=A.from(b,"base64");return new Uint8Array(a,c,d)}case"DateTime":return new Date(b);case"Decimal":return new ao(b);case"Json":return JSON.parse(b);default:throw Error("Unknown tagged value")}}(a):null!==a.constructor&&"Object"!==a.constructor.name?a:function(a,b){let c={};for(let d of Object.keys(a))c[d]=b(a[d],d);return c}(a,dN):a}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),ar(),G(),H(),I(),J(),K(),ar(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var dO=()=>globalThis.process?.release?.name==="node",dP=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,dQ=()=>!!globalThis.Deno,dR=()=>"object"==typeof globalThis.Netlify,dS=()=>"object"==typeof globalThis.EdgeRuntime,dT=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",dU={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function dV(){let a=[[dR,"netlify"],[dS,"edge-light"],[dT,"workerd"],[dQ,"deno"],[dP,"bun"],[dO,"node"]].flatMap(a=>a[0]()?[a[1]]:[]).at(0)??"";return{id:a,prettyName:dU[a]||a,isEdge:["workerd","deno","netlify","edge-light"].includes(a)}}function dW({inlineDatasources:a,overrideDatasources:b,env:c,clientVersion:d}){let e,f=Object.keys(a)[0],g=a[f]?.url,h=b[f]?.url;if(void 0===f?e=void 0:h?e=h:g?.value?e=g.value:g?.fromEnvVar&&(e=c[g.fromEnvVar]),g?.fromEnvVar!==void 0&&void 0===e)throw"workerd"===dV().id?new bR(`error: Environment variable not found: ${g.fromEnvVar}.

In Cloudflare module Workers, environment variables are available only in the Worker's \`env\` parameter of \`fetch\`.
To solve this, provide the connection string directly: https://pris.ly/d/cloudflare-datasource-url`,d):new bR(`error: Environment variable not found: ${g.fromEnvVar}.`,d);if(void 0===e)throw new bR("error: Missing URL environment variable, value, or override.",d);return e}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var dX,dY={async loadLibrary(a){let{clientVersion:b,adapter:c,engineWasm:d}=a;if(void 0===c)throw new bR(`The \`adapter\` option for \`PrismaClient\` is required in this context (${dV().prettyName})`,b);if(void 0===d)throw new bR("WASM engine was unexpectedly `undefined`",b);return void 0===dX&&(dX=(async()=>{let a=await d.getRuntime(),c=await d.getQueryEngineWasmModule();if(null==c)throw new bR("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",b);let e=new WebAssembly.Instance(c,{"./query_engine_bg.js":a}),f=e.exports.__wbindgen_start;return a.__wbg_set_wasm(e.exports),f(),a.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await dX}}},dZ=br("prisma:client:libraryEngine"),d$=1n,d_=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(a,b){this.libraryLoader=b??dY,this.config=a,this.libraryStarted=!1,this.logQueries=a.logQueries??!1,this.logLevel=a.logLevel??"error",this.logEmitter=a.logEmitter,this.datamodel=a.inlineSchema,this.tracingHelper=a.tracingHelper,a.enableDebugLogs&&(this.logLevel="debug");let c=Object.keys(a.overrideDatasources)[0],d=a.overrideDatasources[c]?.url;void 0!==c&&void 0!==d&&(this.datasourceOverrides={[c]:d}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(a){return{applyPendingMigrations:a.applyPendingMigrations?.bind(a),commitTransaction:this.withRequestId(a.commitTransaction.bind(a)),connect:this.withRequestId(a.connect.bind(a)),disconnect:this.withRequestId(a.disconnect.bind(a)),metrics:a.metrics?.bind(a),query:this.withRequestId(a.query.bind(a)),rollbackTransaction:this.withRequestId(a.rollbackTransaction.bind(a)),sdlSchema:a.sdlSchema?.bind(a),startTransaction:this.withRequestId(a.startTransaction.bind(a)),trace:a.trace.bind(a),free:a.free?.bind(a)}}withRequestId(a){return async(...b)=>{let c,d=(c=d$++,d$>0xffffffffffffffffn&&(d$=1n),c).toString();try{return await a(...b,d)}finally{if(this.tracingHelper.isEnabled()){let a=await this.engine?.trace(d);if(a){let b=JSON.parse(a);this.tracingHelper.dispatchEngineSpans(b.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(a,b,c){var d;await this.start();let e=await this.adapterPromise,f=JSON.stringify(b),g;if("start"===a){let a=JSON.stringify({max_wait:c.maxWait,timeout:c.timeout,isolation_level:c.isolationLevel});g=await this.engine?.startTransaction(a,f)}else"commit"===a?g=await this.engine?.commitTransaction(c.id,f):"rollback"===a&&(g=await this.engine?.rollbackTransaction(c.id,f));let h=this.parseEngineResponse(g);if("object"==typeof(d=h)&&null!==d&&void 0!==d.error_code){let a=this.getExternalAdapterError(h,e?.errorRegistry);throw a?a.error:new bS(h.message,{code:h.error_code,clientVersion:this.config.clientVersion,meta:h.meta})}if("string"==typeof h.message)throw new bU(h.message,{clientVersion:this.config.clientVersion});return h}async instantiateLibrary(){if(dZ("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){}parseEngineResponse(a){if(!a)throw new bU("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(a)}catch{throw new bU("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let a=new F(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(bz));let b=await this.adapterPromise;b&&dZ("Using driver adapter: %O",b),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:C.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},b=>{a.deref()?.logger(b)},b))}catch(b){let a=this.parseInitError(b.message);throw"string"==typeof a?b:new bR(a.message,this.config.clientVersion,a.error_code)}}}logger(a){let b=this.parseEngineResponse(a);b&&(b.level=b?.level.toLowerCase()??"unknown","query"===b.item_type&&"query"in b?this.logEmitter.emit("query",{timestamp:new Date,query:b.query,params:b.params,duration:Number(b.duration_ms),target:b.module_path}):("level"in b&&"error"===b.level&&b.message,this.logEmitter.emit(b.level,{timestamp:new Date,message:b.message,target:b.module_path})))}parseInitError(a){try{return JSON.parse(a)}catch{}return a}parseRequestError(a){try{return JSON.parse(a)}catch{}return a}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return dZ(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let a=async()=>{dZ("library starting");try{let a={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(a)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(bz)),await this.adapterPromise,dZ("library started")}catch(b){let a=this.parseInitError(b.message);throw"string"==typeof a?b:new bR(a.message,this.config.clientVersion,a.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",a),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return dZ("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let a=async()=>{await new Promise(a=>setImmediate(a)),dZ("library stopping");let a={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(a)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,dZ("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",a),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(a){return this.library?.debugPanic(a)}async request(a,{traceparent:b,interactiveTransaction:c}){dZ(`sending request, this.libraryStarted: ${this.libraryStarted}`);let d=JSON.stringify({traceparent:b}),e=JSON.stringify(a);try{await this.start();let a=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(e,d,c?.id),this.lastQuery=e;let b=this.parseEngineResponse(await this.executingQueryPromise);if(b.errors)throw 1===b.errors.length?this.buildQueryError(b.errors[0],a?.errorRegistry):new bU(JSON.stringify(b.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:b}}catch(b){if(b instanceof bR)throw b;"GenericFailure"===b.code&&b.message?.startsWith("PANIC:");let a=this.parseRequestError(b.message);throw"string"==typeof a?b:new bU(`${a.message}
${a.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(a,{transaction:b,traceparent:c}){dZ("requestBatch");let d=dn(a,b);await this.start();let e=await this.adapterPromise;this.lastQuery=JSON.stringify(d),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:c}),function(a){if(a?.kind==="itx")return a.options.id}(b));let f=await this.executingQueryPromise,g=this.parseEngineResponse(f);if(g.errors)throw 1===g.errors.length?this.buildQueryError(g.errors[0],e?.errorRegistry):new bU(JSON.stringify(g.errors),{clientVersion:this.config.clientVersion});let{batchResult:h,errors:i}=g;if(Array.isArray(h))return h.map(a=>a.errors&&a.errors.length>0?this.loggerRustPanic??this.buildQueryError(a.errors[0],e?.errorRegistry):{data:a});throw i&&1===i.length?Error(i[0].error):Error(JSON.stringify(g))}buildQueryError(a,b){a.user_facing_error.is_panic;let c=this.getExternalAdapterError(a.user_facing_error,b);return c?c.error:dp(a,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(a,b){if("P2036"===a.error_code&&b){let c=a.meta?.id;bK("number"==typeof c,"Malformed external JS error received from the engine");let d=b.consumeError(c);return bK(d,"External error with reported id was not registered"),d}}async metrics(a){await this.start();let b=await this.engine.metrics(JSON.stringify(a));return"prometheus"===a.format?b:this.parseEngineResponse(b)}};G(),H(),I(),J(),K(),ar();var d0="Accelerate has not been setup correctly. Make sure your client is using `.$extends(withAccelerate())`. See https://pris.ly/d/accelerate-getting-started",d1=class{constructor(a){this.config=a,this.resolveDatasourceUrl=this.config.accelerateUtils?.resolveDatasourceUrl,this.getBatchRequestPayload=this.config.accelerateUtils?.getBatchRequestPayload,this.prismaGraphQLToJSError=this.config.accelerateUtils?.prismaGraphQLToJSError,this.PrismaClientUnknownRequestError=this.config.accelerateUtils?.PrismaClientUnknownRequestError,this.PrismaClientInitializationError=this.config.accelerateUtils?.PrismaClientInitializationError,this.PrismaClientKnownRequestError=this.config.accelerateUtils?.PrismaClientKnownRequestError,this.debug=this.config.accelerateUtils?.debug,this.engineVersion=this.config.accelerateUtils?.engineVersion,this.clientVersion=this.config.accelerateUtils?.clientVersion}name="AccelerateEngine";resolveDatasourceUrl;getBatchRequestPayload;prismaGraphQLToJSError;PrismaClientUnknownRequestError;PrismaClientInitializationError;PrismaClientKnownRequestError;debug;engineVersion;clientVersion;onBeforeExit(a){}async start(){}async stop(){}version(a){return"unknown"}transaction(a,b,c){throw new bR(d0,this.config.clientVersion)}metrics(a){throw new bR(d0,this.config.clientVersion)}request(a,b){throw new bR(d0,this.config.clientVersion)}requestBatch(a,b){throw new bR(d0,this.config.clientVersion)}applyPendingMigrations(){throw new bR(d0,this.config.clientVersion)}};G(),H(),I(),J(),K(),ar();var d2=class{constructor(a){return new Proxy(this,{get(b,c){throw new bV(`In order to run Prisma Client on edge runtime, either:
- Use Prisma Accelerate: https://pris.ly/d/accelerate
- Use Driver Adapters: https://pris.ly/d/driver-adapters`,a)}})}};G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var d3=a=>({command:a});function d4(a){try{return d5(a,"fast")}catch{return d5(a,"slow")}}function d5(a,b){return JSON.stringify(a.map(a=>(function a(b,c){var d;if(Array.isArray(b))return b.map(b=>a(b,c));if("bigint"==typeof b)return{prisma__type:"bigint",prisma__value:b.toString()};if(b_(b))return{prisma__type:"date",prisma__value:b.toJSON()};if(ap.isDecimal(b))return{prisma__type:"decimal",prisma__value:b.toJSON()};if(A.isBuffer(b))return{prisma__type:"bytes",prisma__value:b.toString("base64")};if((d=b)instanceof ArrayBuffer||d instanceof SharedArrayBuffer||"object"==typeof d&&null!==d&&("ArrayBuffer"===d[Symbol.toStringTag]||"SharedArrayBuffer"===d[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:A.from(b).toString("base64")};if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{prisma__type:"bytes",prisma__value:A.from(a,c,d).toString("base64")}}return"object"==typeof b&&"slow"===c?d6(b):b})(a,b)))}function d6(a){if("object"!=typeof a||null===a)return a;if("function"==typeof a.toJSON)return a.toJSON();if(Array.isArray(a))return a.map(d7);let b={};for(let c of Object.keys(a))b[c]=d7(a[c]);return b}function d7(a){return"bigint"==typeof a?a.toString():d6(a)}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),ar();var d8=/^(\s*alter\s)/i,d9=br("prisma:client");function ea(a,b,c,d){if(("postgresql"===a||"cockroachdb"===a)&&c.length>0&&d8.exec(b))throw Error(`Running ALTER using ${d} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var eb=({clientMethod:a,activeProvider:b})=>c=>{let d="",e;if(c7(c))d=c.sql,e={values:d4(c.values),__prismaRawParameters__:!0};else if(Array.isArray(c)){let[a,...b]=c;d=a,e={values:d4(b||[]),__prismaRawParameters__:!0}}else switch(b){case"sqlite":case"mysql":d=c.sql,e={values:d4(c.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":d=c.text,e={values:d4(c.values),__prismaRawParameters__:!0};break;case"sqlserver":d=c.strings.reduce((a,b,c)=>`${a}@P${c}${b}`),e={values:d4(c.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${b} provider does not support ${a}`)}return e?.values?d9(`prisma.${a}(${d}, ${e.values})`):d9(`prisma.${a}(${d})`),{query:d,parameters:e}},ec={requestArgsToMiddlewareArgs:a=>[a.strings,...a.values],middlewareArgsToRequestArgs(a){let[b,...c]=a;return new c9(b,c)}},ed={requestArgsToMiddlewareArgs:a=>[a],middlewareArgsToRequestArgs:a=>a[0]};function ee(a){return function(b,c){let d,e=(c=a)=>{try{return void 0===c||c?.kind==="itx"?d??=ef(b(c)):ef(b(c))}catch(a){return Promise.reject(a)}};return{get spec(){return c},then:(a,b)=>e().then(a,b),catch:a=>e().catch(a),finally:a=>e().finally(a),requestTransaction(a){let b=e(a);return b.requestTransaction?b.requestTransaction(a):b},[Symbol.toStringTag]:"PrismaPromise"}}}function ef(a){return"function"==typeof a.then?a:Promise.resolve(a)}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var eg=bs.split(".")[0],eh={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(a,b)=>b()},ei=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(a){return this.getGlobalTracingHelper().getTraceParent(a)}dispatchEngineSpans(a){return this.getGlobalTracingHelper().dispatchEngineSpans(a)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(a,b){return this.getGlobalTracingHelper().runInChildSpan(a,b)}getGlobalTracingHelper(){let a=globalThis[`V${eg}_PRISMA_INSTRUMENTATION`],b=globalThis.PRISMA_INSTRUMENTATION;return a?.helper??b?.helper??eh}};function ej(a){return"number"==typeof a.batchRequestIdx}function ek(a){return`(${Object.keys(a).sort().map(b=>{let c=a[b];return"object"==typeof c&&null!==c?`(${b} ${ek(c)})`:b}).join(" ")})`}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var el={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};G(),H(),I(),J(),K(),ar();var em=class{constructor(a){this.options=a,this.batches={}}batches;tickActive=!1;request(a){let b=this.options.batchBy(a);return b?(this.batches[b]||(this.batches[b]=[],this.tickActive||(this.tickActive=!0,C.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((c,d)=>{this.batches[b].push({request:a,resolve:c,reject:d})})):this.options.singleLoader(a)}dispatchBatches(){for(let a in this.batches){let b=this.batches[a];delete this.batches[a],1===b.length?this.options.singleLoader(b[0].request).then(a=>{a instanceof Error?b[0].reject(a):b[0].resolve(a)}).catch(a=>{b[0].reject(a)}):(b.sort((a,b)=>this.options.batchOrder(a.request,b.request)),this.options.batchLoader(b.map(a=>a.request)).then(a=>{if(a instanceof Error)for(let c=0;c<b.length;c++)b[c].reject(a);else for(let c=0;c<b.length;c++){let d=a[c];d instanceof Error?b[c].reject(d):b[c].resolve(d)}}).catch(a=>{for(let c=0;c<b.length;c++)b[c].reject(a)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function en(a){let b=[],c=function(a){let b={};for(let c=0;c<a.columns.length;c++)b[a.columns[c]]=null;return b}(a);for(let d=0;d<a.rows.length;d++){let e=a.rows[d],f={...c};for(let b=0;b<e.length;b++)f[a.columns[b]]=function a(b,c){if(null===c)return c;switch(b){case"bigint":return BigInt(c);case"bytes":{let{buffer:a,byteOffset:b,byteLength:d}=A.from(c,"base64");return new Uint8Array(a,b,d)}case"decimal":return new ap(c);case"datetime":case"date":return new Date(c);case"time":return new Date(`1970-01-01T${c}Z`);case"bigint-array":return c.map(b=>a("bigint",b));case"bytes-array":return c.map(b=>a("bytes",b));case"decimal-array":return c.map(b=>a("decimal",b));case"datetime-array":return c.map(b=>a("datetime",b));case"date-array":return c.map(b=>a("date",b));case"time-array":return c.map(b=>a("time",b));default:return c}}(a.types[b],e[b]);b.push(f)}return b}G(),H(),I(),J(),K(),ar(),ar();var eo=br("prisma:client:request_handler"),ep=class{client;dataloader;logEmitter;constructor(a,b){this.logEmitter=b,this.client=a,this.dataloader=new em({batchLoader:function(a){return b=>{let c={requests:b},d=b[0].extensions.getAllBatchQueryCallbacks();return d.length?function a(b,c,d,e){if(d===c.length)return e(b);let f=b.customDataProxyFetch,g=b.requests[0].transaction;return c[d]({args:{queries:b.requests.map(a=>({model:a.modelName,operation:a.action,args:a.args})),transaction:g?{isolationLevel:"batch"===g.kind?g.isolationLevel:void 0}:void 0},__internalParams:b,query(g,h=b){let i=h.customDataProxyFetch;return h.customDataProxyFetch=dK(f,i),a(h,c,d+1,e)}})}(c,d,0,a):a(c)}}(async({requests:a,customDataProxyFetch:b})=>{let{transaction:c,otelParentCtx:d}=a[0],e=a.map(a=>a.protocolQuery),f=this.client._tracingHelper.getTraceParent(d),g=a.some(a=>el[a.protocolQuery.action]);return(await this.client._engine.requestBatch(e,{traceparent:f,transaction:function(a){if(a){if("batch"===a.kind)return{kind:"batch",options:{isolationLevel:a.isolationLevel}};if("itx"===a.kind)return{kind:"itx",options:eq(a)};bL(a,"Unknown transaction kind")}}(c),containsWrite:g,customDataProxyFetch:b})).map((b,c)=>{if(b instanceof Error)return b;try{return this.mapQueryEngineResult(a[c],b)}catch(a){return a}})}),singleLoader:async a=>{let b=a.transaction?.kind==="itx"?eq(a.transaction):void 0,c=await this.client._engine.request(a.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:b,isWrite:el[a.protocolQuery.action],customDataProxyFetch:a.customDataProxyFetch});return this.mapQueryEngineResult(a,c)},batchBy:a=>a.transaction?.id?`transaction-${a.transaction.id}`:function(a){if("findUnique"!==a.action&&"findUniqueOrThrow"!==a.action)return;let b=[];return a.modelName&&b.push(a.modelName),a.query.arguments&&b.push(ek(a.query.arguments)),b.push(ek(a.query.selection)),b.join("")}(a.protocolQuery),batchOrder:(a,b)=>a.transaction?.kind==="batch"&&b.transaction?.kind==="batch"?a.transaction.index-b.transaction.index:0})}async request(a){try{return await this.dataloader.request(a)}catch(g){let{clientMethod:b,callsite:c,transaction:d,args:e,modelName:f}=a;this.handleAndLogRequestError({error:g,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:a.globalOmit})}}mapQueryEngineResult({dataPath:a,unpacker:b},c){let d=c?.data,e=this.unpack(d,a,b);return C.env.PRISMA_CLIENT_GET_TIME?{data:e}:e}handleAndLogRequestError(a){try{this.handleRequestError(a)}catch(b){throw this.logEmitter&&this.logEmitter.emit("error",{message:b.message,target:a.clientMethod,timestamp:new Date}),b}}handleRequestError({error:a,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:g}){var h,i,j;if(eo(a),h=a,i=d,ej(h)&&i?.kind==="batch"&&h.batchRequestIdx!==i.index)throw a;a instanceof bS&&("P2009"===(j=a).code||"P2012"===j.code)&&cL({args:e,errors:[function a(b){if("Union"===b.kind)return{kind:"Union",errors:b.errors.map(a)};if(Array.isArray(b.selectionPath)){let[,...a]=b.selectionPath;return{...b,selectionPath:a}}return b}(a.meta)],callsite:c,errorFormat:this.client._errorFormat,originalMethod:b,clientVersion:this.client._clientVersion,globalOmit:g});let k=a.message;if(c&&(k=b7({callsite:c,originalMethod:b,isPanic:a.isPanic,showColors:"pretty"===this.client._errorFormat,message:k})),k=this.sanitizeMessage(k),a.code){let b=f?{modelName:f,...a.meta}:a.meta;throw new bS(k,{code:a.code,clientVersion:this.client._clientVersion,meta:b,batchRequestIdx:a.batchRequestIdx})}if(a.isPanic)throw new bT(k,this.client._clientVersion);if(a instanceof bU)throw new bU(k,{clientVersion:this.client._clientVersion,batchRequestIdx:a.batchRequestIdx});if(a instanceof bR)throw new bR(k,this.client._clientVersion);if(a instanceof bT)throw new bT(k,this.client._clientVersion);throw a.clientVersion=this.client._clientVersion,a}sanitizeMessage(a){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?function(a){if("string"!=typeof a)throw TypeError(`Expected a \`string\`, got \`${typeof a}\``);return a.replace(bM,"")}(a):a}unpack(a,b,c){if(!a||(a.data&&(a=a.data),!a))return a;let d=Object.keys(a)[0],e=dy(Object.values(a)[0],b.filter(a=>"select"!==a&&"include"!==a)),f="queryRaw"===d?en(e):dN(e);return c?c(f):f}get[Symbol.toStringTag](){return"RequestHandler"}};function eq(a){return{id:a.id,payload:a.payload}}G(),H(),I(),J(),K(),ar(),G(),H(),I(),J(),K(),ar();var er=l(aW());G(),H(),I(),J(),K(),ar();var es=class extends Error{constructor(a){super(a+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};bO(es,"PrismaClientConstructorValidationError");var et=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],eu=["pretty","colorless","minimal"],ev=["info","query","warn","error"],ew={datasources:(a,{datasourceNames:b})=>{if(a){if("object"!=typeof a||Array.isArray(a))throw new es(`Invalid value ${JSON.stringify(a)} for "datasources" provided to PrismaClient constructor`);for(let[c,d]of Object.entries(a)){if(!b.includes(c)){let a=ex(c,b)||` Available datasources: ${b.join(", ")}`;throw new es(`Unknown datasource ${c} provided to PrismaClient constructor.${a}`)}if("object"!=typeof d||Array.isArray(d))throw new es(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(d&&"object"==typeof d)for(let[b,e]of Object.entries(d)){if("url"!==b)throw new es(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof e)throw new es(`Invalid value ${JSON.stringify(e)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(a,b)=>{if(!a&&"client"===bt(b.generator))throw new es('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==a){if(void 0===a)throw new es('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if("binary"===bt(b.generator))throw new es('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:a=>{if("u">typeof a&&"string"!=typeof a)throw new es(`Invalid value ${JSON.stringify(a)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:a=>{if(a){if("string"!=typeof a)throw new es(`Invalid value ${JSON.stringify(a)} for "errorFormat" provided to PrismaClient constructor.`);if(!eu.includes(a)){let b=ex(a,eu);throw new es(`Invalid errorFormat ${a} provided to PrismaClient constructor.${b}`)}}},log:a=>{if(a){if(!Array.isArray(a))throw new es(`Invalid value ${JSON.stringify(a)} for "log" provided to PrismaClient constructor.`);for(let c of a){b(c);let a={level:b,emit:a=>{let b=["stdout","event"];if(!b.includes(a)){let c=ex(a,b);throw new es(`Invalid value ${JSON.stringify(a)} for "emit" in logLevel provided to PrismaClient constructor.${c}`)}}};if(c&&"object"==typeof c)for(let[b,d]of Object.entries(c))if(a[b])a[b](d);else throw new es(`Invalid property ${b} for "log" provided to PrismaClient constructor`)}}function b(a){if("string"==typeof a&&!ev.includes(a)){let b=ex(a,ev);throw new es(`Invalid log level "${a}" provided to PrismaClient constructor.${b}`)}}},transactionOptions:a=>{if(!a)return;let b=a.maxWait;if(null!=b&&b<=0)throw new es(`Invalid value ${b} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let c=a.timeout;if(null!=c&&c<=0)throw new es(`Invalid value ${c} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(a,b)=>{if("object"!=typeof a)throw new es('"omit" option is expected to be an object.');if(null===a)throw new es('"omit" option can not be `null`');let c=[];for(let[d,e]of Object.entries(a)){let a=function(a,b){return ey(b.models,a)??ey(b.types,a)}(d,b.runtimeDataModel);if(!a){c.push({kind:"UnknownModel",modelKey:d});continue}for(let[b,f]of Object.entries(e)){let e=a.fields.find(a=>a.name===b);if(!e){c.push({kind:"UnknownField",modelKey:d,fieldName:b});continue}if(e.relationName){c.push({kind:"RelationInOmit",modelKey:d,fieldName:b});continue}"boolean"!=typeof f&&c.push({kind:"InvalidFieldValue",modelKey:d,fieldName:b})}}if(c.length>0)throw new es(function(a,b){let c=cI(a);for(let a of b)switch(a.kind){case"UnknownModel":c.arguments.getField(a.modelKey)?.markAsError(),c.addErrorMessage(()=>`Unknown model name: ${a.modelKey}.`);break;case"UnknownField":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>`Model "${a.modelKey}" does not have a field named "${a.fieldName}".`);break;case"RelationInOmit":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":c.arguments.getDeepFieldValue([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:d,args:e}=cK(c,"colorless");return`Error validating "omit" option:

${e}

${d}`}(a,c))},__internal:a=>{if(!a)return;let b=["debug","engine","configOverride"];if("object"!=typeof a)throw new es(`Invalid value ${JSON.stringify(a)} for "__internal" to PrismaClient constructor`);for(let[c]of Object.entries(a))if(!b.includes(c)){let a=ex(c,b);throw new es(`Invalid property ${JSON.stringify(c)} for "__internal" provided to PrismaClient constructor.${a}`)}}};function ex(a,b){if(0===b.length||"string"!=typeof a)return"";let c=function(a,b){if(0===b.length)return null;let c=b.map(b=>({value:b,distance:(0,er.default)(a,b)}));c.sort((a,b)=>a.distance<b.distance?-1:1);let d=c[0];return d.distance<3?d.value:null}(a,b);return c?` Did you mean "${c}"?`:""}function ey(a,b){let c=Object.keys(a).find(a=>bX(a)===b);if(c)return a[c]}G(),H(),I(),J(),K(),ar();var ez=br("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var eA={requestArgsToMiddlewareArgs:a=>a,middlewareArgsToRequestArgs:a=>a},eB=Symbol.for("prisma.client.transaction.id"),eC={id:0,nextId(){return++this.id}};function eD(a){class b{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=ee();constructor(b){let c;(function({postinstall:a,ciName:b,clientVersion:c,generator:d}){if(dL("checkPlatformCaching:postinstall",a),dL("checkPlatformCaching:ciName",b),!0===a&&!(d?.output&&"string"==typeof(d.output.fromEnvVar??d.output.value))&&b&&b in dM){let a=`Prisma has detected that this project was built on ${b}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${dM[b]}-build`;throw console.error(a),new bR(a,c)}})(a=b?.__internal?.configOverride?.(a)??a),b&&function(a,b){for(let[c,d]of Object.entries(a)){if(!et.includes(c)){let a=ex(c,et);throw new es(`Unknown property ${c} provided to PrismaClient constructor.${a}`)}ew[c](d,b)}if(a.datasourceUrl&&a.datasources)throw new es('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(b,a);let d=new aT().on("error",()=>{});if(this._extensions=cP.empty(),this._previewFeatures=function({generator:a}){return a?.previewFeatures??[]}(a),this._clientVersion=a.clientVersion??"6.17.1",this._activeProvider=a.activeProvider,this._globalOmit=b?.omit,this._tracingHelper=new ei,a.relativeEnvPaths&&(a.relativeEnvPaths.rootEnvPath&&aS.resolve(a.dirname,a.relativeEnvPaths.rootEnvPath),a.relativeEnvPaths.schemaEnvPath&&aS.resolve(a.dirname,a.relativeEnvPaths.schemaEnvPath)),b?.adapter){c=b.adapter;let d="postgresql"===a.activeProvider||"cockroachdb"===a.activeProvider?"postgres":a.activeProvider;if(c.provider!==d)throw new bR(`The Driver Adapter \`${c.adapterName}\`, based on \`${c.provider}\`, is not compatible with the provider \`${d}\` specified in the Prisma schema.`,this._clientVersion);if(b.datasources||void 0!==b.datasourceUrl)throw new bR("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let e=a.injectableEdgeEnv?.();try{let f=b??{},g=f.__internal??{},h=!0===g.debug;h&&br.enable("prisma:client");let i=aS.resolve(a.dirname,a.relativePath);aJ.existsSync(i)||(i=a.dirname),ez("dirname",a.dirname),ez("relativePath",a.relativePath),ez("cwd",i);let j=g.engine||{};if(f.errorFormat?this._errorFormat=f.errorFormat:"production"===C.env.NODE_ENV?this._errorFormat="minimal":(C.env.NO_COLOR,this._errorFormat="colorless"),this._runtimeDataModel=a.runtimeDataModel,this._engineConfig={cwd:i,dirname:a.dirname,enableDebugLogs:h,allowTriggerPanic:j.allowTriggerPanic,prismaPath:j.binaryPath??void 0,engineEndpoint:j.endpoint,generator:a.generator,showColors:"pretty"===this._errorFormat,logLevel:f.log&&function(a){return"string"==typeof a?a:a.reduce((a,b)=>{let c="string"==typeof b?b:b.level;return"query"===c?a:a&&("info"===b||"info"===a)?"info":c},void 0)}(f.log),logQueries:f.log&&!!("string"==typeof f.log?"query"===f.log:f.log.find(a=>"string"==typeof a?"query"===a:"query"===a.level)),env:e?.parsed??{},flags:[],engineWasm:a.engineWasm,compilerWasm:a.compilerWasm,clientVersion:a.clientVersion,engineVersion:a.engineVersion,previewFeatures:this._previewFeatures,activeProvider:a.activeProvider,inlineSchema:a.inlineSchema,overrideDatasources:function(a,b){return a?a.datasources?a.datasources:a.datasourceUrl?{[b[0]]:{url:a.datasourceUrl}}:{}:{}}(f,a.datasourceNames),inlineDatasources:a.inlineDatasources,inlineSchemaHash:a.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:f.transactionOptions?.maxWait??2e3,timeout:f.transactionOptions?.timeout??5e3,isolationLevel:f.transactionOptions?.isolationLevel},logEmitter:d,isBundled:a.isBundled,adapter:c},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:dW,getBatchRequestPayload:dn,prismaGraphQLToJSError:dp,PrismaClientUnknownRequestError:bU,PrismaClientInitializationError:bR,PrismaClientKnownRequestError:bS,debug:br("prisma:client:accelerateEngine"),engineVersion:c8.version,clientVersion:a.clientVersion}},ez("clientVersion",a.clientVersion),this._engine=function({copyEngine:a=!0},b){let c;try{c=dW({inlineDatasources:b.inlineDatasources,overrideDatasources:b.overrideDatasources,env:{...b.env,...C.env},clientVersion:b.clientVersion})}catch{}let{ok:d,isUsing:e,diagnostics:f}=function({url:a,adapter:b,copyEngine:c,targetBuildType:d}){let e=[],f=[],g=a=>{let b=a.join(`
`);f.push({_tag:"error",value:b})},h=!!a?.startsWith("prisma://"),i=a?.toString().startsWith("prisma+postgres://")??!1,j=!!b,k=h||i;!j&&c&&k&&"client"!==d&&"wasm-compiler-edge"!==d&&e.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let l=k||!c;j&&(l||"edge"===d)&&("edge"===d?g(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):k?g(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):c||g(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let m={accelerate:l,ppg:i,driverAdapters:j};return f.length>0?{ok:!1,diagnostics:{warnings:e,errors:f},isUsing:m}:{ok:!0,diagnostics:{warnings:e},isUsing:m}}({url:c,adapter:b.adapter,copyEngine:a,targetBuildType:"wasm-engine-edge"});for(let a of f.warnings)bQ(...a.value);if(!d)throw new bV(f.errors[0].value,{clientVersion:b.clientVersion});return bt(b.generator),(e.accelerate||e.ppg)&&e.driverAdapters,e.accelerate,e.driverAdapters?new d_(b):e.accelerate?new d1(b):new d2({clientVersion:b.clientVersion})}(a,this._engineConfig),this._requestHandler=new ep(this,d),f.log)for(let a of f.log){let b="string"==typeof a?a:"stdout"===a.emit?a.level:null;b&&this.$on(b,a=>{bC.log(`${bC.tags[b]??""}`,a.message||a.query)})}}catch(a){throw a.clientVersion=this._clientVersion,a}return this._appliedParent=dD(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(a,b){return"beforeExit"===a?this._engine.onBeforeExit(b):a&&this._engineConfig.logEmitter.on(a,b),this}$connect(){try{return this._engine.start()}catch(a){throw a.clientVersion=this._clientVersion,a}}async $disconnect(){try{await this._engine.stop()}catch(a){throw a.clientVersion=this._clientVersion,a}finally{bm.length=0}}$executeRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"executeRaw",args:c,transaction:a,clientMethod:b,argsMapper:eb({clientMethod:b,activeProvider:e}),callsite:dr(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$executeRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql){let[d,e]=eE(a,b);return ea(this._activeProvider,d.text,d.values,Array.isArray(a)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(c,"$executeRaw",d,e)}throw new bV("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(a,...b){return this._createPrismaPromise(c=>(ea(this._activeProvider,a,b,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(c,"$executeRawUnsafe",[a,...b])))}$runCommandRaw(b){if("mongodb"!==a.activeProvider)throw new bV(`The ${a.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(a=>this._request({args:b,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:d3,callsite:dr(this._errorFormat),transaction:a}))}async $queryRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"queryRaw",args:c,transaction:a,clientMethod:b,argsMapper:eb({clientMethod:b,activeProvider:e}),callsite:dr(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$queryRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql)return this.$queryRawInternal(c,"$queryRaw",...eE(a,b));throw new bV("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(a){return this._createPrismaPromise(b=>{if(!this._hasPreviewFlag("typedSql"))throw new bV("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(b,"$queryRawTyped",a)})}$queryRawUnsafe(a,...b){return this._createPrismaPromise(c=>this.$queryRawInternal(c,"$queryRawUnsafe",[a,...b]))}_transactionWithArray({promises:a,options:b}){var c;let d=eC.nextId(),e=function(a,b=()=>{}){let c,d=new Promise(a=>c=a);return{then:e=>(0==--a&&c(b()),e?.(d))}}(a.length);return 0===(c=a.map((a,c)=>{if(a?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let f=b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return a.requestTransaction?.({kind:"batch",id:d,index:c,isolationLevel:f,lock:e})??a})).length?Promise.resolve([]):new Promise((a,b)=>{let d=Array(c.length),e=null,f=!1,g=0,h=()=>{f||++g===c.length&&(f=!0,e?b(e):a(d))},i=a=>{f||(f=!0,b(a))};for(let a=0;a<c.length;a++)c[a].then(b=>{d[a]=b,h()},b=>{if(!ej(b))return void i(b);b.batchRequestIdx===a?i(b):(e||(e=b),h())})})}async _transactionWithCallback({callback:a,options:b}){let c={traceparent:this._tracingHelper.getTraceParent()},d={maxWait:b?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:b?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},e=await this._engine.transaction("start",c,d),f;try{let b={kind:"itx",...e};f=await a(this._createItxClient(b)),await this._engine.transaction("commit",c,e)}catch(a){throw await this._engine.transaction("rollback",c,e).catch(()=>{}),a}return f}_createItxClient(a){return dk(dD(dk(this[dC]?this[dC]:this,[df("_appliedParent",()=>this._appliedParent._createItxClient(a)),df("_createPrismaPromise",()=>ee(a)),df(eB,()=>a.id)])),[dm(dH)])}$transaction(a,b){let c;return c="function"==typeof a?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:a,options:b}):()=>this._transactionWithArray({promises:a,options:b}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},c)}_request(a){a.otelParentCtx=this._tracingHelper.getActiveContext();let b=a.middlewareArgsMapper??eA,c={args:b.requestArgsToMiddlewareArgs(a.args),dataPath:a.dataPath,runInTransaction:!!a.transaction,action:a.action,model:a.model},d={operation:{name:"operation",attributes:{method:c.action,model:c.model,name:c.model?`${c.model}.${c.action}`:c.action}}},e=async c=>{let{runInTransaction:d,args:e,...f}=c,g={...a,...f};e&&(g.args=b.middlewareArgsToRequestArgs(e)),void 0!==a.transaction&&!1===d&&delete g.transaction;let h=await function(a,b){let{jsModelName:c,action:d,clientMethod:e}=b;if(a._extensions.isEmpty())return a._executeRequest(b);let f=a._extensions.getAllQueryCallbacks(c??"$none",c?d:e);return function a(b,c,d,e=0){return b._createPrismaPromise(f=>{let g=c.customDataProxyFetch;return"transaction"in c&&void 0!==f&&(c.transaction?.kind==="batch"&&c.transaction.lock.then(),c.transaction=f),e===d.length?b._executeRequest(c):d[e]({model:c.model,operation:c.model?c.action:c.clientMethod,args:function(a){var b,c;if(a instanceof c9){return new c9((b=a).strings,b.values)}if(c7(a)){return new c5((c=a).sql,c.values)}if(Array.isArray(a)){let b=[a[0]];for(let c=1;c<a.length;c++)b[c]=dI(a[c]);return b}let d={};for(let b in a)d[b]=dI(a[b]);return d}(c.args??{}),__internalParams:c,query:(f,h=c)=>{let i=h.customDataProxyFetch;return h.customDataProxyFetch=dK(g,i),h.args=f,a(b,h,d,e+1)}})})}(a,b,f)}(this,g);return g.model?function({result:a,modelName:b,args:c,extensions:d,runtimeDataModel:e,globalOmit:f}){return d.isEmpty()||null==a||"object"!=typeof a||!e.models[b]?a:dF({result:a,args:c??{},modelName:b,runtimeDataModel:e,visitor:(a,b,c)=>{let e=cM(b);return function({result:a,modelName:b,select:c,omit:d,extensions:e}){let f=e.getAllComputedFields(b);if(!f)return a;let g=[],h=[];for(let b of Object.values(f)){if(d){if(d[b.name])continue;let a=b.needs.filter(a=>d[a]);a.length>0&&h.push(dm(a))}else if(c){if(!c[b.name])continue;let a=b.needs.filter(a=>!c[a]);a.length>0&&h.push(dm(a))}(function(a,b){return b.every(b=>Object.prototype.hasOwnProperty.call(a,b))})(a,b.needs)&&g.push(function(a,b){return dg(df(a.name,()=>a.compute(b)))}(b,dk(a,g)))}return g.length>0||h.length>0?dk(a,[...g,...h]):a}({result:a,modelName:e,select:c.select,omit:c.select?void 0:{...f?.[e],...c.omit},extensions:d})}})}({result:h,modelName:g.model,args:g.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(d.operation,()=>e(c))}async _executeRequest({args:a,clientMethod:b,dataPath:c,callsite:d,action:e,model:f,argsMapper:g,transaction:h,unpacker:i,otelParentCtx:j,customDataProxyFetch:k}){try{a=g?g(a):a;let l=this._tracingHelper.runInChildSpan({name:"serialize"},()=>cY({modelName:f,runtimeDataModel:this._runtimeDataModel,action:e,args:a,clientMethod:b,callsite:d,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return br.enabled("prisma:client")&&(ez("Prisma Client call:"),ez(`prisma.${b}(${function(a){if(void 0===a)return"";let b=cI(a);return new cc(0,{colors:cf}).write(b).toString()}(a)})`),ez("Generated request:"),ez(JSON.stringify(l,null,2)+`
`)),h?.kind==="batch"&&await h.lock,this._requestHandler.request({protocolQuery:l,modelName:f,action:e,clientMethod:b,dataPath:c,callsite:d,args:a,extensions:this._extensions,transaction:h,unpacker:i,otelParentCtx:j,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:k})}catch(a){throw a.clientVersion=this._clientVersion,a}}$metrics=new c1(this);_hasPreviewFlag(a){return!!this._engineConfig.previewFeatures?.includes(a)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=dE}return b}function eE(a,b){var c;return Array.isArray(c=a)&&Array.isArray(c.raw)?[new c9(a,b),ec]:[a,ed]}G(),H(),I(),J(),K(),ar();var eF=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function eG(a){return new Proxy(a,{get(a,b){if(b in a)return a[b];if(!eF.has(b))throw TypeError(`Invalid enum value: ${String(b)}`)}})}G(),H(),I(),J(),K(),ar(),ar()}},a=>{var b=a(a.s=780);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_middleware=b}]);
//# sourceMappingURL=middleware.js.map